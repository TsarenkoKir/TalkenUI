(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{3019:function(t,e,r){var s="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,r){t!=Array.prototype&&t!=Object.prototype&&(t[e]=r.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof r.g&&null!=r.g?r.g:this;function i(){i=function(){},n.Symbol||(n.Symbol=a)}function o(t,e){this.a=t,s(this,"description",{configurable:!0,writable:!0,value:e})}o.prototype.toString=function(){return this.a};var a=function(){var t=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new o("jscomp_symbol_"+(r||"")+"_"+t++,r)}}();function u(){i();var t=n.Symbol.iterator;t||(t=n.Symbol.iterator=n.Symbol("Symbol.iterator")),"function"!=typeof Array.prototype[t]&&s(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return function(t){return u(),(t={next:t})[n.Symbol.iterator]=function(){return this},t}(function(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}(this))}}),u=function(){}}!function(t,e){if(e){var r=n;t=t.split(".");for(var i=0;i<t.length-1;i++){var o=t[i];o in r||(r[o]={}),r=r[o]}(e=e(i=r[t=t[t.length-1]]))!=i&&null!=e&&s(r,t,{configurable:!0,writable:!0,value:e})}}("Array.prototype.entries",(function(t){return t||function(){return function(t,e){u(),t instanceof String&&(t+="");var r=0,s={next:function(){if(r<t.length){var n=r++;return{value:e(n,t[n]),done:!1}}return s.next=function(){return{done:!0,value:void 0}},s.next()}};return s[Symbol.iterator]=function(){return s},s}(this,(function(t,e){return[t,e]}))}}));var h=this||self;function l(t,e,r){t=t.split("."),r=r||h,t[0]in r||"undefined"==typeof r.execScript||r.execScript("var "+t[0]);for(var s;t.length&&(s=t.shift());)t.length||void 0===e?r=r[s]&&r[s]!==Object.prototype[s]?r[s]:r[s]={}:r[s]=e}function c(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var r=Object.prototype.toString.call(t);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");var f=Array.prototype.forEach?function(t,e){Array.prototype.forEach.call(t,e,void 0)}:function(t,e){for(var r=t.length,s="string"===typeof t?t.split(""):t,n=0;n<r;n++)n in s&&e.call(void 0,s[n],n,t)},g=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var r=t.length,s=Array(r),n="string"===typeof t?t.split(""):t,i=0;i<r;i++)i in n&&(s[i]=e.call(void 0,n[i],i,t));return s};function y(t,e,r){return 2>=arguments.length?Array.prototype.slice.call(t,e):Array.prototype.slice.call(t,e,r)}function m(t,e,r,s){var n="Assertion failed";if(r){n+=": "+r;var i=s}else t&&(n+=": "+t,i=e);throw Error(n,i||[])}function _(t,e,r){for(var s=[],n=2;n<arguments.length;++n)s[n-2]=arguments[n];return t||m("",null,e,s),t}function b(t,e){for(var r=[],s=1;s<arguments.length;++s)r[s-1]=arguments[s];throw Error("Failure"+(t?": "+t:""),r)}function w(t,e,r,s){for(var n=[],i=3;i<arguments.length;++i)n[i-3]=arguments[i];t instanceof e||m("Expected instanceof %s but got %s.",[v(e),v(t)],r,n)}function v(t){return t instanceof Function?t.displayName||t.name||"unknown type name":t instanceof Object?t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t):null===t?"null":typeof t}function x(t,e){if(this.c=t,this.b=e,this.a={},this.arrClean=!0,0<this.c.length){for(t=0;t<this.c.length;t++){var r=(e=this.c[t])[0];this.a[r.toString()]=new M(r,e[1])}this.arrClean=!0}}function k(t){this.a=0,this.b=t}function O(t,e){return t.b?(e.a||(e.a=new t.b(e.value)),e.a):e.value}function E(t){t=t.a;var e,r=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.push(e);return r}function M(t,e){this.key=t,this.value=e,this.a=void 0}function A(t){if(8192>=t.length)return String.fromCharCode.apply(null,t);for(var e="",r=0;r<t.length;r+=8192)e+=String.fromCharCode.apply(null,y(t,r,r+8192));return e}l("jspb.Map",x,void 0),x.prototype.g=function(){if(this.arrClean){if(this.b){var t,e=this.a;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var r=e[t].a;r&&r.g()}}}else{for(this.c.length=0,(e=E(this)).sort(),t=0;t<e.length;t++){var s=this.a[e[t]];(r=s.a)&&r.g(),this.c.push([s.key,s.value])}this.arrClean=!0}return this.c},x.prototype.toArray=x.prototype.g,x.prototype.Mc=function(t,e){for(var r=this.g(),s=[],n=0;n<r.length;n++){var i=this.a[r[n][0].toString()];O(this,i);var o=i.a;o?(_(e),s.push([i.key,e(t,o)])):s.push([i.key,i.value])}return s},x.prototype.toObject=x.prototype.Mc,x.fromObject=function(t,e,r){e=new x([],e);for(var s=0;s<t.length;s++){var n=t[s][0],i=r(t[s][1]);e.set(n,i)}return e},k.prototype.next=function(){return this.a<this.b.length?{done:!1,value:this.b[this.a++]}:{done:!0,value:void 0}},"undefined"!=typeof Symbol&&(k.prototype[Symbol.iterator]=function(){return this}),x.prototype.Jb=function(){return E(this).length},x.prototype.getLength=x.prototype.Jb,x.prototype.clear=function(){this.a={},this.arrClean=!1},x.prototype.clear=x.prototype.clear,x.prototype.Cb=function(t){t=t.toString();var e=this.a.hasOwnProperty(t);return delete this.a[t],this.arrClean=!1,e},x.prototype.del=x.prototype.Cb,x.prototype.Eb=function(){var t=[],e=E(this);e.sort();for(var r=0;r<e.length;r++){var s=this.a[e[r]];t.push([s.key,s.value])}return t},x.prototype.getEntryList=x.prototype.Eb,x.prototype.entries=function(){var t=[],e=E(this);e.sort();for(var r=0;r<e.length;r++){var s=this.a[e[r]];t.push([s.key,O(this,s)])}return new k(t)},x.prototype.entries=x.prototype.entries,x.prototype.keys=function(){var t=[],e=E(this);e.sort();for(var r=0;r<e.length;r++)t.push(this.a[e[r]].key);return new k(t)},x.prototype.keys=x.prototype.keys,x.prototype.values=function(){var t=[],e=E(this);e.sort();for(var r=0;r<e.length;r++)t.push(O(this,this.a[e[r]]));return new k(t)},x.prototype.values=x.prototype.values,x.prototype.forEach=function(t,e){var r=E(this);r.sort();for(var s=0;s<r.length;s++){var n=this.a[r[s]];t.call(e,O(this,n),n.key,this)}},x.prototype.forEach=x.prototype.forEach,x.prototype.set=function(t,e){var r=new M(t);return this.b?(r.a=e,r.value=e.g()):r.value=e,this.a[t.toString()]=r,this.arrClean=!1,this},x.prototype.set=x.prototype.set,x.prototype.get=function(t){if(t=this.a[t.toString()])return O(this,t)},x.prototype.get=x.prototype.get,x.prototype.has=function(t){return t.toString()in this.a},x.prototype.has=x.prototype.has,x.prototype.Jc=function(t,e,r,s,n){var i=E(this);i.sort();for(var o=0;o<i.length;o++){var a=this.a[i[o]];e.Va(t),r.call(e,1,a.key),this.b?s.call(e,2,O(this,a),n):s.call(e,2,a.value),e.Ya()}},x.prototype.serializeBinary=x.prototype.Jc,x.deserializeBinary=function(t,e,r,s,n,i,o){for(;e.oa()&&!e.bb();){var a=e.c;1==a?i=r.call(e):2==a&&(t.b?(_(n),o||(o=new t.b),s.call(e,o,n)):o=s.call(e))}_(void 0!=i),_(void 0!=o),t.set(i,o)};var F={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},B={"'":"\\'"},T={},R=null;function P(t,e){void 0===e&&(e=0),j(),e=T[e];for(var r=[],s=0;s<t.length;s+=3){var n=t[s],i=s+1<t.length,o=i?t[s+1]:0,a=s+2<t.length,u=a?t[s+2]:0,h=n>>2;n=(3&n)<<4|o>>4,o=(15&o)<<2|u>>6,u&=63,a||(u=64,i||(o=64)),r.push(e[h],e[n],e[o]||"",e[u]||"")}return r.join("")}function S(t){var e=t.length,r=3*e/4;r%3?r=Math.floor(r):-1!="=.".indexOf(t[e-1])&&(r=-1!="=.".indexOf(t[e-2])?r-2:r-1);var s=new Uint8Array(r),n=0;return function(t,e){function r(e){for(;s<t.length;){var r=t.charAt(s++),n=R[r];if(null!=n)return n;if(!/^[\s\xa0]*$/.test(r))throw Error("Unknown base64 encoding at char: "+r)}return e}j();for(var s=0;;){var n=r(-1),i=r(0),o=r(64),a=r(64);if(64===a&&-1===n)break;e(n<<2|i>>4),64!=o&&(e(i<<4&240|o>>2),64!=a&&e(o<<6&192|a))}}(t,(function(t){s[n++]=t})),s.subarray(0,n)}function j(){if(!R){R={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++){var s=t.concat(e[r].split(""));T[r]=s;for(var n=0;n<s.length;n++){var i=s[n];void 0===R[i]&&(R[i]=n)}}}}l("jspb.ConstBinaryMessage",(function(){}),void 0),l("jspb.BinaryMessage",(function(){}),void 0),l("jspb.BinaryConstants.FieldType",{yb:-1,ee:1,FLOAT:2,ke:3,te:4,je:5,xb:6,wb:7,BOOL:8,re:9,ie:10,le:11,ce:12,se:13,ge:14,me:15,ne:16,oe:17,pe:18,he:30,ve:31},void 0),l("jspb.BinaryConstants.WireType",{yb:-1,ue:0,xb:1,de:2,qe:3,fe:4,wb:5},void 0),l("jspb.BinaryConstants.FieldTypeToWireType",(function(t){switch(t){case 5:case 3:case 13:case 4:case 17:case 18:case 8:case 14:case 31:return 0;case 1:case 6:case 16:case 30:return 1;case 9:case 11:case 12:return 2;case 2:case 7:case 15:return 5;default:return-1}}),void 0),l("jspb.BinaryConstants.INVALID_FIELD_NUMBER",-1,void 0),l("jspb.BinaryConstants.FLOAT32_EPS",1401298464324817e-60,void 0),l("jspb.BinaryConstants.FLOAT32_MIN",11754943508222875e-54,void 0),l("jspb.BinaryConstants.FLOAT32_MAX",34028234663852886e22,void 0),l("jspb.BinaryConstants.FLOAT64_EPS",5e-324,void 0),l("jspb.BinaryConstants.FLOAT64_MIN",22250738585072014e-324,void 0),l("jspb.BinaryConstants.FLOAT64_MAX",17976931348623157e292,void 0),l("jspb.BinaryConstants.TWO_TO_20",1048576,void 0),l("jspb.BinaryConstants.TWO_TO_23",8388608,void 0),l("jspb.BinaryConstants.TWO_TO_31",2147483648,void 0),l("jspb.BinaryConstants.TWO_TO_32",4294967296,void 0),l("jspb.BinaryConstants.TWO_TO_52",4503599627370496,void 0),l("jspb.BinaryConstants.TWO_TO_63",0x8000000000000000,void 0),l("jspb.BinaryConstants.TWO_TO_64",0x10000000000000000,void 0),l("jspb.BinaryConstants.ZERO_HASH","\0\0\0\0\0\0\0\0",void 0);var z=0,I=0;function N(t){var e=t>>>0;t=Math.floor((t-e)/4294967296)>>>0,z=e,I=t}function U(t){var e=0>t,r=(t=Math.abs(t))>>>0;t=Math.floor((t-r)/4294967296),t>>>=0,e&&(t=~t>>>0,4294967295<(r=1+(~r>>>0))&&(r=0,4294967295<++t&&(t=0))),z=r,I=t}function C(t){var e=0>t;N(t=2*Math.abs(t)),t=z;var r=I;e&&(0==t?0==r?r=t=4294967295:(r--,t=4294967295):t--),z=t,I=r}function L(t){var e=0>t?1:0;if(0===(t=e?-t:t))0<1/t?z=I=0:(I=0,z=2147483648);else if(isNaN(t))I=0,z=2147483647;else if(34028234663852886e22<t)I=0,z=(e<<31|2139095040)>>>0;else if(11754943508222875e-54>t)t=Math.round(t/Math.pow(2,-149)),I=0,z=(e<<31|t)>>>0;else{var r=Math.floor(Math.log(t)/Math.LN2);t*=Math.pow(2,-r),16777216<=(t=Math.round(8388608*t))&&++r,I=0,z=(e<<31|r+127<<23|8388607&t)>>>0}}function H(t){var e=0>t?1:0;if(0===(t=e?-t:t))I=0<1/t?0:2147483648,z=0;else if(isNaN(t))I=2147483647,z=4294967295;else if(17976931348623157e292<t)I=(e<<31|2146435072)>>>0,z=0;else if(22250738585072014e-324>t)t/=Math.pow(2,-1074),I=(e<<31|t/4294967296)>>>0,z=t>>>0;else{var r=t,s=0;if(2<=r)for(;2<=r&&1023>s;)s++,r/=2;else for(;1>r&&-1022<s;)r*=2,s--;t*=Math.pow(2,-s),I=(e<<31|s+1023<<20|1048576*t&1048575)>>>0,z=4503599627370496*t>>>0}}function W(t){var e=t.charCodeAt(4),r=t.charCodeAt(5),s=t.charCodeAt(6),n=t.charCodeAt(7);z=t.charCodeAt(0)+(t.charCodeAt(1)<<8)+(t.charCodeAt(2)<<16)+(t.charCodeAt(3)<<24)>>>0,I=e+(r<<8)+(s<<16)+(n<<24)>>>0}function D(t,e){return 4294967296*e+(t>>>0)}function q(t,e){var r=2147483648&e;return r&&(e=~e>>>0,0==(t=1+~t>>>0)&&(e=e+1>>>0)),t=D(t,e),r?-t:t}function $(t,e,r){var s=e>>31;return r(t<<1^s,(e<<1|t>>>31)^s)}function V(t,e){return G(t,e,q)}function G(t,e,r){var s=-(1&t);return r((t>>>1|e<<31)^s,e>>>1^s)}function J(t){var e=2*(t>>31)+1,r=t>>>23&255;return t&=8388607,255==r?t?NaN:1/0*e:0==r?e*Math.pow(2,-149)*t:e*Math.pow(2,r-150)*(t+Math.pow(2,23))}function K(t,e){var r=2*(e>>31)+1,s=e>>>20&2047;return t=4294967296*(1048575&e)+t,2047==s?t?NaN:1/0*r:0==s?r*Math.pow(2,-1074)*t:r*Math.pow(2,s-1075)*(t+4503599627370496)}function Z(t,e){return String.fromCharCode(t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255,e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255)}function Q(t,e){function r(t,e){return t=t?String(t):"",e?"0000000".slice(t.length)+t:t}if(2097151>=e)return""+D(t,e);var s=(t>>>24|e<<8)>>>0&16777215;return t=(16777215&t)+6777216*s+6710656*(e=e>>16&65535),s+=8147497*e,e*=2,1e7<=t&&(s+=Math.floor(t/1e7),t%=1e7),1e7<=s&&(e+=Math.floor(s/1e7),s%=1e7),r(e,0)+r(s,e)+r(t,1)}function Y(t,e){var r=2147483648&e;return r&&(e=~e+(0==(t=1+~t>>>0)?1:0)>>>0),t=Q(t,e),r?"-"+t:t}function X(t,e){W(t),t=z;var r=I;return e?Y(t,r):Q(t,r)}function tt(t){function e(t,e){for(var r=0;8>r&&(1!==t||0<e);r++)e=t*s[r]+e,s[r]=255&e,e>>>=8}_(0<t.length);var r=!1;"-"===t[0]&&(r=!0,t=t.slice(1));for(var s=[0,0,0,0,0,0,0,0],n=0;n<t.length;n++)e(10,t.charCodeAt(n)-48);return r&&(function(){for(var t=0;8>t;t++)s[t]=255&~s[t]}(),e(1,1)),A(s)}function et(t){return String.fromCharCode(10>t?48+t:87+t)}function rt(t){return 97<=t?t-97+10:t-48}function st(t,e,r,s,n){var i=0;if(128>s)for(;e<r&&t[e++]==s;)i++,e+=n;else for(;e<r;){for(var o=s;128<o;){if(t[e++]!=(127&o|128))return i;o>>=7}if(t[e++]!=o)break;i++,e+=n}return i}function nt(t){return t.constructor===Uint8Array?t:t.constructor===ArrayBuffer||t.constructor===Array?new Uint8Array(t):t.constructor===String?S(t):t instanceof Uint8Array?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):(b("Type not convertible to Uint8Array."),new Uint8Array(0))}function it(t,e,r){this.b=null,this.a=this.c=this.h=0,this.v=!1,t&&this.H(t,e,r)}l("jspb.utils.getSplit64Low",(function(){return z}),void 0),l("jspb.utils.getSplit64High",(function(){return I}),void 0),l("jspb.utils.splitUint64",N,void 0),l("jspb.utils.splitInt64",U,void 0),l("jspb.utils.splitZigzag64",C,void 0),l("jspb.utils.splitFloat32",L,void 0),l("jspb.utils.splitFloat64",H,void 0),l("jspb.utils.splitHash64",W,void 0),l("jspb.utils.joinUint64",D,void 0),l("jspb.utils.joinInt64",q,void 0),l("jspb.utils.toZigzag64",$,void 0),l("jspb.utils.joinZigzag64",V,void 0),l("jspb.utils.fromZigzag64",G,void 0),l("jspb.utils.joinFloat32",J,void 0),l("jspb.utils.joinFloat64",K,void 0),l("jspb.utils.joinHash64",Z,void 0),l("jspb.utils.DIGITS","0123456789abcdef".split(""),void 0),l("jspb.utils.joinUnsignedDecimalString",Q,void 0),l("jspb.utils.joinSignedDecimalString",Y,void 0),l("jspb.utils.hash64ToDecimalString",X,void 0),l("jspb.utils.hash64ArrayToDecimalStrings",(function(t,e){for(var r=Array(t.length),s=0;s<t.length;s++)r[s]=X(t[s],e);return r}),void 0),l("jspb.utils.decimalStringToHash64",tt,void 0),l("jspb.utils.splitDecimalString",(function(t){W(tt(t))}),void 0),l("jspb.utils.hash64ToHexString",(function(t){var e=Array(18);e[0]="0",e[1]="x";for(var r=0;8>r;r++){var s=t.charCodeAt(7-r);e[2*r+2]=et(s>>4),e[2*r+3]=et(15&s)}return e.join("")}),void 0),l("jspb.utils.hexStringToHash64",(function(t){_(18==(t=t.toLowerCase()).length),_("0"==t[0]),_("x"==t[1]);for(var e="",r=0;8>r;r++)e=String.fromCharCode(16*rt(t.charCodeAt(2*r+2))+rt(t.charCodeAt(2*r+3)))+e;return e}),void 0),l("jspb.utils.hash64ToNumber",(function(t,e){W(t),t=z;var r=I;return e?q(t,r):D(t,r)}),void 0),l("jspb.utils.numberToHash64",(function(t){return U(t),Z(z,I)}),void 0),l("jspb.utils.countVarints",(function(t,e,r){for(var s=0,n=e;n<r;n++)s+=t[n]>>7;return r-e-s}),void 0),l("jspb.utils.countVarintFields",(function(t,e,r,s){var n=0;if(128>(s*=8))for(;e<r&&t[e++]==s;)for(n++;;){var i=t[e++];if(0==(128&i))break}else for(;e<r;){for(i=s;128<i;){if(t[e]!=(127&i|128))return n;e++,i>>=7}if(t[e++]!=i)break;for(n++;0!=(128&(i=t[e++])););}return n}),void 0),l("jspb.utils.countFixed32Fields",(function(t,e,r,s){return st(t,e,r,8*s+5,4)}),void 0),l("jspb.utils.countFixed64Fields",(function(t,e,r,s){return st(t,e,r,8*s+1,8)}),void 0),l("jspb.utils.countDelimitedFields",(function(t,e,r,s){var n=0;for(s=8*s+2;e<r;){for(var i=s;128<i;){if(t[e++]!=(127&i|128))return n;i>>=7}if(t[e++]!=i)break;n++;for(var o=0,a=1;o+=(127&(i=t[e++]))*a,a*=128,0!=(128&i););e+=o}return n}),void 0),l("jspb.utils.debugBytesToTextFormat",(function(t){var e='"';if(t){t=nt(t);for(var r=0;r<t.length;r++)e+="\\x",16>t[r]&&(e+="0"),e+=t[r].toString(16)}return e+'"'}),void 0),l("jspb.utils.debugScalarToTextFormat",(function(t){if("string"===typeof t){t=String(t);for(var e=['"'],r=0;r<t.length;r++){var s,n=t.charAt(r),i=n.charCodeAt(0),o=r+1;(s=F[n])||(31<i&&127>i||((i=n)in B?n=B[i]:i in F?n=B[i]=F[i]:(31<(s=i.charCodeAt(0))&&127>s?n=i:(256>s?(n="\\x",(16>s||256<s)&&(n+="0")):(n="\\u",4096>s&&(n+="0")),n+=s.toString(16).toUpperCase()),n=B[i]=n)),s=n),e[o]=s}e.push('"'),t=e.join("")}else t=t.toString();return t}),void 0),l("jspb.utils.stringToByteArray",(function(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;r++){var s=t.charCodeAt(r);if(255<s)throw Error("Conversion error: string contains codepoint outside of byte range");e[r]=s}return e}),void 0),l("jspb.utils.byteSourceToUint8Array",nt,void 0),l("jspb.BinaryDecoder",it,void 0);var ot=[];function at(t,e,r){if(ot.length){var s=ot.pop();return t&&s.H(t,e,r),s}return new it(t,e,r)}function ut(t,e,r){this.a=at(t,e,r),this.O=this.a.B(),this.b=this.c=-1,this.h=!1,this.v=null}it.getInstanceCacheLength=function(){return ot.length},it.alloc=at,it.prototype.Ca=function(){this.clear(),100>ot.length&&ot.push(this)},it.prototype.free=it.prototype.Ca,it.prototype.clone=function(){return at(this.b,this.h,this.c-this.h)},it.prototype.clone=it.prototype.clone,it.prototype.clear=function(){this.b=null,this.a=this.c=this.h=0,this.v=!1},it.prototype.clear=it.prototype.clear,it.prototype.Y=function(){return this.b},it.prototype.getBuffer=it.prototype.Y,it.prototype.H=function(t,e,r){this.b=nt(t),this.h=void 0!==e?e:0,this.c=void 0!==r?this.h+r:this.b.length,this.a=this.h},it.prototype.setBlock=it.prototype.H,it.prototype.Db=function(){return this.c},it.prototype.getEnd=it.prototype.Db,it.prototype.setEnd=function(t){this.c=t},it.prototype.setEnd=it.prototype.setEnd,it.prototype.reset=function(){this.a=this.h},it.prototype.reset=it.prototype.reset,it.prototype.B=function(){return this.a},it.prototype.getCursor=it.prototype.B,it.prototype.Ma=function(t){this.a=t},it.prototype.setCursor=it.prototype.Ma,it.prototype.advance=function(t){this.a+=t,_(this.a<=this.c)},it.prototype.advance=it.prototype.advance,it.prototype.ya=function(){return this.a==this.c},it.prototype.atEnd=it.prototype.ya,it.prototype.Qb=function(){return this.a>this.c},it.prototype.pastEnd=it.prototype.Qb,it.prototype.getError=function(){return this.v||0>this.a||this.a>this.c},it.prototype.getError=it.prototype.getError,it.prototype.w=function(t){for(var e=128,r=0,s=0,n=0;4>n&&128<=e;n++)r|=(127&(e=this.b[this.a++]))<<7*n;if(128<=e&&(r|=(127&(e=this.b[this.a++]))<<28,s|=(127&e)>>4),128<=e)for(n=0;5>n&&128<=e;n++)s|=(127&(e=this.b[this.a++]))<<7*n+3;if(128>e)return t(r>>>0,s>>>0);b("Failed to read varint, encoding is invalid."),this.v=!0},it.prototype.readSplitVarint64=it.prototype.w,it.prototype.ea=function(t){return this.w((function(e,r){return G(e,r,t)}))},it.prototype.readSplitZigzagVarint64=it.prototype.ea,it.prototype.ta=function(t){var e=this.b,r=this.a;this.a+=8;for(var s=0,n=0,i=r+7;i>=r;i--)s=s<<8|e[i],n=n<<8|e[i+4];return t(s,n)},it.prototype.readSplitFixed64=it.prototype.ta,it.prototype.kb=function(){for(;128&this.b[this.a];)this.a++;this.a++},it.prototype.skipVarint=it.prototype.kb,it.prototype.mb=function(t){for(;128<t;)this.a--,t>>>=7;this.a--},it.prototype.unskipVarint=it.prototype.mb,it.prototype.o=function(){var t=this.b,e=t[this.a],r=127&e;return 128>e?(this.a+=1,_(this.a<=this.c),r):(r|=(127&(e=t[this.a+1]))<<7,128>e?(this.a+=2,_(this.a<=this.c),r):(r|=(127&(e=t[this.a+2]))<<14,128>e?(this.a+=3,_(this.a<=this.c),r):(r|=(127&(e=t[this.a+3]))<<21,128>e?(this.a+=4,_(this.a<=this.c),r):(r|=(15&(e=t[this.a+4]))<<28,128>e?(this.a+=5,_(this.a<=this.c),r>>>0):(this.a+=5,128<=t[this.a++]&&128<=t[this.a++]&&128<=t[this.a++]&&128<=t[this.a++]&&128<=t[this.a++]&&_(!1),_(this.a<=this.c),r)))))},it.prototype.readUnsignedVarint32=it.prototype.o,it.prototype.da=function(){return~~this.o()},it.prototype.readSignedVarint32=it.prototype.da,it.prototype.O=function(){return this.o().toString()},it.prototype.Ea=function(){return this.da().toString()},it.prototype.readSignedVarint32String=it.prototype.Ea,it.prototype.Ia=function(){var t=this.o();return t>>>1^-(1&t)},it.prototype.readZigzagVarint32=it.prototype.Ia,it.prototype.Ga=function(){return this.w(D)},it.prototype.readUnsignedVarint64=it.prototype.Ga,it.prototype.Ha=function(){return this.w(Q)},it.prototype.readUnsignedVarint64String=it.prototype.Ha,it.prototype.sa=function(){return this.w(q)},it.prototype.readSignedVarint64=it.prototype.sa,it.prototype.Fa=function(){return this.w(Y)},it.prototype.readSignedVarint64String=it.prototype.Fa,it.prototype.Ja=function(){return this.w(V)},it.prototype.readZigzagVarint64=it.prototype.Ja,it.prototype.fb=function(){return this.ea(Z)},it.prototype.readZigzagVarintHash64=it.prototype.fb,it.prototype.Ka=function(){return this.ea(Y)},it.prototype.readZigzagVarint64String=it.prototype.Ka,it.prototype.Gc=function(){var t=this.b[this.a];return this.a+=1,_(this.a<=this.c),t},it.prototype.readUint8=it.prototype.Gc,it.prototype.Ec=function(){var t=this.b[this.a],e=this.b[this.a+1];return this.a+=2,_(this.a<=this.c),t<<0|e<<8},it.prototype.readUint16=it.prototype.Ec,it.prototype.m=function(){var t=this.b[this.a],e=this.b[this.a+1],r=this.b[this.a+2],s=this.b[this.a+3];return this.a+=4,_(this.a<=this.c),(t<<0|e<<8|r<<16|s<<24)>>>0},it.prototype.readUint32=it.prototype.m,it.prototype.ga=function(){return D(this.m(),this.m())},it.prototype.readUint64=it.prototype.ga,it.prototype.ha=function(){return Q(this.m(),this.m())},it.prototype.readUint64String=it.prototype.ha,it.prototype.Xb=function(){var t=this.b[this.a];return this.a+=1,_(this.a<=this.c),t<<24>>24},it.prototype.readInt8=it.prototype.Xb,it.prototype.Vb=function(){var t=this.b[this.a],e=this.b[this.a+1];return this.a+=2,_(this.a<=this.c),(t<<0|e<<8)<<16>>16},it.prototype.readInt16=it.prototype.Vb,it.prototype.P=function(){var t=this.b[this.a],e=this.b[this.a+1],r=this.b[this.a+2],s=this.b[this.a+3];return this.a+=4,_(this.a<=this.c),t<<0|e<<8|r<<16|s<<24},it.prototype.readInt32=it.prototype.P,it.prototype.ba=function(){return q(this.m(),this.m())},it.prototype.readInt64=it.prototype.ba,it.prototype.ca=function(){return Y(this.m(),this.m())},it.prototype.readInt64String=it.prototype.ca,it.prototype.aa=function(){return J(this.m())},it.prototype.readFloat=it.prototype.aa,it.prototype.Z=function(){return K(this.m(),this.m())},it.prototype.readDouble=it.prototype.Z,it.prototype.pa=function(){return!!this.b[this.a++]},it.prototype.readBool=it.prototype.pa,it.prototype.ra=function(){return this.da()},it.prototype.readEnum=it.prototype.ra,it.prototype.fa=function(t){var e=this.b,r=this.a;t=r+t;for(var s=[],n="";r<t;){var i=e[r++];if(128>i)s.push(i);else{if(192>i)continue;if(224>i){var o=e[r++];s.push((31&i)<<6|63&o)}else if(240>i){o=e[r++];var a=e[r++];s.push((15&i)<<12|(63&o)<<6|63&a)}else if(248>i){i=(7&i)<<18|(63&(o=e[r++]))<<12|(63&(a=e[r++]))<<6|63&e[r++],i-=65536,s.push(55296+(i>>10&1023),56320+(1023&i))}}8192<=s.length&&(n+=String.fromCharCode.apply(null,s),s.length=0)}return n+=A(s),this.a=r,n},it.prototype.readString=it.prototype.fa,it.prototype.Dc=function(){var t=this.o();return this.fa(t)},it.prototype.readStringWithLength=it.prototype.Dc,it.prototype.qa=function(t){if(0>t||this.a+t>this.b.length)return this.v=!0,b("Invalid byte length!"),new Uint8Array(0);var e=this.b.subarray(this.a,this.a+t);return this.a+=t,_(this.a<=this.c),e},it.prototype.readBytes=it.prototype.qa,it.prototype.ia=function(){return this.w(Z)},it.prototype.readVarintHash64=it.prototype.ia,it.prototype.$=function(){var t=this.b,e=this.a,r=t[e],s=t[e+1],n=t[e+2],i=t[e+3],o=t[e+4],a=t[e+5],u=t[e+6];return t=t[e+7],this.a+=8,String.fromCharCode(r,s,n,i,o,a,u,t)},it.prototype.readFixedHash64=it.prototype.$,l("jspb.BinaryReader",ut,void 0);var ht=[];function lt(t,e,r){if(ht.length){var s=ht.pop();return t&&s.a.H(t,e,r),s}return new ut(t,e,r)}function ct(t,e){_(2==t.b);var r=t.a.o();r=t.a.B()+r;for(var s=[];t.a.B()<r;)s.push(e.call(t.a));return s}function pt(t,e,r,s,n){this.ma=t,this.Ba=e,this.la=r,this.Na=s,this.na=n}function dt(t,e,r,s,n,i){this.Za=t,this.za=e,this.Aa=r,this.Wa=s,this.Ab=n,this.Nb=i}function ft(){}ut.clearInstanceCache=function(){ht=[]},ut.getInstanceCacheLength=function(){return ht.length},ut.alloc=lt,ut.prototype.zb=lt,ut.prototype.alloc=ut.prototype.zb,ut.prototype.Ca=function(){this.a.clear(),this.b=this.c=-1,this.h=!1,this.v=null,100>ht.length&&ht.push(this)},ut.prototype.free=ut.prototype.Ca,ut.prototype.Fb=function(){return this.O},ut.prototype.getFieldCursor=ut.prototype.Fb,ut.prototype.B=function(){return this.a.B()},ut.prototype.getCursor=ut.prototype.B,ut.prototype.Y=function(){return this.a.Y()},ut.prototype.getBuffer=ut.prototype.Y,ut.prototype.Hb=function(){return this.c},ut.prototype.getFieldNumber=ut.prototype.Hb,ut.prototype.Lb=function(){return this.b},ut.prototype.getWireType=ut.prototype.Lb,ut.prototype.Mb=function(){return 2==this.b},ut.prototype.isDelimited=ut.prototype.Mb,ut.prototype.bb=function(){return 4==this.b},ut.prototype.isEndGroup=ut.prototype.bb,ut.prototype.getError=function(){return this.h||this.a.getError()},ut.prototype.getError=ut.prototype.getError,ut.prototype.H=function(t,e,r){this.a.H(t,e,r),this.b=this.c=-1},ut.prototype.setBlock=ut.prototype.H,ut.prototype.reset=function(){this.a.reset(),this.b=this.c=-1},ut.prototype.reset=ut.prototype.reset,ut.prototype.advance=function(t){this.a.advance(t)},ut.prototype.advance=ut.prototype.advance,ut.prototype.oa=function(){if(this.a.ya())return!1;if(this.getError())return b("Decoder hit an error"),!1;this.O=this.a.B();var t=this.a.o(),e=t>>>3;return 0!=(t&=7)&&5!=t&&1!=t&&2!=t&&3!=t&&4!=t?(b("Invalid wire type: %s (at position %s)",t,this.O),this.h=!0,!1):(this.c=e,this.b=t,!0)},ut.prototype.nextField=ut.prototype.oa,ut.prototype.Oa=function(){this.a.mb(this.c<<3|this.b)},ut.prototype.unskipHeader=ut.prototype.Oa,ut.prototype.Lc=function(){var t=this.c;for(this.Oa();this.oa()&&this.c==t;)this.C();this.a.ya()||this.Oa()},ut.prototype.skipMatchingFields=ut.prototype.Lc,ut.prototype.lb=function(){0!=this.b?(b("Invalid wire type for skipVarintField"),this.C()):this.a.kb()},ut.prototype.skipVarintField=ut.prototype.lb,ut.prototype.gb=function(){if(2!=this.b)b("Invalid wire type for skipDelimitedField"),this.C();else{var t=this.a.o();this.a.advance(t)}},ut.prototype.skipDelimitedField=ut.prototype.gb,ut.prototype.hb=function(){5!=this.b?(b("Invalid wire type for skipFixed32Field"),this.C()):this.a.advance(4)},ut.prototype.skipFixed32Field=ut.prototype.hb,ut.prototype.ib=function(){1!=this.b?(b("Invalid wire type for skipFixed64Field"),this.C()):this.a.advance(8)},ut.prototype.skipFixed64Field=ut.prototype.ib,ut.prototype.jb=function(){for(var t=this.c;;){if(!this.oa()){b("Unmatched start-group tag: stream EOF"),this.h=!0;break}if(4==this.b){this.c!=t&&(b("Unmatched end-group tag"),this.h=!0);break}this.C()}},ut.prototype.skipGroup=ut.prototype.jb,ut.prototype.C=function(){switch(this.b){case 0:this.lb();break;case 1:this.ib();break;case 2:this.gb();break;case 5:this.hb();break;case 3:this.jb();break;default:b("Invalid wire encoding for field.")}},ut.prototype.skipField=ut.prototype.C,ut.prototype.Hc=function(t,e){null===this.v&&(this.v={}),_(!this.v[t]),this.v[t]=e},ut.prototype.registerReadCallback=ut.prototype.Hc,ut.prototype.Ic=function(t){return _(null!==this.v),_(t=this.v[t]),t(this)},ut.prototype.runReadCallback=ut.prototype.Ic,ut.prototype.Yb=function(t,e){_(2==this.b);var r=this.a.c,s=this.a.o();s=this.a.B()+s,this.a.setEnd(s),e(t,this),this.a.Ma(s),this.a.setEnd(r)},ut.prototype.readMessage=ut.prototype.Yb,ut.prototype.Ub=function(t,e,r){_(3==this.b),_(this.c==t),r(e,this),this.h||4==this.b||(b("Group submessage did not end with an END_GROUP tag"),this.h=!0)},ut.prototype.readGroup=ut.prototype.Ub,ut.prototype.Gb=function(){_(2==this.b);var t=this.a.o(),e=this.a.B(),r=e+t;return t=at(this.a.Y(),e,t),this.a.Ma(r),t},ut.prototype.getFieldDecoder=ut.prototype.Gb,ut.prototype.P=function(){return _(0==this.b),this.a.da()},ut.prototype.readInt32=ut.prototype.P,ut.prototype.Wb=function(){return _(0==this.b),this.a.Ea()},ut.prototype.readInt32String=ut.prototype.Wb,ut.prototype.ba=function(){return _(0==this.b),this.a.sa()},ut.prototype.readInt64=ut.prototype.ba,ut.prototype.ca=function(){return _(0==this.b),this.a.Fa()},ut.prototype.readInt64String=ut.prototype.ca,ut.prototype.m=function(){return _(0==this.b),this.a.o()},ut.prototype.readUint32=ut.prototype.m,ut.prototype.Fc=function(){return _(0==this.b),this.a.O()},ut.prototype.readUint32String=ut.prototype.Fc,ut.prototype.ga=function(){return _(0==this.b),this.a.Ga()},ut.prototype.readUint64=ut.prototype.ga,ut.prototype.ha=function(){return _(0==this.b),this.a.Ha()},ut.prototype.readUint64String=ut.prototype.ha,ut.prototype.zc=function(){return _(0==this.b),this.a.Ia()},ut.prototype.readSint32=ut.prototype.zc,ut.prototype.Ac=function(){return _(0==this.b),this.a.Ja()},ut.prototype.readSint64=ut.prototype.Ac,ut.prototype.Bc=function(){return _(0==this.b),this.a.Ka()},ut.prototype.readSint64String=ut.prototype.Bc,ut.prototype.Rb=function(){return _(5==this.b),this.a.m()},ut.prototype.readFixed32=ut.prototype.Rb,ut.prototype.Sb=function(){return _(1==this.b),this.a.ga()},ut.prototype.readFixed64=ut.prototype.Sb,ut.prototype.Tb=function(){return _(1==this.b),this.a.ha()},ut.prototype.readFixed64String=ut.prototype.Tb,ut.prototype.vc=function(){return _(5==this.b),this.a.P()},ut.prototype.readSfixed32=ut.prototype.vc,ut.prototype.wc=function(){return _(5==this.b),this.a.P().toString()},ut.prototype.readSfixed32String=ut.prototype.wc,ut.prototype.xc=function(){return _(1==this.b),this.a.ba()},ut.prototype.readSfixed64=ut.prototype.xc,ut.prototype.yc=function(){return _(1==this.b),this.a.ca()},ut.prototype.readSfixed64String=ut.prototype.yc,ut.prototype.aa=function(){return _(5==this.b),this.a.aa()},ut.prototype.readFloat=ut.prototype.aa,ut.prototype.Z=function(){return _(1==this.b),this.a.Z()},ut.prototype.readDouble=ut.prototype.Z,ut.prototype.pa=function(){return _(0==this.b),!!this.a.o()},ut.prototype.readBool=ut.prototype.pa,ut.prototype.ra=function(){return _(0==this.b),this.a.sa()},ut.prototype.readEnum=ut.prototype.ra,ut.prototype.fa=function(){_(2==this.b);var t=this.a.o();return this.a.fa(t)},ut.prototype.readString=ut.prototype.fa,ut.prototype.qa=function(){_(2==this.b);var t=this.a.o();return this.a.qa(t)},ut.prototype.readBytes=ut.prototype.qa,ut.prototype.ia=function(){return _(0==this.b),this.a.ia()},ut.prototype.readVarintHash64=ut.prototype.ia,ut.prototype.Cc=function(){return _(0==this.b),this.a.fb()},ut.prototype.readSintHash64=ut.prototype.Cc,ut.prototype.w=function(t){return _(0==this.b),this.a.w(t)},ut.prototype.readSplitVarint64=ut.prototype.w,ut.prototype.ea=function(t){return _(0==this.b),this.a.w((function(e,r){return G(e,r,t)}))},ut.prototype.readSplitZigzagVarint64=ut.prototype.ea,ut.prototype.$=function(){return _(1==this.b),this.a.$()},ut.prototype.readFixedHash64=ut.prototype.$,ut.prototype.ta=function(t){return _(1==this.b),this.a.ta(t)},ut.prototype.readSplitFixed64=ut.prototype.ta,ut.prototype.gc=function(){return ct(this,this.a.da)},ut.prototype.readPackedInt32=ut.prototype.gc,ut.prototype.hc=function(){return ct(this,this.a.Ea)},ut.prototype.readPackedInt32String=ut.prototype.hc,ut.prototype.ic=function(){return ct(this,this.a.sa)},ut.prototype.readPackedInt64=ut.prototype.ic,ut.prototype.jc=function(){return ct(this,this.a.Fa)},ut.prototype.readPackedInt64String=ut.prototype.jc,ut.prototype.qc=function(){return ct(this,this.a.o)},ut.prototype.readPackedUint32=ut.prototype.qc,ut.prototype.rc=function(){return ct(this,this.a.O)},ut.prototype.readPackedUint32String=ut.prototype.rc,ut.prototype.sc=function(){return ct(this,this.a.Ga)},ut.prototype.readPackedUint64=ut.prototype.sc,ut.prototype.tc=function(){return ct(this,this.a.Ha)},ut.prototype.readPackedUint64String=ut.prototype.tc,ut.prototype.nc=function(){return ct(this,this.a.Ia)},ut.prototype.readPackedSint32=ut.prototype.nc,ut.prototype.oc=function(){return ct(this,this.a.Ja)},ut.prototype.readPackedSint64=ut.prototype.oc,ut.prototype.pc=function(){return ct(this,this.a.Ka)},ut.prototype.readPackedSint64String=ut.prototype.pc,ut.prototype.bc=function(){return ct(this,this.a.m)},ut.prototype.readPackedFixed32=ut.prototype.bc,ut.prototype.cc=function(){return ct(this,this.a.ga)},ut.prototype.readPackedFixed64=ut.prototype.cc,ut.prototype.dc=function(){return ct(this,this.a.ha)},ut.prototype.readPackedFixed64String=ut.prototype.dc,ut.prototype.kc=function(){return ct(this,this.a.P)},ut.prototype.readPackedSfixed32=ut.prototype.kc,ut.prototype.lc=function(){return ct(this,this.a.ba)},ut.prototype.readPackedSfixed64=ut.prototype.lc,ut.prototype.mc=function(){return ct(this,this.a.ca)},ut.prototype.readPackedSfixed64String=ut.prototype.mc,ut.prototype.fc=function(){return ct(this,this.a.aa)},ut.prototype.readPackedFloat=ut.prototype.fc,ut.prototype.$b=function(){return ct(this,this.a.Z)},ut.prototype.readPackedDouble=ut.prototype.$b,ut.prototype.Zb=function(){return ct(this,this.a.pa)},ut.prototype.readPackedBool=ut.prototype.Zb,ut.prototype.ac=function(){return ct(this,this.a.ra)},ut.prototype.readPackedEnum=ut.prototype.ac,ut.prototype.uc=function(){return ct(this,this.a.ia)},ut.prototype.readPackedVarintHash64=ut.prototype.uc,ut.prototype.ec=function(){return ct(this,this.a.$)},ut.prototype.readPackedFixedHash64=ut.prototype.ec,l("jspb.ExtensionFieldInfo",pt,void 0),l("jspb.ExtensionFieldBinaryInfo",dt,void 0),pt.prototype.F=function(){return!!this.la},pt.prototype.isMessageType=pt.prototype.F,l("jspb.Message",ft,void 0),ft.GENERATE_TO_OBJECT=!0,ft.GENERATE_FROM_OBJECT=!0;var gt="function"==typeof Uint8Array;ft.prototype.Ib=function(){return this.b},ft.prototype.getJsPbMessageId=ft.prototype.Ib,ft.initialize=function(t,e,r,s,n,i){if(t.f=null,e||(e=r?[r]:[]),t.b=r?String(r):void 0,t.D=0===r?-1:0,t.u=e,e=-1,!(r=t.u.length)||(e=r-1,null===(r=t.u[e])||"object"!=typeof r||Array.isArray(r)||gt&&r instanceof Uint8Array)?-1<s?(t.G=Math.max(s,e+1-t.D),t.i=null):t.G=Number.MAX_VALUE:(t.G=e-t.D,t.i=r),t.a={},n)for(s=0;s<n.length;s++)(e=n[s])<t.G?(e+=t.D,t.u[e]=t.u[e]||yt):(mt(t),t.i[e]=t.i[e]||yt);if(i&&i.length)for(s=0;s<i.length;s++)Bt(t,i[s])};var yt=Object.freeze?Object.freeze([]):[];function mt(t){var e=t.G+t.D;t.u[e]||(t.i=t.u[e]={})}function _t(t,e,r){for(var s=[],n=0;n<t.length;n++)s[n]=e.call(t[n],r,t[n]);return s}function bt(t,e){if(e<t.G){e+=t.D;var r=t.u[e];return r===yt?t.u[e]=[]:r}if(t.i)return(r=t.i[e])===yt?t.i[e]=[]:r}function wt(t,e){return null==(t=bt(t,e))?t:+t}function vt(t,e){return null==(t=bt(t,e))?t:!!t}function xt(t){return null==t||"string"===typeof t?t:gt&&t instanceof Uint8Array?P(t):(b("Cannot coerce to b64 string: "+c(t)),null)}function kt(t){return null==t||t instanceof Uint8Array?t:"string"===typeof t?S(t):(b("Cannot coerce to Uint8Array: "+c(t)),null)}function Ot(t){if(t&&1<t.length){var e=c(t[0]);f(t,(function(t){c(t)!=e&&b("Inconsistent type in JSPB repeated field array. Got "+c(t)+" expected "+e)}))}}function Et(t,e,r){return null==(t=bt(t,e))?r:t}function Mt(t,e,r){return w(t,ft),e<t.G?t.u[e+t.D]=r:(mt(t),t.i[e]=r),t}function At(t,e,r,s){return w(t,ft),r!==s?Mt(t,e,r):e<t.G?t.u[e+t.D]=null:(mt(t),delete t.i[e]),t}function Ft(t,e,r,s){return w(t,ft),(r=Bt(t,r))&&r!==e&&void 0!==s&&(t.f&&r in t.f&&(t.f[r]=void 0),Mt(t,r,void 0)),Mt(t,e,s)}function Bt(t,e){for(var r,s,n=0;n<e.length;n++){var i=e[n],o=bt(t,i);null!=o&&(r=i,s=o,Mt(t,i,void 0))}return r?(Mt(t,r,s),r):0}function Tt(t,e,r){if(t.f||(t.f={}),!t.f[r]){for(var s=bt(t,r),n=[],i=0;i<s.length;i++)n[i]=new e(s[i]);t.f[r]=n}}function Rt(t){if(t.f)for(var e in t.f){var r=t.f[e];if(Array.isArray(r))for(var s=0;s<r.length;s++)r[s]&&r[s].g();else r&&r.g()}}function Pt(t,e){t=t||{},e=e||{};var r,s={};for(r in t)s[r]=0;for(r in e)s[r]=0;for(r in s)if(!St(t[r],e[r]))return!1;return!0}function St(t,e){if(t==e)return!0;if(!p(t)||!p(e))return!!("number"===typeof t&&isNaN(t)||"number"===typeof e&&isNaN(e))&&String(t)==String(e);if(t.constructor!=e.constructor)return!1;if(gt&&t.constructor===Uint8Array){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!=e[r])return!1;return!0}if(t.constructor===Array){var s=void 0,n=void 0,i=Math.max(t.length,e.length);for(r=0;r<i;r++){var o=t[r],a=e[r];if(o&&o.constructor==Object&&(_(void 0===s),_(r===t.length-1),s=o,o=void 0),a&&a.constructor==Object&&(_(void 0===n),_(r===e.length-1),n=a,a=void 0),!St(o,a))return!1}return!s&&!n||Pt(s=s||{},n=n||{})}if(t.constructor===Object)return Pt(t,e);throw Error("Invalid type in JSPB array")}function jt(t){return new t.constructor(zt(t.g()))}function zt(t){if(Array.isArray(t)){for(var e=Array(t.length),r=0;r<t.length;r++){var s=t[r];null!=s&&(e[r]="object"==typeof s?zt(_(s)):s)}return e}if(gt&&t instanceof Uint8Array)return new Uint8Array(t);for(r in e={},t)null!=(s=t[r])&&(e[r]="object"==typeof s?zt(_(s)):s);return e}ft.toObjectList=_t,ft.toObjectExtension=function(t,e,r,s,n){for(var i in r){var o=r[i],a=s.call(t,o);if(null!=a){for(var u in o.Ba)if(o.Ba.hasOwnProperty(u))break;e[u]=o.Na?o.na?_t(a,o.Na,n):o.Na(n,a):a}}},ft.serializeBinaryExtensions=function(t,e,r,s){for(var n in r){var i=r[n],o=i.Za;if(!i.Aa)throw Error("Message extension present that was generated without binary serialization support");var a=s.call(t,o);if(null!=a)if(o.F()){if(!i.Wa)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");i.Aa.call(e,o.ma,a,i.Wa)}else i.Aa.call(e,o.ma,a)}},ft.readBinaryExtension=function(t,e,r,s,n){var i=r[e.c];if(i){if(r=i.Za,!i.za)throw Error("Deserializing extension whose generated code does not support binary format");if(r.F()){var o=new r.la;i.za.call(e,o,i.Ab)}else o=i.za.call(e);r.na&&!i.Nb?(e=s.call(t,r))?e.push(o):n.call(t,r,[o]):n.call(t,r,o)}else e.C()},ft.getField=bt,ft.getRepeatedField=function(t,e){return bt(t,e)},ft.getOptionalFloatingPointField=wt,ft.getBooleanField=vt,ft.getRepeatedFloatingPointField=function(t,e){var r=bt(t,e);if(t.a||(t.a={}),!t.a[e]){for(var s=0;s<r.length;s++)r[s]=+r[s];t.a[e]=!0}return r},ft.getRepeatedBooleanField=function(t,e){var r=bt(t,e);if(t.a||(t.a={}),!t.a[e]){for(var s=0;s<r.length;s++)r[s]=!!r[s];t.a[e]=!0}return r},ft.bytesAsB64=xt,ft.bytesAsU8=kt,ft.bytesListAsB64=function(t){return Ot(t),t.length&&"string"!==typeof t[0]?g(t,xt):t},ft.bytesListAsU8=function(t){return Ot(t),!t.length||t[0]instanceof Uint8Array?t:g(t,kt)},ft.getFieldWithDefault=Et,ft.getBooleanFieldWithDefault=function(t,e,r){return null==(t=vt(t,e))?r:t},ft.getFloatingPointFieldWithDefault=function(t,e,r){return null==(t=wt(t,e))?r:t},ft.getFieldProto3=Et,ft.getMapField=function(t,e,r,s){if(t.f||(t.f={}),e in t.f)return t.f[e];var n=bt(t,e);if(!n){if(r)return;Mt(t,e,n=[])}return t.f[e]=new x(n,s)},ft.setField=Mt,ft.setProto3IntField=function(t,e,r){return At(t,e,r,0)},ft.setProto3FloatField=function(t,e,r){return At(t,e,r,0)},ft.setProto3BooleanField=function(t,e,r){return At(t,e,r,!1)},ft.setProto3StringField=function(t,e,r){return At(t,e,r,"")},ft.setProto3BytesField=function(t,e,r){return At(t,e,r,"")},ft.setProto3EnumField=function(t,e,r){return At(t,e,r,0)},ft.setProto3StringIntField=function(t,e,r){return At(t,e,r,"0")},ft.addToRepeatedField=function(t,e,r,s){return w(t,ft),e=bt(t,e),void 0!=s?e.splice(s,0,r):e.push(r),t},ft.setOneofField=Ft,ft.computeOneofCase=Bt,ft.getWrapperField=function(t,e,r,s){if(t.f||(t.f={}),!t.f[r]){var n=bt(t,r);(s||n)&&(t.f[r]=new e(n))}return t.f[r]},ft.getRepeatedWrapperField=function(t,e,r){return Tt(t,e,r),(e=t.f[r])==yt&&(e=t.f[r]=[]),e},ft.setWrapperField=function(t,e,r){w(t,ft),t.f||(t.f={});var s=r?r.g():r;return t.f[e]=r,Mt(t,e,s)},ft.setOneofWrapperField=function(t,e,r,s){w(t,ft),t.f||(t.f={});var n=s?s.g():s;return t.f[e]=s,Ft(t,e,r,n)},ft.setRepeatedWrapperField=function(t,e,r){w(t,ft),t.f||(t.f={}),r=r||[];for(var s=[],n=0;n<r.length;n++)s[n]=r[n].g();return t.f[e]=r,Mt(t,e,s)},ft.addToRepeatedWrapperField=function(t,e,r,s,n){Tt(t,s,e);var i=t.f[e];return i||(i=t.f[e]=[]),r=r||new s,t=bt(t,e),void 0!=n?(i.splice(n,0,r),t.splice(n,0,r.g())):(i.push(r),t.push(r.g())),r},ft.toMap=function(t,e,r,s){for(var n={},i=0;i<t.length;i++)n[e.call(t[i])]=r?r.call(t[i],s,t[i]):t[i];return n},ft.prototype.g=function(){return Rt(this),this.u},ft.prototype.toArray=ft.prototype.g,ft.prototype.toString=function(){return Rt(this),this.u.toString()},ft.prototype.getExtension=function(t){if(this.i){this.f||(this.f={});var e=t.ma;if(t.na){if(t.F())return this.f[e]||(this.f[e]=g(this.i[e]||[],(function(e){return new t.la(e)}))),this.f[e]}else if(t.F())return!this.f[e]&&this.i[e]&&(this.f[e]=new t.la(this.i[e])),this.f[e];return this.i[e]}},ft.prototype.getExtension=ft.prototype.getExtension,ft.prototype.Kc=function(t,e){this.f||(this.f={}),mt(this);var r=t.ma;return t.na?(e=e||[],t.F()?(this.f[r]=e,this.i[r]=g(e,(function(t){return t.g()}))):this.i[r]=e):t.F()?(this.f[r]=e,this.i[r]=e?e.g():e):this.i[r]=e,this},ft.prototype.setExtension=ft.prototype.Kc,ft.difference=function(t,e){if(!(t instanceof e.constructor))throw Error("Messages have different types.");var r=t.g();e=e.g();var s=[],n=0,i=r.length>e.length?r.length:e.length;for(t.b&&(s[0]=t.b,n=1);n<i;n++)St(r[n],e[n])||(s[n]=e[n]);return new t.constructor(s)},ft.equals=function(t,e){return t==e||!(!t||!e)&&t instanceof e.constructor&&St(t.g(),e.g())},ft.compareExtensions=Pt,ft.compareFields=St,ft.prototype.Bb=function(){return jt(this)},ft.prototype.cloneMessage=ft.prototype.Bb,ft.prototype.clone=function(){return jt(this)},ft.prototype.clone=ft.prototype.clone,ft.clone=function(t){return jt(t)},ft.copyInto=function(t,e){w(t,ft),w(e,ft),_(t.constructor==e.constructor,"Copy source and target message should have the same type."),t=jt(t);for(var r=e.g(),s=t.g(),n=r.length=0;n<s.length;n++)r[n]=s[n];e.f=t.f,e.i=t.i},ft.registerMessageType=function(t,e){e.we=t};var It={dump:function(t){return w(t,ft,"jspb.Message instance expected"),_(t.getExtension,"Only unobfuscated and unoptimized compilation modes supported."),It.X(t)}};function Nt(){this.a=[]}function Ut(t,e){this.lo=t,this.hi=e}function Ct(t,e){var r=65535&t,s=65535&e,n=e>>>16;for(e=r*s+65536*(r*n&65535)+65536*((t>>>=16)*s&65535),r=t*n+(r*n>>>16)+(t*s>>>16);4294967296<=e;)e-=4294967296,r+=1;return new Ut(e>>>0,r>>>0)}function Lt(t){for(var e=new Ut(0,0),r=new Ut(0,0),s=0;s<t.length;s++){if("0">t[s]||"9"<t[s])return null;r.lo=parseInt(t[s],10),e=e.eb(10).add(r)}return e}function Ht(t,e){this.lo=t,this.hi=e}function Wt(t){var e=0<t.length&&"-"==t[0];return e&&(t=t.substring(1)),null===(t=Lt(t))?null:(e&&(t=new Ut(0,0).sub(t)),new Ht(t.lo,t.hi))}function Dt(){this.c=[],this.b=0,this.a=new Nt,this.h=[]}function qt(t,e){var r=t.a.end();t.c.push(r),t.c.push(e),t.b+=r.length+e.length}function $t(t,e){return Gt(t,e,2),e=t.a.end(),t.c.push(e),t.b+=e.length,e.push(t.b),e}function Vt(t,e){var r=e.pop();for(_(0<=(r=t.b+t.a.length()-r));127<r;)e.push(127&r|128),r>>>=7,t.b++;e.push(r),t.b++}function Gt(t,e,r){_(1<=e&&e==Math.floor(e)),t.a.j(8*e+r)}function Jt(t,e,r){null!=r&&(Gt(t,e,0),t.a.j(r))}function Kt(t,e,r){null!=r&&(Gt(t,e,0),t.a.M(r))}l("jspb.debug.dump",It.dump,void 0),It.X=function(t){var e=c(t);if("number"==e||"string"==e||"boolean"==e||"null"==e||"undefined"==e||"undefined"!==typeof Uint8Array&&t instanceof Uint8Array)return t;if("array"==e)return function(t,e,r){for(var s=[],n=2;n<arguments.length;++n)s[n-2]=arguments[n];Array.isArray(t)||m("Expected array but got %s: %s.",[c(t),t],e,s)}(t),g(t,It.X);if(t instanceof x){for(var r={},s=(t=t.entries()).next();!s.done;s=t.next())r[s.value[0]]=It.X(s.value[1]);return r}w(t,ft,"Only messages expected: "+t);var n={$name:(e=t.constructor).name||e.displayName};for(a in e.prototype){var i=/^get([A-Z]\w*)/.exec(a);if(i&&"getExtension"!=a&&"getJsPbMessageId"!=a){var o="has"+i[1];t[o]&&!t[o]()||(o=t[a](),n[It.$a(i[1])]=It.X(o))}}if(t.extensionObject_)return n.$extensions="Recursive dumping of extensions not supported in compiled code. Switch to uncompiled or dump extension object directly",n;for(s in e.extensions)if(/^\d+$/.test(s)){o=e.extensions[s];var a=t.getExtension(o);i=void 0,o=o.Ba;var u=[],h=0;for(i in o)u[h++]=i;i=u[0],null!=a&&(r||(r=n.$extensions={}),r[It.$a(i)]=It.X(a))}return n},It.$a=function(t){return t.replace(/^[A-Z]/,(function(t){return t.toLowerCase()}))},l("jspb.BinaryEncoder",Nt,void 0),Nt.prototype.length=function(){return this.a.length},Nt.prototype.length=Nt.prototype.length,Nt.prototype.end=function(){var t=this.a;return this.a=[],t},Nt.prototype.end=Nt.prototype.end,Nt.prototype.l=function(t,e){for(_(t==Math.floor(t)),_(e==Math.floor(e)),_(0<=t&&4294967296>t),_(0<=e&&4294967296>e);0<e||127<t;)this.a.push(127&t|128),t=(t>>>7|e<<25)>>>0,e>>>=7;this.a.push(t)},Nt.prototype.writeSplitVarint64=Nt.prototype.l,Nt.prototype.A=function(t,e){_(t==Math.floor(t)),_(e==Math.floor(e)),_(0<=t&&4294967296>t),_(0<=e&&4294967296>e),this.s(t),this.s(e)},Nt.prototype.writeSplitFixed64=Nt.prototype.A,Nt.prototype.j=function(t){for(_(t==Math.floor(t)),_(0<=t&&4294967296>t);127<t;)this.a.push(127&t|128),t>>>=7;this.a.push(t)},Nt.prototype.writeUnsignedVarint32=Nt.prototype.j,Nt.prototype.M=function(t){if(_(t==Math.floor(t)),_(-2147483648<=t&&2147483648>t),0<=t)this.j(t);else{for(var e=0;9>e;e++)this.a.push(127&t|128),t>>=7;this.a.push(1)}},Nt.prototype.writeSignedVarint32=Nt.prototype.M,Nt.prototype.va=function(t){_(t==Math.floor(t)),_(0<=t&&0x10000000000000000>t),U(t),this.l(z,I)},Nt.prototype.writeUnsignedVarint64=Nt.prototype.va,Nt.prototype.ua=function(t){_(t==Math.floor(t)),_(-0x8000000000000000<=t&&0x8000000000000000>t),U(t),this.l(z,I)},Nt.prototype.writeSignedVarint64=Nt.prototype.ua,Nt.prototype.wa=function(t){_(t==Math.floor(t)),_(-2147483648<=t&&2147483648>t),this.j((t<<1^t>>31)>>>0)},Nt.prototype.writeZigzagVarint32=Nt.prototype.wa,Nt.prototype.xa=function(t){_(t==Math.floor(t)),_(-0x8000000000000000<=t&&0x8000000000000000>t),C(t),this.l(z,I)},Nt.prototype.writeZigzagVarint64=Nt.prototype.xa,Nt.prototype.Ta=function(t){this.W(tt(t))},Nt.prototype.writeZigzagVarint64String=Nt.prototype.Ta,Nt.prototype.W=function(t){var e=this;W(t),$(z,I,(function(t,r){e.l(t>>>0,r>>>0)}))},Nt.prototype.writeZigzagVarintHash64=Nt.prototype.W,Nt.prototype.be=function(t){_(t==Math.floor(t)),_(0<=t&&256>t),this.a.push(t>>>0&255)},Nt.prototype.writeUint8=Nt.prototype.be,Nt.prototype.ae=function(t){_(t==Math.floor(t)),_(0<=t&&65536>t),this.a.push(t>>>0&255),this.a.push(t>>>8&255)},Nt.prototype.writeUint16=Nt.prototype.ae,Nt.prototype.s=function(t){_(t==Math.floor(t)),_(0<=t&&4294967296>t),this.a.push(t>>>0&255),this.a.push(t>>>8&255),this.a.push(t>>>16&255),this.a.push(t>>>24&255)},Nt.prototype.writeUint32=Nt.prototype.s,Nt.prototype.V=function(t){_(t==Math.floor(t)),_(0<=t&&0x10000000000000000>t),N(t),this.s(z),this.s(I)},Nt.prototype.writeUint64=Nt.prototype.V,Nt.prototype.Qc=function(t){_(t==Math.floor(t)),_(-128<=t&&128>t),this.a.push(t>>>0&255)},Nt.prototype.writeInt8=Nt.prototype.Qc,Nt.prototype.Pc=function(t){_(t==Math.floor(t)),_(-32768<=t&&32768>t),this.a.push(t>>>0&255),this.a.push(t>>>8&255)},Nt.prototype.writeInt16=Nt.prototype.Pc,Nt.prototype.S=function(t){_(t==Math.floor(t)),_(-2147483648<=t&&2147483648>t),this.a.push(t>>>0&255),this.a.push(t>>>8&255),this.a.push(t>>>16&255),this.a.push(t>>>24&255)},Nt.prototype.writeInt32=Nt.prototype.S,Nt.prototype.T=function(t){_(t==Math.floor(t)),_(-0x8000000000000000<=t&&0x8000000000000000>t),U(t),this.A(z,I)},Nt.prototype.writeInt64=Nt.prototype.T,Nt.prototype.ka=function(t){_(t==Math.floor(t)),_(-0x8000000000000000<=+t&&0x8000000000000000>+t),W(tt(t)),this.A(z,I)},Nt.prototype.writeInt64String=Nt.prototype.ka,Nt.prototype.L=function(t){_(1/0===t||-1/0===t||isNaN(t)||-34028234663852886e22<=t&&34028234663852886e22>=t),L(t),this.s(z)},Nt.prototype.writeFloat=Nt.prototype.L,Nt.prototype.J=function(t){_(1/0===t||-1/0===t||isNaN(t)||-17976931348623157e292<=t&&17976931348623157e292>=t),H(t),this.s(z),this.s(I)},Nt.prototype.writeDouble=Nt.prototype.J,Nt.prototype.I=function(t){_("boolean"===typeof t||"number"===typeof t),this.a.push(t?1:0)},Nt.prototype.writeBool=Nt.prototype.I,Nt.prototype.R=function(t){_(t==Math.floor(t)),_(-2147483648<=t&&2147483648>t),this.M(t)},Nt.prototype.writeEnum=Nt.prototype.R,Nt.prototype.ja=function(t){this.a.push.apply(this.a,t)},Nt.prototype.writeBytes=Nt.prototype.ja,Nt.prototype.N=function(t){W(t),this.l(z,I)},Nt.prototype.writeVarintHash64=Nt.prototype.N,Nt.prototype.K=function(t){W(t),this.s(z),this.s(I)},Nt.prototype.writeFixedHash64=Nt.prototype.K,Nt.prototype.U=function(t){var e=this.a.length;!function(t,e,r){for(var s=[],n=2;n<arguments.length;++n)s[n-2]=arguments[n];"string"!==typeof t&&m("Expected string but got %s: %s.",[c(t),t],e,s)}(t);for(var r=0;r<t.length;r++){var s=t.charCodeAt(r);if(128>s)this.a.push(s);else if(2048>s)this.a.push(s>>6|192),this.a.push(63&s|128);else if(65536>s)if(55296<=s&&56319>=s&&r+1<t.length){var n=t.charCodeAt(r+1);56320<=n&&57343>=n&&(s=1024*(s-55296)+n-56320+65536,this.a.push(s>>18|240),this.a.push(s>>12&63|128),this.a.push(s>>6&63|128),this.a.push(63&s|128),r++)}else this.a.push(s>>12|224),this.a.push(s>>6&63|128),this.a.push(63&s|128)}return this.a.length-e},Nt.prototype.writeString=Nt.prototype.U,l("jspb.arith.UInt64",Ut,void 0),Ut.prototype.cmp=function(t){return this.hi<t.hi||this.hi==t.hi&&this.lo<t.lo?-1:this.hi==t.hi&&this.lo==t.lo?0:1},Ut.prototype.cmp=Ut.prototype.cmp,Ut.prototype.La=function(){return new Ut((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},Ut.prototype.rightShift=Ut.prototype.La,Ut.prototype.Da=function(){return new Ut(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},Ut.prototype.leftShift=Ut.prototype.Da,Ut.prototype.cb=function(){return!!(2147483648&this.hi)},Ut.prototype.msb=Ut.prototype.cb,Ut.prototype.Ob=function(){return!!(1&this.lo)},Ut.prototype.lsb=Ut.prototype.Ob,Ut.prototype.Ua=function(){return 0==this.lo&&0==this.hi},Ut.prototype.zero=Ut.prototype.Ua,Ut.prototype.add=function(t){return new Ut((this.lo+t.lo&4294967295)>>>0>>>0,((this.hi+t.hi&4294967295)>>>0)+(4294967296<=this.lo+t.lo?1:0)>>>0)},Ut.prototype.add=Ut.prototype.add,Ut.prototype.sub=function(t){return new Ut((this.lo-t.lo&4294967295)>>>0>>>0,((this.hi-t.hi&4294967295)>>>0)-(0>this.lo-t.lo?1:0)>>>0)},Ut.prototype.sub=Ut.prototype.sub,Ut.mul32x32=Ct,Ut.prototype.eb=function(t){var e=Ct(this.lo,t);return(t=Ct(this.hi,t)).hi=t.lo,t.lo=0,e.add(t)},Ut.prototype.mul=Ut.prototype.eb,Ut.prototype.Xa=function(t){if(0==t)return[];var e=new Ut(0,0),r=new Ut(this.lo,this.hi);t=new Ut(t,0);for(var s=new Ut(1,0);!t.cb();)t=t.Da(),s=s.Da();for(;!s.Ua();)0>=t.cmp(r)&&(e=e.add(s),r=r.sub(t)),t=t.La(),s=s.La();return[e,r]},Ut.prototype.div=Ut.prototype.Xa,Ut.prototype.toString=function(){for(var t="",e=this;!e.Ua();){var r=(e=e.Xa(10))[0];t=e[1].lo+t,e=r}return""==t&&(t="0"),t},Ut.prototype.toString=Ut.prototype.toString,Ut.fromString=Lt,Ut.prototype.clone=function(){return new Ut(this.lo,this.hi)},Ut.prototype.clone=Ut.prototype.clone,l("jspb.arith.Int64",Ht,void 0),Ht.prototype.add=function(t){return new Ht((this.lo+t.lo&4294967295)>>>0>>>0,((this.hi+t.hi&4294967295)>>>0)+(4294967296<=this.lo+t.lo?1:0)>>>0)},Ht.prototype.add=Ht.prototype.add,Ht.prototype.sub=function(t){return new Ht((this.lo-t.lo&4294967295)>>>0>>>0,((this.hi-t.hi&4294967295)>>>0)-(0>this.lo-t.lo?1:0)>>>0)},Ht.prototype.sub=Ht.prototype.sub,Ht.prototype.clone=function(){return new Ht(this.lo,this.hi)},Ht.prototype.clone=Ht.prototype.clone,Ht.prototype.toString=function(){var t=0!=(2147483648&this.hi),e=new Ut(this.lo,this.hi);return t&&(e=new Ut(0,0).sub(e)),(t?"-":"")+e.toString()},Ht.prototype.toString=Ht.prototype.toString,Ht.fromString=Wt,l("jspb.BinaryWriter",Dt,void 0),Dt.prototype.pb=function(t,e,r){qt(this,t.subarray(e,r))},Dt.prototype.writeSerializedMessage=Dt.prototype.pb,Dt.prototype.Pb=function(t,e,r){null!=t&&null!=e&&null!=r&&this.pb(t,e,r)},Dt.prototype.maybeWriteSerializedMessage=Dt.prototype.Pb,Dt.prototype.reset=function(){this.c=[],this.a.end(),this.b=0,this.h=[]},Dt.prototype.reset=Dt.prototype.reset,Dt.prototype.ab=function(){_(0==this.h.length);for(var t=new Uint8Array(this.b+this.a.length()),e=this.c,r=e.length,s=0,n=0;n<r;n++){var i=e[n];t.set(i,s),s+=i.length}return e=this.a.end(),t.set(e,s),_((s+=e.length)==t.length),this.c=[t],t},Dt.prototype.getResultBuffer=Dt.prototype.ab,Dt.prototype.Kb=function(t){return P(this.ab(),t)},Dt.prototype.getResultBase64String=Dt.prototype.Kb,Dt.prototype.Va=function(t){this.h.push($t(this,t))},Dt.prototype.beginSubMessage=Dt.prototype.Va,Dt.prototype.Ya=function(){_(0<=this.h.length),Vt(this,this.h.pop())},Dt.prototype.endSubMessage=Dt.prototype.Ya,Dt.prototype.Nc=function(t,e,r){switch(t){case 1:this.J(e,r);break;case 2:this.L(e,r);break;case 3:this.T(e,r);break;case 4:this.V(e,r);break;case 5:this.S(e,r);break;case 6:this.Qa(e,r);break;case 7:this.Pa(e,r);break;case 8:this.I(e,r);break;case 9:this.U(e,r);break;case 10:b("Group field type not supported in writeAny()");break;case 11:b("Message field type not supported in writeAny()");break;case 12:this.ja(e,r);break;case 13:this.s(e,r);break;case 14:this.R(e,r);break;case 15:this.Ra(e,r);break;case 16:this.Sa(e,r);break;case 17:this.rb(e,r);break;case 18:this.sb(e,r);break;case 30:this.K(e,r);break;case 31:this.N(e,r);break;default:b("Invalid field type in writeAny()")}},Dt.prototype.writeAny=Dt.prototype.Nc,Dt.prototype.S=function(t,e){null!=e&&(_(-2147483648<=e&&2147483648>e),Kt(this,t,e))},Dt.prototype.writeInt32=Dt.prototype.S,Dt.prototype.ob=function(t,e){null!=e&&(_(-2147483648<=(e=parseInt(e,10))&&2147483648>e),Kt(this,t,e))},Dt.prototype.writeInt32String=Dt.prototype.ob,Dt.prototype.T=function(t,e){null!=e&&(_(-0x8000000000000000<=e&&0x8000000000000000>e),null!=e&&(Gt(this,t,0),this.a.ua(e)))},Dt.prototype.writeInt64=Dt.prototype.T,Dt.prototype.ka=function(t,e){null!=e&&(e=Wt(e),Gt(this,t,0),this.a.l(e.lo,e.hi))},Dt.prototype.writeInt64String=Dt.prototype.ka,Dt.prototype.s=function(t,e){null!=e&&(_(0<=e&&4294967296>e),Jt(this,t,e))},Dt.prototype.writeUint32=Dt.prototype.s,Dt.prototype.ub=function(t,e){null!=e&&(_(0<=(e=parseInt(e,10))&&4294967296>e),Jt(this,t,e))},Dt.prototype.writeUint32String=Dt.prototype.ub,Dt.prototype.V=function(t,e){null!=e&&(_(0<=e&&0x10000000000000000>e),null!=e&&(Gt(this,t,0),this.a.va(e)))},Dt.prototype.writeUint64=Dt.prototype.V,Dt.prototype.vb=function(t,e){null!=e&&(e=Lt(e),Gt(this,t,0),this.a.l(e.lo,e.hi))},Dt.prototype.writeUint64String=Dt.prototype.vb,Dt.prototype.rb=function(t,e){null!=e&&(_(-2147483648<=e&&2147483648>e),null!=e&&(Gt(this,t,0),this.a.wa(e)))},Dt.prototype.writeSint32=Dt.prototype.rb,Dt.prototype.sb=function(t,e){null!=e&&(_(-0x8000000000000000<=e&&0x8000000000000000>e),null!=e&&(Gt(this,t,0),this.a.xa(e)))},Dt.prototype.writeSint64=Dt.prototype.sb,Dt.prototype.$d=function(t,e){null!=e&&null!=e&&(Gt(this,t,0),this.a.W(e))},Dt.prototype.writeSintHash64=Dt.prototype.$d,Dt.prototype.Zd=function(t,e){null!=e&&null!=e&&(Gt(this,t,0),this.a.Ta(e))},Dt.prototype.writeSint64String=Dt.prototype.Zd,Dt.prototype.Pa=function(t,e){null!=e&&(_(0<=e&&4294967296>e),Gt(this,t,5),this.a.s(e))},Dt.prototype.writeFixed32=Dt.prototype.Pa,Dt.prototype.Qa=function(t,e){null!=e&&(_(0<=e&&0x10000000000000000>e),Gt(this,t,1),this.a.V(e))},Dt.prototype.writeFixed64=Dt.prototype.Qa,Dt.prototype.nb=function(t,e){null!=e&&(e=Lt(e),Gt(this,t,1),this.a.A(e.lo,e.hi))},Dt.prototype.writeFixed64String=Dt.prototype.nb,Dt.prototype.Ra=function(t,e){null!=e&&(_(-2147483648<=e&&2147483648>e),Gt(this,t,5),this.a.S(e))},Dt.prototype.writeSfixed32=Dt.prototype.Ra,Dt.prototype.Sa=function(t,e){null!=e&&(_(-0x8000000000000000<=e&&0x8000000000000000>e),Gt(this,t,1),this.a.T(e))},Dt.prototype.writeSfixed64=Dt.prototype.Sa,Dt.prototype.qb=function(t,e){null!=e&&(e=Wt(e),Gt(this,t,1),this.a.A(e.lo,e.hi))},Dt.prototype.writeSfixed64String=Dt.prototype.qb,Dt.prototype.L=function(t,e){null!=e&&(Gt(this,t,5),this.a.L(e))},Dt.prototype.writeFloat=Dt.prototype.L,Dt.prototype.J=function(t,e){null!=e&&(Gt(this,t,1),this.a.J(e))},Dt.prototype.writeDouble=Dt.prototype.J,Dt.prototype.I=function(t,e){null!=e&&(_("boolean"===typeof e||"number"===typeof e),Gt(this,t,0),this.a.I(e))},Dt.prototype.writeBool=Dt.prototype.I,Dt.prototype.R=function(t,e){null!=e&&(_(-2147483648<=e&&2147483648>e),Gt(this,t,0),this.a.M(e))},Dt.prototype.writeEnum=Dt.prototype.R,Dt.prototype.U=function(t,e){null!=e&&(t=$t(this,t),this.a.U(e),Vt(this,t))},Dt.prototype.writeString=Dt.prototype.U,Dt.prototype.ja=function(t,e){null!=e&&(e=nt(e),Gt(this,t,2),this.a.j(e.length),qt(this,e))},Dt.prototype.writeBytes=Dt.prototype.ja,Dt.prototype.Rc=function(t,e,r){null!=e&&(t=$t(this,t),r(e,this),Vt(this,t))},Dt.prototype.writeMessage=Dt.prototype.Rc,Dt.prototype.Sc=function(t,e,r){null!=e&&(Gt(this,1,3),Gt(this,2,0),this.a.M(t),t=$t(this,3),r(e,this),Vt(this,t),Gt(this,1,4))},Dt.prototype.writeMessageSet=Dt.prototype.Sc,Dt.prototype.Oc=function(t,e,r){null!=e&&(Gt(this,t,3),r(e,this),Gt(this,t,4))},Dt.prototype.writeGroup=Dt.prototype.Oc,Dt.prototype.K=function(t,e){null!=e&&(_(8==e.length),Gt(this,t,1),this.a.K(e))},Dt.prototype.writeFixedHash64=Dt.prototype.K,Dt.prototype.N=function(t,e){null!=e&&(_(8==e.length),Gt(this,t,0),this.a.N(e))},Dt.prototype.writeVarintHash64=Dt.prototype.N,Dt.prototype.A=function(t,e,r){Gt(this,t,1),this.a.A(e,r)},Dt.prototype.writeSplitFixed64=Dt.prototype.A,Dt.prototype.l=function(t,e,r){Gt(this,t,0),this.a.l(e,r)},Dt.prototype.writeSplitVarint64=Dt.prototype.l,Dt.prototype.tb=function(t,e,r){Gt(this,t,0);var s=this.a;$(e,r,(function(t,e){s.l(t>>>0,e>>>0)}))},Dt.prototype.writeSplitZigzagVarint64=Dt.prototype.tb,Dt.prototype.Ed=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)Kt(this,t,e[r])},Dt.prototype.writeRepeatedInt32=Dt.prototype.Ed,Dt.prototype.Fd=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.ob(t,e[r])},Dt.prototype.writeRepeatedInt32String=Dt.prototype.Fd,Dt.prototype.Gd=function(t,e){if(null!=e)for(var r=0;r<e.length;r++){var s=e[r];null!=s&&(Gt(this,t,0),this.a.ua(s))}},Dt.prototype.writeRepeatedInt64=Dt.prototype.Gd,Dt.prototype.Qd=function(t,e,r,s){if(null!=e)for(var n=0;n<e.length;n++)this.A(t,r(e[n]),s(e[n]))},Dt.prototype.writeRepeatedSplitFixed64=Dt.prototype.Qd,Dt.prototype.Rd=function(t,e,r,s){if(null!=e)for(var n=0;n<e.length;n++)this.l(t,r(e[n]),s(e[n]))},Dt.prototype.writeRepeatedSplitVarint64=Dt.prototype.Rd,Dt.prototype.Sd=function(t,e,r,s){if(null!=e)for(var n=0;n<e.length;n++)this.tb(t,r(e[n]),s(e[n]))},Dt.prototype.writeRepeatedSplitZigzagVarint64=Dt.prototype.Sd,Dt.prototype.Hd=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.ka(t,e[r])},Dt.prototype.writeRepeatedInt64String=Dt.prototype.Hd,Dt.prototype.Ud=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)Jt(this,t,e[r])},Dt.prototype.writeRepeatedUint32=Dt.prototype.Ud,Dt.prototype.Vd=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.ub(t,e[r])},Dt.prototype.writeRepeatedUint32String=Dt.prototype.Vd,Dt.prototype.Wd=function(t,e){if(null!=e)for(var r=0;r<e.length;r++){var s=e[r];null!=s&&(Gt(this,t,0),this.a.va(s))}},Dt.prototype.writeRepeatedUint64=Dt.prototype.Wd,Dt.prototype.Xd=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.vb(t,e[r])},Dt.prototype.writeRepeatedUint64String=Dt.prototype.Xd,Dt.prototype.Md=function(t,e){if(null!=e)for(var r=0;r<e.length;r++){var s=e[r];null!=s&&(Gt(this,t,0),this.a.wa(s))}},Dt.prototype.writeRepeatedSint32=Dt.prototype.Md,Dt.prototype.Nd=function(t,e){if(null!=e)for(var r=0;r<e.length;r++){var s=e[r];null!=s&&(Gt(this,t,0),this.a.xa(s))}},Dt.prototype.writeRepeatedSint64=Dt.prototype.Nd,Dt.prototype.Od=function(t,e){if(null!=e)for(var r=0;r<e.length;r++){var s=e[r];null!=s&&(Gt(this,t,0),this.a.Ta(s))}},Dt.prototype.writeRepeatedSint64String=Dt.prototype.Od,Dt.prototype.Pd=function(t,e){if(null!=e)for(var r=0;r<e.length;r++){var s=e[r];null!=s&&(Gt(this,t,0),this.a.W(s))}},Dt.prototype.writeRepeatedSintHash64=Dt.prototype.Pd,Dt.prototype.yd=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.Pa(t,e[r])},Dt.prototype.writeRepeatedFixed32=Dt.prototype.yd,Dt.prototype.zd=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.Qa(t,e[r])},Dt.prototype.writeRepeatedFixed64=Dt.prototype.zd,Dt.prototype.Ad=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.nb(t,e[r])},Dt.prototype.writeRepeatedFixed64String=Dt.prototype.Ad,Dt.prototype.Jd=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.Ra(t,e[r])},Dt.prototype.writeRepeatedSfixed32=Dt.prototype.Jd,Dt.prototype.Kd=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.Sa(t,e[r])},Dt.prototype.writeRepeatedSfixed64=Dt.prototype.Kd,Dt.prototype.Ld=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.qb(t,e[r])},Dt.prototype.writeRepeatedSfixed64String=Dt.prototype.Ld,Dt.prototype.Cd=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.L(t,e[r])},Dt.prototype.writeRepeatedFloat=Dt.prototype.Cd,Dt.prototype.wd=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.J(t,e[r])},Dt.prototype.writeRepeatedDouble=Dt.prototype.wd,Dt.prototype.ud=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.I(t,e[r])},Dt.prototype.writeRepeatedBool=Dt.prototype.ud,Dt.prototype.xd=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.R(t,e[r])},Dt.prototype.writeRepeatedEnum=Dt.prototype.xd,Dt.prototype.Td=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.U(t,e[r])},Dt.prototype.writeRepeatedString=Dt.prototype.Td,Dt.prototype.vd=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.ja(t,e[r])},Dt.prototype.writeRepeatedBytes=Dt.prototype.vd,Dt.prototype.Id=function(t,e,r){if(null!=e)for(var s=0;s<e.length;s++){var n=$t(this,t);r(e[s],this),Vt(this,n)}},Dt.prototype.writeRepeatedMessage=Dt.prototype.Id,Dt.prototype.Dd=function(t,e,r){if(null!=e)for(var s=0;s<e.length;s++)Gt(this,t,3),r(e[s],this),Gt(this,t,4)},Dt.prototype.writeRepeatedGroup=Dt.prototype.Dd,Dt.prototype.Bd=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.K(t,e[r])},Dt.prototype.writeRepeatedFixedHash64=Dt.prototype.Bd,Dt.prototype.Yd=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.N(t,e[r])},Dt.prototype.writeRepeatedVarintHash64=Dt.prototype.Yd,Dt.prototype.ad=function(t,e){if(null!=e&&e.length){t=$t(this,t);for(var r=0;r<e.length;r++)this.a.M(e[r]);Vt(this,t)}},Dt.prototype.writePackedInt32=Dt.prototype.ad,Dt.prototype.bd=function(t,e){if(null!=e&&e.length){t=$t(this,t);for(var r=0;r<e.length;r++)this.a.M(parseInt(e[r],10));Vt(this,t)}},Dt.prototype.writePackedInt32String=Dt.prototype.bd,Dt.prototype.cd=function(t,e){if(null!=e&&e.length){t=$t(this,t);for(var r=0;r<e.length;r++)this.a.ua(e[r]);Vt(this,t)}},Dt.prototype.writePackedInt64=Dt.prototype.cd,Dt.prototype.md=function(t,e,r,s){if(null!=e){t=$t(this,t);for(var n=0;n<e.length;n++)this.a.A(r(e[n]),s(e[n]));Vt(this,t)}},Dt.prototype.writePackedSplitFixed64=Dt.prototype.md,Dt.prototype.nd=function(t,e,r,s){if(null!=e){t=$t(this,t);for(var n=0;n<e.length;n++)this.a.l(r(e[n]),s(e[n]));Vt(this,t)}},Dt.prototype.writePackedSplitVarint64=Dt.prototype.nd,Dt.prototype.od=function(t,e,r,s){if(null!=e){t=$t(this,t);for(var n=this.a,i=0;i<e.length;i++)$(r(e[i]),s(e[i]),(function(t,e){n.l(t>>>0,e>>>0)}));Vt(this,t)}},Dt.prototype.writePackedSplitZigzagVarint64=Dt.prototype.od,Dt.prototype.dd=function(t,e){if(null!=e&&e.length){t=$t(this,t);for(var r=0;r<e.length;r++){var s=Wt(e[r]);this.a.l(s.lo,s.hi)}Vt(this,t)}},Dt.prototype.writePackedInt64String=Dt.prototype.dd,Dt.prototype.pd=function(t,e){if(null!=e&&e.length){t=$t(this,t);for(var r=0;r<e.length;r++)this.a.j(e[r]);Vt(this,t)}},Dt.prototype.writePackedUint32=Dt.prototype.pd,Dt.prototype.qd=function(t,e){if(null!=e&&e.length){t=$t(this,t);for(var r=0;r<e.length;r++)this.a.j(parseInt(e[r],10));Vt(this,t)}},Dt.prototype.writePackedUint32String=Dt.prototype.qd,Dt.prototype.rd=function(t,e){if(null!=e&&e.length){t=$t(this,t);for(var r=0;r<e.length;r++)this.a.va(e[r]);Vt(this,t)}},Dt.prototype.writePackedUint64=Dt.prototype.rd,Dt.prototype.sd=function(t,e){if(null!=e&&e.length){t=$t(this,t);for(var r=0;r<e.length;r++){var s=Lt(e[r]);this.a.l(s.lo,s.hi)}Vt(this,t)}},Dt.prototype.writePackedUint64String=Dt.prototype.sd,Dt.prototype.hd=function(t,e){if(null!=e&&e.length){t=$t(this,t);for(var r=0;r<e.length;r++)this.a.wa(e[r]);Vt(this,t)}},Dt.prototype.writePackedSint32=Dt.prototype.hd,Dt.prototype.jd=function(t,e){if(null!=e&&e.length){t=$t(this,t);for(var r=0;r<e.length;r++)this.a.xa(e[r]);Vt(this,t)}},Dt.prototype.writePackedSint64=Dt.prototype.jd,Dt.prototype.kd=function(t,e){if(null!=e&&e.length){t=$t(this,t);for(var r=0;r<e.length;r++)this.a.W(tt(e[r]));Vt(this,t)}},Dt.prototype.writePackedSint64String=Dt.prototype.kd,Dt.prototype.ld=function(t,e){if(null!=e&&e.length){t=$t(this,t);for(var r=0;r<e.length;r++)this.a.W(e[r]);Vt(this,t)}},Dt.prototype.writePackedSintHash64=Dt.prototype.ld,Dt.prototype.Wc=function(t,e){if(null!=e&&e.length)for(Gt(this,t,2),this.a.j(4*e.length),t=0;t<e.length;t++)this.a.s(e[t])},Dt.prototype.writePackedFixed32=Dt.prototype.Wc,Dt.prototype.Xc=function(t,e){if(null!=e&&e.length)for(Gt(this,t,2),this.a.j(8*e.length),t=0;t<e.length;t++)this.a.V(e[t])},Dt.prototype.writePackedFixed64=Dt.prototype.Xc,Dt.prototype.Yc=function(t,e){if(null!=e&&e.length)for(Gt(this,t,2),this.a.j(8*e.length),t=0;t<e.length;t++){var r=Lt(e[t]);this.a.A(r.lo,r.hi)}},Dt.prototype.writePackedFixed64String=Dt.prototype.Yc,Dt.prototype.ed=function(t,e){if(null!=e&&e.length)for(Gt(this,t,2),this.a.j(4*e.length),t=0;t<e.length;t++)this.a.S(e[t])},Dt.prototype.writePackedSfixed32=Dt.prototype.ed,Dt.prototype.fd=function(t,e){if(null!=e&&e.length)for(Gt(this,t,2),this.a.j(8*e.length),t=0;t<e.length;t++)this.a.T(e[t])},Dt.prototype.writePackedSfixed64=Dt.prototype.fd,Dt.prototype.gd=function(t,e){if(null!=e&&e.length)for(Gt(this,t,2),this.a.j(8*e.length),t=0;t<e.length;t++)this.a.ka(e[t])},Dt.prototype.writePackedSfixed64String=Dt.prototype.gd,Dt.prototype.$c=function(t,e){if(null!=e&&e.length)for(Gt(this,t,2),this.a.j(4*e.length),t=0;t<e.length;t++)this.a.L(e[t])},Dt.prototype.writePackedFloat=Dt.prototype.$c,Dt.prototype.Uc=function(t,e){if(null!=e&&e.length)for(Gt(this,t,2),this.a.j(8*e.length),t=0;t<e.length;t++)this.a.J(e[t])},Dt.prototype.writePackedDouble=Dt.prototype.Uc,Dt.prototype.Tc=function(t,e){if(null!=e&&e.length)for(Gt(this,t,2),this.a.j(e.length),t=0;t<e.length;t++)this.a.I(e[t])},Dt.prototype.writePackedBool=Dt.prototype.Tc,Dt.prototype.Vc=function(t,e){if(null!=e&&e.length){t=$t(this,t);for(var r=0;r<e.length;r++)this.a.R(e[r]);Vt(this,t)}},Dt.prototype.writePackedEnum=Dt.prototype.Vc,Dt.prototype.Zc=function(t,e){if(null!=e&&e.length)for(Gt(this,t,2),this.a.j(8*e.length),t=0;t<e.length;t++)this.a.K(e[t])},Dt.prototype.writePackedFixedHash64=Dt.prototype.Zc,Dt.prototype.td=function(t,e){if(null!=e&&e.length){t=$t(this,t);for(var r=0;r<e.length;r++)this.a.N(e[r]);Vt(this,t)}},Dt.prototype.writePackedVarintHash64=Dt.prototype.td,e.debug=It,e.Map=x,e.Message=ft,e.BinaryReader=ut,e.BinaryWriter=Dt,e.ExtensionFieldInfo=pt,e.ExtensionFieldBinaryInfo=dt,e.exportSymbol=function(t,e,r){l(t,e,r)},e.inherits=function(t,e){function r(){}r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t},e.object={extend:function(t,e){for(var r,s,n=1;n<arguments.length;n++){for(r in s=arguments[n])t[r]=s[r];for(var i=0;i<d.length;i++)r=d[i],Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}}},e.typeOf=c},1118:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(2373)}])},8934:function(t,e,r){"use strict";r.d(e,{p:function(){return sa},a:function(){return na}});var s={};r.r(s),r.d(s,{bitGet:function(){return we},bitLen:function(){return be},bitMask:function(){return xe},bitSet:function(){return ve},bytesToHex:function(){return oe},bytesToNumberBE:function(){return le},bytesToNumberLE:function(){return ce},concatBytes:function(){return ye},createHmacDrbg:function(){return Ee},ensureBytes:function(){return ge},equalBytes:function(){return me},hexToBytes:function(){return he},hexToNumber:function(){return ue},numberToBytesBE:function(){return pe},numberToBytesLE:function(){return de},numberToHexUnpadded:function(){return ae},numberToVarBytesBE:function(){return fe},utf8ToBytes:function(){return _e},validateObject:function(){return Ae}});var n=r(7568);function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"===typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a=r(7582),u=r(5893),h=r(7294),l=r(1163),c=r.n(l),p="0x005BA13c548F032828633C581fA3DeFffC65051A",d=JSON.parse('{"Mt":[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"friend_key","type":"address"},{"indexed":false,"internalType":"string","name":"name","type":"string"}],"name":"AddFriend","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bool","name":"isUserLoggedIn","type":"bool"}],"name":"LoginUser","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bool","name":"isUserLoggedIn","type":"bool"}],"name":"LogoutUser","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"addr","type":"address"},{"indexed":false,"internalType":"string","name":"name","type":"string"},{"indexed":false,"internalType":"string","name":"password","type":"string"},{"indexed":false,"internalType":"bool","name":"isUserLoggedIn","type":"bool"}],"name":"RegisterUser","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"sender_key","type":"address"},{"indexed":false,"internalType":"address","name":"friend_key","type":"address"},{"indexed":false,"internalType":"string","name":"msg","type":"string"}],"name":"SendMessage","type":"event"},{"inputs":[{"internalType":"address","name":"friend_key","type":"address"},{"internalType":"string","name":"name","type":"string"}],"name":"addFriend","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"checkIsUserLogged","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pubkey","type":"address"}],"name":"checkUserExists","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getMyFriendList","outputs":[{"components":[{"internalType":"address","name":"pubkey","type":"address"},{"internalType":"string","name":"name","type":"string"}],"internalType":"struct ChatContract.friend[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pubkey","type":"address"}],"name":"getUsername","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"},{"internalType":"string","name":"_name","type":"string"},{"internalType":"string","name":"_password","type":"string"}],"name":"loginUser","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"logoutUser","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"friend_key","type":"address"}],"name":"readMessage","outputs":[{"components":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"timestamp","type":"uint256"},{"internalType":"string","name":"msg","type":"string"}],"internalType":"struct ChatContract.message[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"},{"internalType":"string","name":"_name","type":"string"},{"internalType":"string","name":"_password","type":"string"}],"name":"registerUser","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"friend_key","type":"address"},{"internalType":"string","name":"_msg","type":"string"}],"name":"sendMessage","outputs":[],"stateMutability":"nonpayable","type":"function"}]}');function f(t,e,r){const s=e.split("|").map((t=>t.trim()));for(let i=0;i<s.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const n=new Error(`invalid value for type ${e}`);throw n.code="INVALID_ARGUMENT",n.argument=`value.${r}`,n.value=t,n}async function g(t){const e=Object.keys(t);return(await Promise.all(e.map((e=>Promise.resolve(t[e]))))).reduce(((t,r,s)=>(t[e[s]]=r,t)),{})}function y(t,e,r){for(const s in e){const n=e[s],i=r?r[s]:null;i&&f(n,i,s),Object.defineProperty(t,s,{enumerable:!0,value:n,writable:!1})}}function m(t){if(null==t)return"null";if(Array.isArray(t))return"[ "+t.map(m).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let r="0x";for(let s=0;s<t.length;s++)r+=e[t[s]>>4],r+=e[15&t[s]];return r}if("object"===typeof t&&"function"===typeof t.toJSON)return m(t.toJSON());switch(typeof t){case"boolean":case"symbol":case"number":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map((e=>`${m(e)}: ${m(t[e])}`)).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function _(t,e){return t&&t.code===e}function b(t){return _(t,"CALL_EXCEPTION")}function w(t,e,r){const s=t;{const s=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${m(r)}`);for(const t in r){if("shortMessage"===t)continue;const e=r[t];s.push(t+"="+m(e))}}s.push(`code=${e}`),s.push("version=1.0.0-alpha.26"),s.length&&(t+=" ("+s.join(", ")+")")}let n;switch(e){case"INVALID_ARGUMENT":n=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=new RangeError(t);break;default:n=new Error(t)}return y(n,{code:e}),r&&Object.assign(n,r),null==n.shortMessage&&y(n,{shortMessage:s}),n}function v(t,e,r,s){if(!t)throw w(e,r,s)}function x(t,e,r,s){v(t,e,"INVALID_ARGUMENT",{argument:r,value:s})}function k(t,e,r){null==r&&(r=""),r&&(r=": "+r),v(t>=e,"missing arguemnt"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),v(t<=e,"too many arguemnts"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}const O=["NFD","NFC","NFKD","NFKC"].reduce(((t,e)=>{try{if("test"!=="test".normalize(e))throw new Error("bad");if("NFD"===e){const t=String.fromCharCode(233).normalize("NFD");if(t!==String.fromCharCode(101,769))throw new Error("broken")}t.push(e)}catch(r){}return t}),[]);function E(t,e,r){if(null==r&&(r=""),t!==e){let t=r,e="new";r&&(t+=".",e+=" "+r),v(!1,`private constructor; use ${t}from* methods`,"UNSUPPORTED_OPERATION",{operation:e})}}function M(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if("string"===typeof t&&t.match(/^0x([0-9a-f][0-9a-f])*$/i)){const e=new Uint8Array((t.length-2)/2);let r=2;for(let s=0;s<e.length;s++)e[s]=parseInt(t.substring(r,r+2),16),r+=2;return e}x(!1,"invalid BytesLike value",e||"value",t)}function A(t,e){return M(t,e,!1)}function F(t,e){return M(t,e,!0)}function B(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(("number"!==typeof e||t.length===2+2*e)&&(!0!==e||t.length%2===0))}const T="0123456789abcdef";function R(t){const e=A(t);let r="0x";for(let s=0;s<e.length;s++){const t=e[s];r+=T[(240&t)>>4]+T[15&t]}return r}function P(t){return"0x"+t.map((t=>R(t).substring(2))).join("")}function S(t){return B(t,!0)?(t.length-2)/2:A(t).length}function j(t,e,r){const s=A(t);return null!=r&&r>s.length&&v(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:s,length:s.length,offset:r}),R(s.slice(null==e?0:e,null==r?s.length:r))}function z(t,e,r){const s=A(t);v(e>=s.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(s),length:e,offset:e+1});const n=new Uint8Array(e);return n.fill(0),r?n.set(s,e-s.length):n.set(s,0),R(n)}function I(t,e){return z(t,e,!0)}const N=BigInt(0),U=BigInt(1),C=9007199254740991;function L(t,e){let r=W(t,"value");const s=BigInt(V(e,"width")),n=U<<s-U;if(r<N){r=-r,v(r<=n,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return(~r&(U<<s)-U)+U}return v(r<n,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t}),r}function H(t,e){const r=D(t,"value"),s=BigInt(V(e,"bits"));return r&(U<<s)-U}function W(t,e){switch(typeof t){case"bigint":return t;case"number":return x(Number.isInteger(t),"underflow",e||"value",t),x(t>=-C&&t<=C,"overflow",e||"value",t),BigInt(t);case"string":try{if(""===t)throw new Error("empty string");return"-"===t[0]&&"-"!==t[1]?-BigInt(t.substring(1)):BigInt(t)}catch(r){x(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}x(!1,"invalid BigNumberish value",e||"value",t)}function D(t,e){const r=W(t,e);return v(r>=N,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}const q="0123456789abcdef";function $(t){if(t instanceof Uint8Array){let e="0x0";for(const r of t)e+=q[r>>4],e+=q[15&r];return BigInt(e)}return W(t)}function V(t,e){switch(typeof t){case"bigint":return x(t>=-C&&t<=C,"overflow",e||"value",t),Number(t);case"number":return x(Number.isInteger(t),"underflow",e||"value",t),x(t>=-C&&t<=C,"overflow",e||"value",t),t;case"string":try{if(""===t)throw new Error("empty string");return V(BigInt(t),e)}catch(r){x(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}x(!1,"invalid numeric value",e||"value",t)}function G(t,e){let r=D(t,"value").toString(16);if(null==e)r.length%2&&(r="0"+r);else{const s=V(e,"width");for(v(2*s>=r.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<2*s;)r="0"+r}return"0x"+r}function J(t){const e=D(t,"value");if(e===N)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r="0"+r);const s=new Uint8Array(r.length/2);for(let n=0;n<s.length;n++){const t=2*n;s[n]=parseInt(r.substring(t,t+2),16)}return s}function K(t){let e=R(function(t){return B(t,!0)||t instanceof Uint8Array}(t)?t:J(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return""===e&&(e="0"),"0x"+e}const Z=32,Q=new Uint8Array(Z),Y=["then"],X={};function tt(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}class et extends Array{#t;constructor(...t){const e=t[0];let r=t[1],s=(t[2]||[]).slice(),n=!0;e!==X&&(r=t,s=[],n=!1),super(r.length),r.forEach(((t,e)=>{this[e]=t}));const i=s.reduce(((t,e)=>("string"===typeof e&&t.set(e,(t.get(e)||0)+1),t)),new Map);if(this.#t=Object.freeze(r.map(((t,e)=>{const r=s[e];return null!=r&&1===i.get(r)?r:null}))),n)return Object.freeze(this),new Proxy(this,{get:(t,e,r)=>{if("string"===typeof e){if(e.match(/^[0-9]+$/)){const r=V(e,"%index");if(r<0||r>=this.length)throw new RangeError("out of result range");const s=t[r];return s instanceof Error&&tt(`index ${r}`,s),s}if(Y.indexOf(e)>=0)return Reflect.get(t,e,r);const s=t[e];if(s instanceof Function)return function(...e){return s.apply(this===r?t:this,e)};if(!(e in t))return t.getValue.apply(this===r?t:this,[e])}return Reflect.get(t,e,r)}})}toArray(){const t=[];return this.forEach(((e,r)=>{e instanceof Error&&tt(`index ${r}`,e),t.push(e)})),t}toObject(){return this.#t.reduce(((t,e,r)=>(v(null!=e,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),e in t||(t[e]=this.getValue(e)),t)),{})}slice(t,e){null==t&&(t=0),t<0&&(t+=this.length)<0&&(t=0),null==e&&(e=this.length),e<0&&(e+=this.length)<0&&(e=0),e>this.length&&(e=this.length);const r=[],s=[];for(let n=t;n<e;n++)r.push(this[n]),s.push(this.#t[n]);return new et(X,r,s)}filter(t,e){const r=[],s=[];for(let n=0;n<this.length;n++){const i=this[n];i instanceof Error&&tt(`index ${n}`,i),t.call(e,i,n,this)&&(r.push(i),s.push(this.#t[n]))}return new et(X,r,s)}map(t,e){const r=[];for(let s=0;s<this.length;s++){const n=this[s];n instanceof Error&&tt(`index ${s}`,n),r.push(t.call(e,n,s,this))}return r}getValue(t){const e=this.#t.indexOf(t);if(-1===e)return;const r=this[e];return r instanceof Error&&tt(`property ${JSON.stringify(t)}`,r.error),r}static fromItems(t,e){return new et(X,t,e)}}function rt(t){let e=J(t);return v(e.length<=Z,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Z,offset:e.length}),e.length!==Z&&(e=F(P([Q.slice(e.length%Z),e]))),e}class st{name;type;localName;dynamic;constructor(t,e,r,s){y(this,{name:t,type:e,localName:r,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,e){x(!1,t,this.localName,e)}}class nt{#e;#r;constructor(){this.#e=[],this.#r=0}get data(){return P(this.#e)}get length(){return this.#r}#s(t){return this.#e.push(t),this.#r+=t.length,t.length}appendWriter(t){return this.#s(F(t.data))}writeBytes(t){let e=F(t);const r=e.length%Z;return r&&(e=F(P([e,Q.slice(r)]))),this.#s(e)}writeValue(t){return this.#s(rt(t))}writeUpdatableValue(){const t=this.#e.length;return this.#e.push(Q),this.#r+=Z,e=>{this.#e[t]=rt(e)}}}class it{allowLoose;#e;#n;#i;#o;#a;constructor(t,e,r){y(this,{allowLoose:!!e}),this.#e=F(t),this.#i=0,this.#o=null,this.#a=null!=r?r:1024,this.#n=0}get data(){return R(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#n}get bytes(){return new Uint8Array(this.#e)}#u(t){if(this.#o)return this.#o.#u(t);this.#i+=t,v(this.#a<1||this.#i<=this.#a*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#a} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:F(this.#e),offset:this.#n,length:t,info:{bytesRead:this.#i,dataLength:this.dataLength}})}#h(t,e,r){let s=Math.ceil(e/Z)*Z;return this.#n+s>this.#e.length&&(this.allowLoose&&r&&this.#n+e<=this.#e.length?s=e:v(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:F(this.#e),length:this.#e.length,offset:this.#n+s})),this.#e.slice(this.#n,this.#n+s)}subReader(t){const e=new it(this.#e.slice(this.#n+t),this.allowLoose,this.#a);return e.#o=this,e}readBytes(t,e){const r=this.#h(0,t,!!e);return this.#u(t),this.#n+=r.length,r.slice(0,t)}readValue(){return $(this.readBytes(Z))}readIndex(){return V($(this.readBytes(Z)))}}function ot(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function at(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function ut(t){if("function"!==typeof t||"function"!==typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");ot(t.outputLen),ot(t.blockLen)}function ht(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function lt(t,e){at(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const ct=BigInt(2**32-1),pt=BigInt(32);function dt(t,e=!1){return e?{h:Number(t&ct),l:Number(t>>pt&ct)}:{h:0|Number(t>>pt&ct),l:0|Number(t&ct)}}function ft(t,e=!1){let r=new Uint32Array(t.length),s=new Uint32Array(t.length);for(let n=0;n<t.length;n++){const{h:i,l:o}=dt(t[n],e);[r[n],s[n]]=[i,o]}return[r,s]}const gt=(t,e,r)=>t<<r|e>>>32-r,yt=(t,e,r)=>e<<r|t>>>32-r,mt=(t,e,r)=>e<<r-32|t>>>64-r,_t=(t,e,r)=>t<<r-32|e>>>64-r;const bt="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,wt=t=>t instanceof Uint8Array,vt=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),xt=(t,e)=>t<<32-e|t>>>e;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function kt(t){if("string"===typeof t&&(t=function(t){if("string"!==typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}(t)),!wt(t))throw new Error("expected Uint8Array, got "+typeof t);return t}class Ot{clone(){return this._cloneInto()}}function Et(t){const e=e=>t().update(kt(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Mt(t=32){if(bt&&"function"===typeof bt.getRandomValues)return bt.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}const[At,Ft,Bt]=[[],[],[]],Tt=BigInt(0),Rt=BigInt(1),Pt=BigInt(2),St=BigInt(7),jt=BigInt(256),zt=BigInt(113);for(let ia=0,oa=Rt,aa=1,ua=0;ia<24;ia++){[aa,ua]=[ua,(2*aa+3*ua)%5],At.push(2*(5*ua+aa)),Ft.push((ia+1)*(ia+2)/2%64);let t=Tt;for(let e=0;e<7;e++)oa=(oa<<Rt^(oa>>St)*zt)%jt,oa&Pt&&(t^=Rt<<(Rt<<BigInt(e))-Rt);Bt.push(t)}const[It,Nt]=ft(Bt,!0),Ut=(t,e,r)=>r>32?mt(t,e,r):gt(t,e,r),Ct=(t,e,r)=>r>32?_t(t,e,r):yt(t,e,r);class Lt extends Ot{constructor(t,e,r,s=!1,n=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=s,this.rounds=n,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ot(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var i;this.state=new Uint8Array(200),this.state32=(i=this.state,new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4)))}keccak(){!function(t,e=24){const r=new Uint32Array(10);for(let s=24-e;s<24;s++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const e=(s+8)%10,n=(s+2)%10,i=r[n],o=r[n+1],a=Ut(i,o,1)^r[e],u=Ct(i,o,1)^r[e+1];for(let r=0;r<50;r+=10)t[s+r]^=a,t[s+r+1]^=u}let e=t[2],n=t[3];for(let r=0;r<24;r++){const s=Ft[r],i=Ut(e,n,s),o=Ct(e,n,s),a=At[r];e=t[a],n=t[a+1],t[a]=i,t[a+1]=o}for(let s=0;s<50;s+=10){for(let e=0;e<10;e++)r[e]=t[s+e];for(let e=0;e<10;e++)t[s+e]^=~r[(e+2)%10]&r[(e+4)%10]}t[0]^=It[s],t[1]^=Nt[s]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){ht(this);const{blockLen:e,state:r}=this,s=(t=kt(t)).length;for(let n=0;n<s;){const i=Math.min(e-this.pos,s-n);for(let e=0;e<i;e++)r[this.pos++]^=t[n++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:s}=this;t[r]^=e,0!==(128&e)&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){ht(this,!1),at(t),this.finish();const e=this.state,{blockLen:r}=this;for(let s=0,n=t.length;s<n;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,n-s);t.set(e.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return ot(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(lt(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:s,rounds:n,enableXOF:i}=this;return t||(t=new Lt(e,r,s,i,n)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=n,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const Ht=(t,e,r)=>Et((()=>new Lt(e,t,r))),Wt=Ht(1,136,32);let Dt=!1;const qt=function(t){return Wt(t)};let $t=qt;function Vt(t){const e=A(t,"data");return R($t(e))}Vt._=qt,Vt.lock=function(){Dt=!0},Vt.register=function(t){if(Dt)throw new TypeError("keccak256 is locked");$t=t},Object.freeze(Vt);class Gt extends Ot{constructor(t,e,r,s){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=vt(this.buffer)}update(t){ht(this);const{view:e,buffer:r,blockLen:s}=this,n=(t=kt(t)).length;for(let i=0;i<n;){const o=Math.min(s-this.pos,n-i);if(o!==s)r.set(t.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===s&&(this.process(e,0),this.pos=0);else{const e=vt(t);for(;s<=n-i;i+=s)this.process(e,i)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){ht(this),lt(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:s,isLE:n}=this;let{pos:i}=this;e[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>s-i&&(this.process(r,0),i=0);for(let l=i;l<s;l++)e[l]=0;!function(t,e,r,s){if("function"===typeof t.setBigUint64)return t.setBigUint64(e,r,s);const n=BigInt(32),i=BigInt(4294967295),o=Number(r>>n&i),a=Number(r&i),u=s?4:0,h=s?0:4;t.setUint32(e+u,o,s),t.setUint32(e+h,a,s)}(r,s-8,BigInt(8*this.length),n),this.process(r,0);const o=vt(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=a/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<u;l++)o.setUint32(4*l,h[l],n)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:s,finished:n,destroyed:i,pos:o}=this;return t.length=s,t.pos=o,t.finished=n,t.destroyed=i,s%e&&t.buffer.set(r),t}}const Jt=(t,e,r)=>t&e^~t&r,Kt=(t,e,r)=>t&e^t&r^e&r,Zt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Qt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yt=new Uint32Array(64);class Xt extends Gt{constructor(){super(64,32,8,!1),this.A=0|Qt[0],this.B=0|Qt[1],this.C=0|Qt[2],this.D=0|Qt[3],this.E=0|Qt[4],this.F=0|Qt[5],this.G=0|Qt[6],this.H=0|Qt[7]}get(){const{A:t,B:e,C:r,D:s,E:n,F:i,G:o,H:a}=this;return[t,e,r,s,n,i,o,a]}set(t,e,r,s,n,i,o,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|s,this.E=0|n,this.F=0|i,this.G=0|o,this.H=0|a}process(t,e){for(let l=0;l<16;l++,e+=4)Yt[l]=t.getUint32(e,!1);for(let l=16;l<64;l++){const t=Yt[l-15],e=Yt[l-2],r=xt(t,7)^xt(t,18)^t>>>3,s=xt(e,17)^xt(e,19)^e>>>10;Yt[l]=s+Yt[l-7]+r+Yt[l-16]|0}let{A:r,B:s,C:n,D:i,E:o,F:a,G:u,H:h}=this;for(let l=0;l<64;l++){const t=h+(xt(o,6)^xt(o,11)^xt(o,25))+Jt(o,a,u)+Zt[l]+Yt[l]|0,e=(xt(r,2)^xt(r,13)^xt(r,22))+Kt(r,s,n)|0;h=u,u=a,a=o,o=i+t|0,i=n,n=s,s=r,r=t+e|0}r=r+this.A|0,s=s+this.B|0,n=n+this.C|0,i=i+this.D|0,o=o+this.E|0,a=a+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(r,s,n,i,o,a,u,h)}roundClean(){Yt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const te=Et((()=>new Xt)),ee=BigInt(0),re=BigInt(1),se=BigInt(2),ne=t=>t instanceof Uint8Array,ie=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function oe(t){if(!ne(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=ie[t[r]];return e}function ae(t){const e=t.toString(16);return 1&e.length?`0${e}`:e}function ue(t){if("string"!==typeof t)throw new Error("hex string expected, got "+typeof t);return BigInt(""===t?"0":`0x${t}`)}function he(t){if("string"!==typeof t)throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let s=0;s<r.length;s++){const e=2*s,n=t.slice(e,e+2),i=Number.parseInt(n,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");r[s]=i}return r}function le(t){return ue(oe(t))}function ce(t){if(!ne(t))throw new Error("Uint8Array expected");return ue(oe(Uint8Array.from(t).reverse()))}function pe(t,e){return he(t.toString(16).padStart(2*e,"0"))}function de(t,e){return pe(t,e).reverse()}function fe(t){return he(ae(t))}function ge(t,e,r){let s;if("string"===typeof e)try{s=he(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else{if(!ne(e))throw new Error(`${t} must be hex string or Uint8Array`);s=Uint8Array.from(e)}const n=s.length;if("number"===typeof r&&n!==r)throw new Error(`${t} expected ${r} bytes, got ${n}`);return s}function ye(...t){const e=new Uint8Array(t.reduce(((t,e)=>t+e.length),0));let r=0;return t.forEach((t=>{if(!ne(t))throw new Error("Uint8Array expected");e.set(t,r),r+=t.length})),e}function me(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function _e(t){if("string"!==typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}function be(t){let e;for(e=0;t>ee;t>>=re,e+=1);return e}function we(t,e){return t>>BigInt(e)&re}const ve=(t,e,r)=>t|(r?re:ee)<<BigInt(e),xe=t=>(se<<BigInt(t-1))-re,ke=t=>new Uint8Array(t),Oe=t=>Uint8Array.from(t);function Ee(t,e,r){if("number"!==typeof t||t<2)throw new Error("hashLen must be a number");if("number"!==typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!==typeof r)throw new Error("hmacFn must be a function");let s=ke(t),n=ke(t),i=0;const o=()=>{s.fill(1),n.fill(0),i=0},a=(...t)=>r(n,s,...t),u=(t=ke())=>{n=a(Oe([0]),t),s=a(),0!==t.length&&(n=a(Oe([1]),t),s=a())},h=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let t=0;const r=[];for(;t<e;){s=a();const e=s.slice();r.push(e),t+=s.length}return ye(...r)};return(t,e)=>{let r;for(o(),u(t);!(r=e(h()));)u();return o(),r}}const Me={bigint:t=>"bigint"===typeof t,function:t=>"function"===typeof t,boolean:t=>"boolean"===typeof t,string:t=>"string"===typeof t,stringOrUint8Array:t=>"string"===typeof t||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"===typeof t&&Number.isSafeInteger(t.outputLen)};function Ae(t,e,r={}){const s=(e,r,s)=>{const n=Me[r];if("function"!==typeof n)throw new Error(`Invalid validator "${r}", expected function`);const i=t[e];if((!s||void 0!==i)&&!n(i,t))throw new Error(`Invalid param ${String(e)}=${i} (${typeof i}), expected ${r}`)};for(const[n,i]of Object.entries(e))s(n,i,!1);for(const[n,i]of Object.entries(r))s(n,i,!0);return t}const Fe=BigInt(0),Be=BigInt(1),Te=BigInt(2),Re=BigInt(3),Pe=BigInt(4),Se=BigInt(5),je=BigInt(8);BigInt(9),BigInt(16);function ze(t,e){const r=t%e;return r>=Fe?r:e+r}function Ie(t,e,r){if(r<=Fe||e<Fe)throw new Error("Expected power/modulo > 0");if(r===Be)return Fe;let s=Be;for(;e>Fe;)e&Be&&(s=s*t%r),t=t*t%r,e>>=Be;return s}function Ne(t,e,r){let s=t;for(;e-- >Fe;)s*=s,s%=r;return s}function Ue(t,e){if(t===Fe||e<=Fe)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=ze(t,e),s=e,n=Fe,i=Be,o=Be,a=Fe;for(;r!==Fe;){const t=s/r,e=s%r,u=n-o*t,h=i-a*t;s=r,r=e,n=o,i=a,o=u,a=h}if(s!==Be)throw new Error("invert: does not exist");return ze(n,e)}function Ce(t){if(t%Pe===Re){const e=(t+Be)/Pe;return function(t,r){const s=t.pow(r,e);if(!t.eql(t.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%je===Se){const e=(t-Se)/je;return function(t,r){const s=t.mul(r,Te),n=t.pow(s,e),i=t.mul(r,n),o=t.mul(t.mul(i,Te),n),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),r))throw new Error("Cannot find square root");return a}}return function(t){const e=(t-Be)/Te;let r,s,n;for(r=t-Be,s=0;r%Te===Fe;r/=Te,s++);for(n=Te;n<t&&Ie(n,e,t)!==t-Be;n++);if(1===s){const e=(t+Be)/Pe;return function(t,r){const s=t.pow(r,e);if(!t.eql(t.sqr(s),r))throw new Error("Cannot find square root");return s}}const i=(r+Be)/Te;return function(t,o){if(t.pow(o,e)===t.neg(t.ONE))throw new Error("Cannot find square root");let a=s,u=t.pow(t.mul(t.ONE,n),r),h=t.pow(o,i),l=t.pow(o,r);for(;!t.eql(l,t.ONE);){if(t.eql(l,t.ZERO))return t.ZERO;let e=1;for(let s=t.sqr(l);e<a&&!t.eql(s,t.ONE);e++)s=t.sqr(s);const r=t.pow(u,Be<<BigInt(a-e-1));u=t.sqr(r),h=t.mul(h,r),l=t.mul(l,u),a=e}return h}}(t)}const Le=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function He(t,e){const r=void 0!==e?e:t.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function We(t){if("bigint"!==typeof t)throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function De(t){const e=We(t);return e+Math.ceil(e/2)}class qe extends Ot{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,ut(t);const r=kt(e);if(this.iHash=t.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,n=new Uint8Array(s);n.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<n.length;i++)n[i]^=54;this.iHash.update(n),this.oHash=t.create();for(let i=0;i<n.length;i++)n[i]^=106;this.oHash.update(n),n.fill(0)}update(t){return ht(this),this.iHash.update(t),this}digestInto(t){ht(this),at(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:s,destroyed:n,blockLen:i,outputLen:o}=this;return t.finished=s,t.destroyed=n,t.blockLen=i,t.outputLen=o,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const $e=(t,e,r)=>new qe(t,e).update(r).digest();$e.create=(t,e)=>new qe(t,e);const Ve=BigInt(0),Ge=BigInt(1);function Je(t){return Ae(t.Fp,Le.reduce(((t,e)=>(t[e]="function",t)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),Ae(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...He(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const{bytesToNumberBE:Ke,hexToBytes:Ze}=s,Qe={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(t){const{Err:e}=Qe;if(t.length<2||2!==t[0])throw new e("Invalid signature integer tag");const r=t[1],s=t.subarray(2,r+2);if(!r||s.length!==r)throw new e("Invalid signature integer: wrong length");if(128&s[0])throw new e("Invalid signature integer: negative");if(0===s[0]&&!(128&s[1]))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Ke(s),l:t.subarray(r+2)}},toSig(t){const{Err:e}=Qe,r="string"===typeof t?Ze(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let s=r.length;if(s<2||48!=r[0])throw new e("Invalid signature tag");if(r[1]!==s-2)throw new e("Invalid signature: incorrect length");const{d:n,l:i}=Qe._parseInt(r.subarray(2)),{d:o,l:a}=Qe._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:n,s:o}},hexFromSig(t){const e=t=>8&Number.parseInt(t[0],16)?"00"+t:t,r=t=>{const e=t.toString(16);return 1&e.length?`0${e}`:e},s=e(r(t.s)),n=e(r(t.r)),i=s.length/2,o=n.length/2,a=r(i),u=r(o);return`30${r(o+i+4)}02${u}${n}02${a}${s}`}},Ye=BigInt(0),Xe=BigInt(1),tr=(BigInt(2),BigInt(3));BigInt(4);function er(t){const e=function(t){const e=Je(t);Ae(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:s,a:n}=e;if(r){if(!s.eql(n,s.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof r||"bigint"!==typeof r.beta||"function"!==typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}(t),{Fp:r}=e,s=e.toBytes||((t,e,s)=>{const n=e.toAffine();return ye(Uint8Array.from([4]),r.toBytes(n.x),r.toBytes(n.y))}),n=e.fromBytes||(t=>{const e=t.subarray(1);return{x:r.fromBytes(e.subarray(0,r.BYTES)),y:r.fromBytes(e.subarray(r.BYTES,2*r.BYTES))}});function i(t){const{a:s,b:n}=e,i=r.sqr(t),o=r.mul(i,t);return r.add(r.add(o,r.mul(t,s)),n)}if(!r.eql(r.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(t){return"bigint"===typeof t&&Ye<t&&t<e.n}function a(t){if(!o(t))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(t){const{allowedPrivateKeyLengths:r,nByteLength:s,wrapPrivateKey:n,n:i}=e;if(r&&"bigint"!==typeof t){if(t instanceof Uint8Array&&(t=oe(t)),"string"!==typeof t||!r.includes(t.length))throw new Error("Invalid key");t=t.padStart(2*s,"0")}let o;try{o="bigint"===typeof t?t:le(ge("private key",t,s))}catch(u){throw new Error(`private key must be ${s} bytes, hex or bigint, not ${typeof t}`)}return n&&(o=ze(o,i)),a(o),o}const h=new Map;function l(t){if(!(t instanceof c))throw new Error("ProjectivePoint expected")}class c{constructor(t,e,s){if(this.px=t,this.py=e,this.pz=s,null==t||!r.isValid(t))throw new Error("x required");if(null==e||!r.isValid(e))throw new Error("y required");if(null==s||!r.isValid(s))throw new Error("z required")}static fromAffine(t){const{x:e,y:s}=t||{};if(!t||!r.isValid(e)||!r.isValid(s))throw new Error("invalid affine point");if(t instanceof c)throw new Error("projective point not allowed");const n=t=>r.eql(t,r.ZERO);return n(e)&&n(s)?c.ZERO:new c(e,s,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){const e=r.invertBatch(t.map((t=>t.pz)));return t.map(((t,r)=>t.toAffine(e[r]))).map(c.fromAffine)}static fromHex(t){const e=c.fromAffine(n(ge("pointHex",t)));return e.assertValidity(),e}static fromPrivateKey(t){return c.BASE.multiply(u(t))}_setWindowSize(t){this._WINDOW_SIZE=t,h.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:t,y:s}=this.toAffine();if(!r.isValid(t)||!r.isValid(s))throw new Error("bad point: x or y not FE");const n=r.sqr(s),o=i(t);if(!r.eql(n,o))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:t}=this.toAffine();if(r.isOdd)return!r.isOdd(t);throw new Error("Field doesn't support isOdd")}equals(t){l(t);const{px:e,py:s,pz:n}=this,{px:i,py:o,pz:a}=t,u=r.eql(r.mul(e,a),r.mul(i,n)),h=r.eql(r.mul(s,a),r.mul(o,n));return u&&h}negate(){return new c(this.px,r.neg(this.py),this.pz)}double(){const{a:t,b:s}=e,n=r.mul(s,tr),{px:i,py:o,pz:a}=this;let u=r.ZERO,h=r.ZERO,l=r.ZERO,p=r.mul(i,i),d=r.mul(o,o),f=r.mul(a,a),g=r.mul(i,o);return g=r.add(g,g),l=r.mul(i,a),l=r.add(l,l),u=r.mul(t,l),h=r.mul(n,f),h=r.add(u,h),u=r.sub(d,h),h=r.add(d,h),h=r.mul(u,h),u=r.mul(g,u),l=r.mul(n,l),f=r.mul(t,f),g=r.sub(p,f),g=r.mul(t,g),g=r.add(g,l),l=r.add(p,p),p=r.add(l,p),p=r.add(p,f),p=r.mul(p,g),h=r.add(h,p),f=r.mul(o,a),f=r.add(f,f),p=r.mul(f,g),u=r.sub(u,p),l=r.mul(f,d),l=r.add(l,l),l=r.add(l,l),new c(u,h,l)}add(t){l(t);const{px:s,py:n,pz:i}=this,{px:o,py:a,pz:u}=t;let h=r.ZERO,p=r.ZERO,d=r.ZERO;const f=e.a,g=r.mul(e.b,tr);let y=r.mul(s,o),m=r.mul(n,a),_=r.mul(i,u),b=r.add(s,n),w=r.add(o,a);b=r.mul(b,w),w=r.add(y,m),b=r.sub(b,w),w=r.add(s,i);let v=r.add(o,u);return w=r.mul(w,v),v=r.add(y,_),w=r.sub(w,v),v=r.add(n,i),h=r.add(a,u),v=r.mul(v,h),h=r.add(m,_),v=r.sub(v,h),d=r.mul(f,w),h=r.mul(g,_),d=r.add(h,d),h=r.sub(m,d),d=r.add(m,d),p=r.mul(h,d),m=r.add(y,y),m=r.add(m,y),_=r.mul(f,_),w=r.mul(g,w),m=r.add(m,_),_=r.sub(y,_),_=r.mul(f,_),w=r.add(w,_),y=r.mul(m,w),p=r.add(p,y),y=r.mul(v,w),h=r.mul(b,h),h=r.sub(h,y),y=r.mul(b,m),d=r.mul(v,d),d=r.add(d,y),new c(h,p,d)}subtract(t){return this.add(t.negate())}is0(){return this.equals(c.ZERO)}wNAF(t){return d.wNAFCached(this,h,t,(t=>{const e=r.invertBatch(t.map((t=>t.pz)));return t.map(((t,r)=>t.toAffine(e[r]))).map(c.fromAffine)}))}multiplyUnsafe(t){const s=c.ZERO;if(t===Ye)return s;if(a(t),t===Xe)return this;const{endo:n}=e;if(!n)return d.unsafeLadder(this,t);let{k1neg:i,k1:o,k2neg:u,k2:h}=n.splitScalar(t),l=s,p=s,f=this;for(;o>Ye||h>Ye;)o&Xe&&(l=l.add(f)),h&Xe&&(p=p.add(f)),f=f.double(),o>>=Xe,h>>=Xe;return i&&(l=l.negate()),u&&(p=p.negate()),p=new c(r.mul(p.px,n.beta),p.py,p.pz),l.add(p)}multiply(t){a(t);let s,n,i=t;const{endo:o}=e;if(o){const{k1neg:t,k1:e,k2neg:a,k2:u}=o.splitScalar(i);let{p:h,f:l}=this.wNAF(e),{p:p,f:f}=this.wNAF(u);h=d.constTimeNegate(t,h),p=d.constTimeNegate(a,p),p=new c(r.mul(p.px,o.beta),p.py,p.pz),s=h.add(p),n=l.add(f)}else{const{p:t,f:e}=this.wNAF(i);s=t,n=e}return c.normalizeZ([s,n])[0]}multiplyAndAddUnsafe(t,e,r){const s=c.BASE,n=(t,e)=>e!==Ye&&e!==Xe&&t.equals(s)?t.multiply(e):t.multiplyUnsafe(e),i=n(this,e).add(n(t,r));return i.is0()?void 0:i}toAffine(t){const{px:e,py:s,pz:n}=this,i=this.is0();null==t&&(t=i?r.ONE:r.inv(n));const o=r.mul(e,t),a=r.mul(s,t),u=r.mul(n,t);if(i)return{x:r.ZERO,y:r.ZERO};if(!r.eql(u,r.ONE))throw new Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){const{h:t,isTorsionFree:r}=e;if(t===Xe)return!0;if(r)return r(c,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:t,clearCofactor:r}=e;return t===Xe?this:r?r(c,this):this.multiplyUnsafe(e.h)}toRawBytes(t=!0){return this.assertValidity(),s(c,this,t)}toHex(t=!0){return oe(this.toRawBytes(t))}}c.BASE=new c(e.Gx,e.Gy,r.ONE),c.ZERO=new c(r.ZERO,r.ONE,r.ZERO);const p=e.nBitLength,d=function(t,e){const r=(t,e)=>{const r=e.negate();return t?r:e},s=t=>({windows:Math.ceil(e/t)+1,windowSize:2**(t-1)});return{constTimeNegate:r,unsafeLadder(e,r){let s=t.ZERO,n=e;for(;r>Ve;)r&Ge&&(s=s.add(n)),n=n.double(),r>>=Ge;return s},precomputeWindow(t,e){const{windows:r,windowSize:n}=s(e),i=[];let o=t,a=o;for(let s=0;s<r;s++){a=o,i.push(a);for(let t=1;t<n;t++)a=a.add(o),i.push(a);o=a.double()}return i},wNAF(e,n,i){const{windows:o,windowSize:a}=s(e);let u=t.ZERO,h=t.BASE;const l=BigInt(2**e-1),c=2**e,p=BigInt(e);for(let t=0;t<o;t++){const e=t*a;let s=Number(i&l);i>>=p,s>a&&(s-=c,i+=Ge);const o=e,d=e+Math.abs(s)-1,f=t%2!==0,g=s<0;0===s?h=h.add(r(f,n[o])):u=u.add(r(g,n[d]))}return{p:u,f:h}},wNAFCached(t,e,r,s){const n=t._WINDOW_SIZE||1;let i=e.get(t);return i||(i=this.precomputeWindow(t,n),1!==n&&e.set(t,s(i))),this.wNAF(n,i,r)}}}(c,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:i,isWithinCurveOrder:o}}function rr(t){const e=function(t){const e=Je(t);return Ae(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}(t),{Fp:r,n:s}=e,n=r.BYTES+1,i=2*r.BYTES+1;function o(t){return ze(t,s)}function a(t){return Ue(t,s)}const{ProjectivePoint:u,normPrivateKeyToScalar:h,weierstrassEquation:l,isWithinCurveOrder:c}=er({...e,toBytes(t,e,s){const n=e.toAffine(),i=r.toBytes(n.x),o=ye;return s?o(Uint8Array.from([e.hasEvenY()?2:3]),i):o(Uint8Array.from([4]),i,r.toBytes(n.y))},fromBytes(t){const e=t.length,s=t[0],o=t.subarray(1);if(e!==n||2!==s&&3!==s){if(e===i&&4===s){return{x:r.fromBytes(o.subarray(0,r.BYTES)),y:r.fromBytes(o.subarray(r.BYTES,2*r.BYTES))}}throw new Error(`Point of length ${e} was invalid. Expected ${n} compressed bytes or ${i} uncompressed bytes`)}{const t=le(o);if(!(Ye<(a=t)&&a<r.ORDER))throw new Error("Point is not on curve");const e=l(t);let n=r.sqrt(e);return 1===(1&s)!==((n&Xe)===Xe)&&(n=r.neg(n)),{x:t,y:n}}var a}}),p=t=>oe(pe(t,e.nByteLength));function d(t){return t>s>>Xe}const f=(t,e,r)=>le(t.slice(e,r));class g{constructor(t,e,r){this.r=t,this.s=e,this.recovery=r,this.assertValidity()}static fromCompact(t){const r=e.nByteLength;return t=ge("compactSignature",t,2*r),new g(f(t,0,r),f(t,r,2*r))}static fromDER(t){const{r:e,s:r}=Qe.toSig(ge("DER",t));return new g(e,r)}assertValidity(){if(!c(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!c(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(t){return new g(this.r,this.s,t)}recoverPublicKey(t){const{r:s,s:n,recovery:i}=this,h=b(ge("msgHash",t));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const l=2===i||3===i?s+e.n:s;if(l>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const c=0===(1&i)?"02":"03",d=u.fromHex(c+p(l)),f=a(l),g=o(-h*f),y=o(n*f),m=u.BASE.multiplyAndAddUnsafe(d,g,y);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return he(this.toDERHex())}toDERHex(){return Qe.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return he(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const y={isValidPrivateKey(t){try{return h(t),!0}catch(e){return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const t=De(e.n);return function(t,e,r=!1){const s=t.length,n=We(e),i=De(e);if(s<16||s<i||s>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${s}`);const o=ze(r?le(t):ce(t),e-Be)+Be;return r?de(o,n):pe(o,n)}(e.randomBytes(t),e.n)},precompute:(t=8,e=u.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)};function m(t){const e=t instanceof Uint8Array,r="string"===typeof t,s=(e||r)&&t.length;return e?s===n||s===i:r?s===2*n||s===2*i:t instanceof u}const _=e.bits2int||function(t){const r=le(t),s=8*t.length-e.nBitLength;return s>0?r>>BigInt(s):r},b=e.bits2int_modN||function(t){return o(_(t))},w=xe(e.nBitLength);function v(t){if("bigint"!==typeof t)throw new Error("bigint expected");if(!(Ye<=t&&t<w))throw new Error(`bigint expected < 2^${e.nBitLength}`);return pe(t,e.nByteLength)}function x(t,s,n=k){if(["recovered","canonical"].some((t=>t in n)))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:l}=e;let{lowS:p,prehash:f,extraEntropy:y}=n;null==p&&(p=!0),t=ge("msgHash",t),f&&(t=ge("prehashed msgHash",i(t)));const m=b(t),w=h(s),x=[v(w),v(m)];if(null!=y){const t=!0===y?l(r.BYTES):y;x.push(ge("extraEntropy",t))}const O=ye(...x),E=m;return{seed:O,k2sig:function(t){const e=_(t);if(!c(e))return;const r=a(e),s=u.BASE.multiply(e).toAffine(),n=o(s.x);if(n===Ye)return;const i=o(r*o(E+n*w));if(i===Ye)return;let h=(s.x===n?0:2)|Number(s.y&Xe),l=i;return p&&d(i)&&(l=function(t){return d(t)?o(-t):t}(i),h^=1),new g(n,l,h)}}}const k={lowS:e.lowS,prehash:!1},O={lowS:e.lowS,prehash:!1};return u.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function(t,e=!0){return u.fromPrivateKey(t).toRawBytes(e)},getSharedSecret:function(t,e,r=!0){if(m(t))throw new Error("first arg must be private key");if(!m(e))throw new Error("second arg must be public key");return u.fromHex(e).multiply(h(t)).toRawBytes(r)},sign:function(t,r,s=k){const{seed:n,k2sig:i}=x(t,r,s),o=e;return Ee(o.hash.outputLen,o.nByteLength,o.hmac)(n,i)},verify:function(t,r,s,n=O){const i=t;if(r=ge("msgHash",r),s=ge("publicKey",s),"strict"in n)throw new Error("options.strict was renamed to lowS");const{lowS:h,prehash:l}=n;let c,p;try{if("string"===typeof i||i instanceof Uint8Array)try{c=g.fromDER(i)}catch(x){if(!(x instanceof Qe.Err))throw x;c=g.fromCompact(i)}else{if("object"!==typeof i||"bigint"!==typeof i.r||"bigint"!==typeof i.s)throw new Error("PARSE");{const{r:t,s:e}=i;c=new g(t,e)}}p=u.fromHex(s)}catch(k){if("PARSE"===k.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(h&&c.hasHighS())return!1;l&&(r=e.hash(r));const{r:d,s:f}=c,y=b(r),m=a(f),_=o(y*m),w=o(d*m),v=u.BASE.multiplyAndAddUnsafe(p,_,w)?.toAffine();return!!v&&o(v.x)===d},ProjectivePoint:u,Signature:g,utils:y}}function sr(t){return{hash:t,hmac:(e,...r)=>$e(t,e,function(...t){const e=new Uint8Array(t.reduce(((t,e)=>t+e.length),0));let r=0;return t.forEach((t=>{if(!wt(t))throw new Error("Uint8Array expected");e.set(t,r),r+=t.length})),e}(...r)),randomBytes:Mt}}const nr=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ir=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),or=BigInt(1),ar=BigInt(2),ur=(t,e)=>(t+e/ar)/e;function hr(t){const e=nr,r=BigInt(3),s=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),h=t*t*t%e,l=h*h*t%e,c=Ne(l,r,e)*l%e,p=Ne(c,r,e)*l%e,d=Ne(p,ar,e)*h%e,f=Ne(d,n,e)*d%e,g=Ne(f,i,e)*f%e,y=Ne(g,a,e)*g%e,m=Ne(y,u,e)*y%e,_=Ne(m,a,e)*g%e,b=Ne(_,r,e)*l%e,w=Ne(b,o,e)*f%e,v=Ne(w,s,e)*h%e,x=Ne(v,ar,e);if(!lr.eql(lr.sqr(x),t))throw new Error("Cannot find square root");return x}const lr=function(t,e,r=!1,s={}){if(t<=Fe)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:n,nByteLength:i}=He(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=Ce(t),a=Object.freeze({ORDER:t,BITS:n,BYTES:i,MASK:xe(n),ZERO:Fe,ONE:Be,create:e=>ze(e,t),isValid:e=>{if("bigint"!==typeof e)throw new Error("Invalid field element: expected bigint, got "+typeof e);return Fe<=e&&e<t},is0:t=>t===Fe,isOdd:t=>(t&Be)===Be,neg:e=>ze(-e,t),eql:(t,e)=>t===e,sqr:e=>ze(e*e,t),add:(e,r)=>ze(e+r,t),sub:(e,r)=>ze(e-r,t),mul:(e,r)=>ze(e*r,t),pow:(t,e)=>function(t,e,r){if(r<Fe)throw new Error("Expected power > 0");if(r===Fe)return t.ONE;if(r===Be)return e;let s=t.ONE,n=e;for(;r>Fe;)r&Be&&(s=t.mul(s,n)),n=t.sqr(n),r>>=Be;return s}(a,t,e),div:(e,r)=>ze(e*Ue(r,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>Ue(e,t),sqrt:s.sqrt||(t=>o(a,t)),invertBatch:t=>function(t,e){const r=new Array(e.length),s=e.reduce(((e,s,n)=>t.is0(s)?e:(r[n]=e,t.mul(e,s))),t.ONE),n=t.inv(s);return e.reduceRight(((e,s,n)=>t.is0(s)?e:(r[n]=t.mul(e,r[n]),t.mul(e,s))),n),r}(a,t),cmov:(t,e,r)=>r?e:t,toBytes:t=>r?de(t,i):pe(t,i),fromBytes:t=>{if(t.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${t.length}`);return r?ce(t):le(t)}});return Object.freeze(a)}(nr,void 0,void 0,{sqrt:hr}),cr=function(t,e){const r=e=>rr({...t,...sr(e)});return Object.freeze({...r(e),create:r})}({a:BigInt(0),b:BigInt(7),Fp:lr,n:ir,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=ir,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),s=-or*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,o=BigInt("0x100000000000000000000000000000000"),a=ur(i*t,e),u=ur(-s*t,e);let h=ze(t-a*r-u*n,e),l=ze(-a*s-u*i,e);const c=h>o,p=l>o;if(c&&(h=e-h),p&&(l=e-l),h>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:c,k1:h,k2neg:p,k2:l}}}},te);BigInt(0);cr.ProjectivePoint;const pr="0x0000000000000000000000000000000000000000000000000000000000000000",dr=BigInt(0),fr=BigInt(1),gr=BigInt(2),yr=BigInt(27),mr=BigInt(28),_r=BigInt(35),br={};function wr(t){return I(J(t),32)}class vr{#l;#c;#p;#d;get r(){return this.#l}set r(t){x(32===S(t),"invalid r","value",t),this.#l=R(t)}get s(){return this.#c}set s(t){x(32===S(t),"invalid s","value",t);const e=R(t);x(parseInt(e.substring(0,3))<8,"non-canonical s","value",e),this.#c=e}get v(){return this.#p}set v(t){const e=V(t,"value");x(27===e||28===e,"invalid v","v",t),this.#p=e}get networkV(){return this.#d}get legacyChainId(){const t=this.networkV;return null==t?null:vr.getChainId(t)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const t=A(this.s);return this.yParity&&(t[0]|=128),R(t)}get compactSerialized(){return P([this.r,this.yParityAndS])}get serialized(){return P([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(t,e,r,s){E(t,br,"Signature"),this.#l=e,this.#c=r,this.#p=s,this.#d=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const t=new vr(br,this.r,this.s,this.v);return this.networkV&&(t.#d=this.networkV),t}toJSON(){const t=this.networkV;return{_type:"signature",networkV:null!=t?t.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(t){const e=W(t,"v");return e==yr||e==mr?dr:(x(e>=_r,"invalid EIP-155 v","v",t),(e-_r)/gr)}static getChainIdV(t,e){return W(t)*gr+BigInt(35+e-27)}static getNormalizedV(t){const e=W(t);return e===dr||e===yr?27:e===fr||e===mr?28:(x(e>=_r,"invalid v","v",t),e&fr?27:28)}static from(t){function e(e,r){x(e,r,"signature",t)}if(null==t)return new vr(br,pr,pr,27);if("string"===typeof t){const r=A(t,"signature");if(64===r.length){const t=R(r.slice(0,32)),e=r.slice(32,64),s=128&e[0]?28:27;return e[0]&=127,new vr(br,t,R(e),s)}if(65===r.length){const t=R(r.slice(0,32)),s=r.slice(32,64);e(0===(128&s[0]),"non-canonical s");const n=vr.getNormalizedV(r[64]);return new vr(br,t,R(s),n)}e(!1,"invalid raw signature length")}if(t instanceof vr)return t.clone();const r=t.r;e(null!=r,"missing r");const s=wr(r),n=function(t,r){if(null!=t)return wr(t);if(null!=r){e(B(r,32),"invalid yParityAndS");const t=A(r);return t[0]&=127,R(t)}e(!1,"missing s")}(t.s,t.yParityAndS);e(0==(128&A(n)[0]),"non-canonical s");const{networkV:i,v:o}=function(t,r,s){if(null!=t){const e=W(t);return{networkV:e>=_r?e:void 0,v:vr.getNormalizedV(e)}}if(null!=r)return e(B(r,32),"invalid yParityAndS"),{v:128&A(r)[0]?28:27};if(null!=s){switch(s){case 0:return{v:27};case 1:return{v:28}}e(!1,"invalid yParity")}e(!1,"missing v")}(t.v,t.yParityAndS,t.yParity),a=new vr(br,s,n,o);return i&&(a.#d=i),e(!("yParity"in t&&t.yParity!==a.yParity),"yParity mismatch"),e(!("yParityAndS"in t&&t.yParityAndS!==a.yParityAndS),"yParityAndS mismatch"),a}}class xr{#f;constructor(t){x(32===S(t),"invalid private key","privateKey","[REDACTED]"),this.#f=R(t)}get privateKey(){return this.#f}get publicKey(){return xr.computePublicKey(this.#f)}get compressedPublicKey(){return xr.computePublicKey(this.#f,!0)}sign(t){x(32===S(t),"invalid digest length","digest",t);const e=cr.sign(F(t),F(this.#f),{lowS:!0});return vr.from({r:G("0x"+e.r.toString(16),32),s:G("0x"+e.s.toString(16),32),v:e.recovery?28:27})}computeSharedSecret(t){const e=xr.computePublicKey(t);return R(cr.getSharedSecret(F(this.#f),A(e),!1))}static computePublicKey(t,e){let r=A(t,"key");if(32===r.length){return R(cr.getPublicKey(r,!!e))}if(64===r.length){const t=new Uint8Array(65);t[0]=4,t.set(r,1),r=t}return R(cr.ProjectivePoint.fromHex(r).toRawBytes(e))}static recoverPublicKey(t,e){x(32===S(t),"invalid digest length","digest",t);const r=vr.from(e);let s=cr.Signature.fromCompact(F(P([r.r,r.s])));s=s.addRecoveryBit(r.yParity);const n=s.recoverPublicKey(F(t));return x(null!=n,"invalid signautre for digest","signature",e),"0x"+n.toHex(!1)}static addPoints(t,e,r){const s=cr.ProjectivePoint.fromHex(xr.computePublicKey(t).substring(2)),n=cr.ProjectivePoint.fromHex(xr.computePublicKey(e).substring(2));return"0x"+s.add(n).toHex(!!r)}}function kr(t){const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let n=0;n<40;n++)r[n]=e[n].charCodeAt(0);const s=A(Vt(r));for(let n=0;n<40;n+=2)s[n>>1]>>4>=8&&(e[n]=e[n].toUpperCase()),(15&s[n>>1])>=8&&(e[n+1]=e[n+1].toUpperCase());return"0x"+e.join("")}function Or(t){if(x("string"===typeof t,"invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=kr(t);return x(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"invalid address checksum","address",t),e}x(!1,"invalid address string format","address",t)}function Er(t){let e;return e="string"===typeof t?xr.computePublicKey(t,!1):t.publicKey,Or(Vt("0x"+e.substring(4)).substring(26))}const Mr={};function Ar(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new Tr(Mr,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function Fr(t,e){return new Tr(Mr,`bytes${e||""}`,t,{size:e})}const Br=Symbol.for("_quais_typed");class Tr{type;value;#g;_typedSymbol;constructor(t,e,r,s){null==s&&(s=null),E(Mr,t,"Typed"),y(this,{_typedSymbol:Br,type:e,value:r}),this.#g=s,this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?`tuple(${this.value.map((t=>t.format())).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#g}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#g?-1:!1===this.#g?this.value.length:null}static from(t,e){return new Tr(Mr,t,e)}static uint8(t){return Ar(t,8)}static uint16(t){return Ar(t,16)}static uint24(t){return Ar(t,24)}static uint32(t){return Ar(t,32)}static uint40(t){return Ar(t,40)}static uint48(t){return Ar(t,48)}static uint56(t){return Ar(t,56)}static uint64(t){return Ar(t,64)}static uint72(t){return Ar(t,72)}static uint80(t){return Ar(t,80)}static uint88(t){return Ar(t,88)}static uint96(t){return Ar(t,96)}static uint104(t){return Ar(t,104)}static uint112(t){return Ar(t,112)}static uint120(t){return Ar(t,120)}static uint128(t){return Ar(t,128)}static uint136(t){return Ar(t,136)}static uint144(t){return Ar(t,144)}static uint152(t){return Ar(t,152)}static uint160(t){return Ar(t,160)}static uint168(t){return Ar(t,168)}static uint176(t){return Ar(t,176)}static uint184(t){return Ar(t,184)}static uint192(t){return Ar(t,192)}static uint200(t){return Ar(t,200)}static uint208(t){return Ar(t,208)}static uint216(t){return Ar(t,216)}static uint224(t){return Ar(t,224)}static uint232(t){return Ar(t,232)}static uint240(t){return Ar(t,240)}static uint248(t){return Ar(t,248)}static uint256(t){return Ar(t,256)}static uint(t){return Ar(t,256)}static int8(t){return Ar(t,-8)}static int16(t){return Ar(t,-16)}static int24(t){return Ar(t,-24)}static int32(t){return Ar(t,-32)}static int40(t){return Ar(t,-40)}static int48(t){return Ar(t,-48)}static int56(t){return Ar(t,-56)}static int64(t){return Ar(t,-64)}static int72(t){return Ar(t,-72)}static int80(t){return Ar(t,-80)}static int88(t){return Ar(t,-88)}static int96(t){return Ar(t,-96)}static int104(t){return Ar(t,-104)}static int112(t){return Ar(t,-112)}static int120(t){return Ar(t,-120)}static int128(t){return Ar(t,-128)}static int136(t){return Ar(t,-136)}static int144(t){return Ar(t,-144)}static int152(t){return Ar(t,-152)}static int160(t){return Ar(t,-160)}static int168(t){return Ar(t,-168)}static int176(t){return Ar(t,-176)}static int184(t){return Ar(t,-184)}static int192(t){return Ar(t,-192)}static int200(t){return Ar(t,-200)}static int208(t){return Ar(t,-208)}static int216(t){return Ar(t,-216)}static int224(t){return Ar(t,-224)}static int232(t){return Ar(t,-232)}static int240(t){return Ar(t,-240)}static int248(t){return Ar(t,-248)}static int256(t){return Ar(t,-256)}static int(t){return Ar(t,-256)}static bytes1(t){return Fr(t,1)}static bytes2(t){return Fr(t,2)}static bytes3(t){return Fr(t,3)}static bytes4(t){return Fr(t,4)}static bytes5(t){return Fr(t,5)}static bytes6(t){return Fr(t,6)}static bytes7(t){return Fr(t,7)}static bytes8(t){return Fr(t,8)}static bytes9(t){return Fr(t,9)}static bytes10(t){return Fr(t,10)}static bytes11(t){return Fr(t,11)}static bytes12(t){return Fr(t,12)}static bytes13(t){return Fr(t,13)}static bytes14(t){return Fr(t,14)}static bytes15(t){return Fr(t,15)}static bytes16(t){return Fr(t,16)}static bytes17(t){return Fr(t,17)}static bytes18(t){return Fr(t,18)}static bytes19(t){return Fr(t,19)}static bytes20(t){return Fr(t,20)}static bytes21(t){return Fr(t,21)}static bytes22(t){return Fr(t,22)}static bytes23(t){return Fr(t,23)}static bytes24(t){return Fr(t,24)}static bytes25(t){return Fr(t,25)}static bytes26(t){return Fr(t,26)}static bytes27(t){return Fr(t,27)}static bytes28(t){return Fr(t,28)}static bytes29(t){return Fr(t,29)}static bytes30(t){return Fr(t,30)}static bytes31(t){return Fr(t,31)}static bytes32(t){return Fr(t,32)}static address(t){return new Tr(Mr,"address",t)}static bool(t){return new Tr(Mr,"bool",!!t)}static bytes(t){return new Tr(Mr,"bytes",t)}static string(t){return new Tr(Mr,"string",t)}static array(t,e){throw new Error("not implemented yet")}static tuple(t,e){throw new Error("not implemented yet")}static overrides(t){return new Tr(Mr,"overrides",Object.assign({},t))}static isTyped(t){return t&&"object"===typeof t&&"_typedSymbol"in t&&t._typedSymbol===Br}static dereference(t,e){if(Tr.isTyped(t)){if(t.type!==e)throw new Error(`invalid type: expected ${e}, got ${t.type}`);return t.value}return t}}class Rr extends st{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){let r=Tr.dereference(e,"string");try{r=Or(r)}catch(s){return this._throwError(s.message,e)}return t.writeValue(r)}decode(t){return Or(G(t.readValue(),20))}}class Pr extends st{coder;constructor(t){super(t.name,t.type,"_",t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}function Sr(t,e,r){let s=[];if(Array.isArray(r))s=r;else if(r&&"object"===typeof r){let t={};s=e.map((e=>{const s=e.localName;return v(s,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:e},value:r}),v(!t[s],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:e},value:r}),t[s]=!0,r[s]}))}else x(!1,"invalid tuple value","tuple",r);x(e.length===s.length,"types/value length mismatch","tuple",r);let n=new nt,i=new nt,o=[];e.forEach(((t,e)=>{let r=s[e];if(t.dynamic){let e=i.length;t.encode(i,r);let s=n.writeUpdatableValue();o.push((t=>{s(t+e)}))}else t.encode(n,r)})),o.forEach((t=>{t(n.length)}));let a=t.appendWriter(n);return a+=t.appendWriter(i),a}function jr(t,e){let r=[],s=[],n=t.subReader(0);return e.forEach((e=>{let i=null;if(e.dynamic){let r=t.readIndex(),s=n.subReader(r);try{i=e.decode(s)}catch(o){if(_(o,"BUFFER_OVERRUN"))throw o;i=o,i.baseType=e.name,i.name=e.localName,i.type=e.type}}else try{i=e.decode(t)}catch(o){if(_(o,"BUFFER_OVERRUN"))throw o;i=o,i.baseType=e.name,i.name=e.localName,i.type=e.type}if(void 0==i)throw new Error("investigate");r.push(i),s.push(e.localName||null)})),et.fromItems(r,s)}class zr extends st{coder;length;constructor(t,e,r){super("array",t.type+"["+(e>=0?e:"")+"]",r,-1===e||t.dynamic),y(this,{coder:t,length:e})}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let r=0;r<this.length;r++)e.push(t);return e}encode(t,e){const r=Tr.dereference(e,"array");Array.isArray(r)||this._throwError("expected array value",r);let s=this.length;-1===s&&(s=r.length,t.writeValue(r.length)),k(r.length,s,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let i=0;i<r.length;i++)n.push(this.coder);return Sr(t,n,r)}decode(t){let e=this.length;-1===e&&(e=t.readIndex(),v(e*Z<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:e*Z,length:t.dataLength}));let r=[];for(let s=0;s<e;s++)r.push(new Pr(this.coder));return jr(t,r)}}class Ir extends st{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){const r=Tr.dereference(e,"bool");return t.writeValue(r?1:0)}decode(t){return!!t.readValue()}}class Nr extends st{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=F(e);let r=t.writeValue(e.length);return r+=t.writeBytes(e),r}decode(t){return t.readBytes(t.readIndex(),!0)}}class Ur extends Nr{constructor(t){super("bytes",t)}decode(t){return R(super.decode(t))}}class Cr extends st{size;constructor(t,e){let r="bytes"+String(t);super(r,r,e,!1),y(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(t,e){let r=F(Tr.dereference(e,this.type));return r.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(r)}decode(t){return R(t.readBytes(this.size))}}const Lr=new Uint8Array([]);class Hr extends st{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return null!=e&&this._throwError("not null",e),t.writeBytes(Lr)}decode(t){return t.readBytes(0),null}}const Wr=BigInt(0),Dr=BigInt(1),qr=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class $r extends st{size;signed;constructor(t,e,r){const s=(e?"int":"uint")+8*t;super(s,s,r,!1),y(this,{size:t,signed:e},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,e){let r=W(Tr.dereference(e,this.type)),s=H(qr,256);if(this.signed){let t=H(s,8*this.size-1);(r>t||r<-(t+Dr))&&this._throwError("value out-of-bounds",e),r=L(r,256)}else(r<Wr||r>H(s,8*this.size))&&this._throwError("value out-of-bounds",e);return t.writeValue(r)}decode(t){let e=H(t.readValue(),8*this.size);return this.signed&&(e=function(t,e){const r=D(t,"value"),s=BigInt(V(e,"width"));if(v(r>>s===N,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>s-U)return-((~r&(U<<s)-U)+U);return r}(e,8*this.size)),e}}function Vr(t,e,r,s,n){if("BAD_PREFIX"===t||"UNEXPECTED_CONTINUE"===t){let t=0;for(let s=e+1;s<r.length&&r[s]>>6===2;s++)t++;return t}return"OVERRUN"===t?r.length-e-1:0}const Gr=Object.freeze({error:function(t,e,r,s,n){x(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:Vr,replace:function(t,e,r,s,n){return"OVERLONG"===t?(x("number"===typeof n,"invalid bad code point for replacement","badCodepoint",n),s.push(n),0):(s.push(65533),Vr(t,e,r))}});function Jr(t,e){null==e&&(e=Gr.error);const r=A(t,"bytes"),s=[];let n=0;for(;n<r.length;){const t=r[n++];if(t>>7===0){s.push(t);continue}let i=null,o=null;if(192===(224&t))i=1,o=127;else if(224===(240&t))i=2,o=2047;else{if(240!==(248&t)){n+=e(128===(192&t)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",n-1,r,s);continue}i=3,o=65535}if(n-1+i>=r.length){n+=e("OVERRUN",n-1,r,s);continue}let a=t&(1<<8-i-1)-1;for(let u=0;u<i;u++){const t=r[n];if(128!=(192&t)){n+=e("MISSING_CONTINUE",n,r,s),a=null;break}a=a<<6|63&t,n++}null!==a&&(a>1114111?n+=e("OUT_OF_RANGE",n-1-i,r,s,a):a>=55296&&a<=57343?n+=e("UTF16_SURROGATE",n-1-i,r,s,a):a<=o?n+=e("OVERLONG",n-1-i,r,s,a):s.push(a))}return s}function Kr(t,e){null!=e&&(!function(t){v(O.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}(e),t=t.normalize(e));const r=[];for(let s=0;s<t.length;s++){const e=t.charCodeAt(s);if(e<128)r.push(e);else if(e<2048)r.push(e>>6|192),r.push(63&e|128);else if(55296==(64512&e)){s++;const n=t.charCodeAt(s);x(s<t.length&&56320===(64512&n),"invalid surrogate pair","str",t);const i=65536+((1023&e)<<10)+(1023&n);r.push(i>>18|240),r.push(i>>12&63|128),r.push(i>>6&63|128),r.push(63&i|128)}else r.push(e>>12|224),r.push(e>>6&63|128),r.push(63&e|128)}return new Uint8Array(r)}function Zr(t,e){return Jr(t,e).map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}class Qr extends Nr{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,Kr(Tr.dereference(e,"string")))}decode(t){return Zr(super.decode(t))}}class Yr extends st{coders;constructor(t,e){let r=!1;const s=[];t.forEach((t=>{t.dynamic&&(r=!0),s.push(t.type)}));super("tuple","tuple("+s.join(",")+")",e,r),y(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach((e=>{t.push(e.defaultValue())}));const e=this.coders.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});return this.coders.forEach(((r,s)=>{let n=r.localName;n&&1===e[n]&&("length"===n&&(n="_length"),null==t[n]&&(t[n]=t[s]))})),Object.freeze(t)}encode(t,e){const r=Tr.dereference(e,"tuple");return Sr(t,this.coders,r)}decode(t){return jr(t,this.coders)}}function Xr(t){return Vt(Kr(t))}function ts(t){const e=new Set;return t.forEach((t=>e.add(t))),Object.freeze(e)}const es=ts("external public payable".split(" ")),rs="constant external internal payable private public pure view",ss=ts(rs.split(" ")),ns="constructor error event fallback function receive struct",is=ts(ns.split(" ")),os="calldata memory storage payable indexed",as=ts(os.split(" ")),us=ts([ns,os,"tuple returns",rs].join(" ").split(" ")),hs={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},ls=new RegExp("^(\\s*)"),cs=new RegExp("^([0-9]+)"),ps=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),ds=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),fs=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class gs{#n;#y;get offset(){return this.#n}get length(){return this.#y.length-this.#n}constructor(t){this.#n=0,this.#y=t.slice()}clone(){return new gs(this.#y)}reset(){this.#n=0}#m(t=0,e=0){return new gs(this.#y.slice(t,e).map((e=>Object.freeze(Object.assign({},e,{match:e.match-t,linkBack:e.linkBack-t,linkNext:e.linkNext-t})))))}popKeyword(t){const e=this.peek();if("KEYWORD"!==e.type||!t.has(e.text))throw new Error(`expected keyword ${e.text}`);return this.pop().text}popType(t){if(this.peek().type!==t)throw new Error(`expected ${t}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){const t=this.peek();if("OPEN_PAREN"!==t.type)throw new Error("bad start");const e=this.#m(this.#n+1,t.match+1);return this.#n=t.match+1,e}popParams(){const t=this.peek();if("OPEN_PAREN"!==t.type)throw new Error("bad start");const e=[];for(;this.#n<t.match-1;){const t=this.peek().linkNext;e.push(this.#m(this.#n+1,t)),this.#n=t}return this.#n=t.match+1,e}peek(){if(this.#n>=this.#y.length)throw new Error("out-of-bounds");return this.#y[this.#n]}peekKeyword(t){const e=this.peekType("KEYWORD");return null!=e&&t.has(e)?e:null}peekType(t){if(0===this.length)return null;const e=this.peek();return e.type===t?e.text:null}pop(){const t=this.peek();return this.#n++,t}toString(){const t=[];for(let e=this.#n;e<this.#y.length;e++){const r=this.#y[e];t.push(`${r.type}:${r.text}`)}return`<TokenString ${t.join(" ")}>`}}function ys(t){const e=[],r=e=>{const r=i<t.length?JSON.stringify(t[i]):"$EOI";throw new Error(`invalid token ${r} at ${i}: ${e}`)},s=[],n=[];let i=0;for(;i<t.length;){let o=t.substring(i),a=o.match(ls);a&&(i+=a[1].length,o=t.substring(i));const u={depth:s.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(u);const h=hs[o[0]]||"";if(h){if(u.type=h,u.text=o[0],i++,"OPEN_PAREN"===h)s.push(e.length-1),n.push(e.length-1);else if("CLOSE_PAREN"==h)0===s.length&&r("no matching open bracket"),u.match=s.pop(),e[u.match].match=e.length-1,u.depth--,u.linkBack=n.pop(),e[u.linkBack].linkNext=e.length-1;else if("COMMA"===h)u.linkBack=n.pop(),e[u.linkBack].linkNext=e.length-1,n.push(e.length-1);else if("OPEN_BRACKET"===h)u.type="BRACKET";else if("CLOSE_BRACKET"===h){let t=e.pop().text;if(e.length>0&&"NUMBER"===e[e.length-1].type){const r=e.pop().text;t=r+t,e[e.length-1].value=V(r)}if(0===e.length||"BRACKET"!==e[e.length-1].type)throw new Error("missing opening bracket");e[e.length-1].text+=t}}else if(a=o.match(ps),a){if(u.text=a[1],i+=u.text.length,us.has(u.text)){u.type="KEYWORD";continue}if(u.text.match(fs)){u.type="TYPE";continue}u.type="ID"}else{if(a=o.match(cs),!a)throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`);u.text=a[1],u.type="NUMBER",i+=u.text.length}}return new gs(e.map((t=>Object.freeze(t))))}function ms(t,e){const r=[];for(const s in e.keys())t.has(s)&&r.push(s);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function _s(t,e){if(e.peekKeyword(is)){const r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function bs(t,e){const r=new Set;for(;;){const s=t.peekType("KEYWORD");if(null==s||e&&!e.has(s))break;if(t.pop(),r.has(s))throw new Error(`duplicate keywords: ${JSON.stringify(s)}`);r.add(s)}return Object.freeze(r)}function ws(t){const e=bs(t,ss);return ms(e,ts("constant payable nonpayable".split(" "))),ms(e,ts("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function vs(t,e){return t.popParams().map((t=>zs.from(t,e)))}function xs(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return W(t.pop().text);throw new Error("invalid gas")}return null}function ks(t){if(t.length)throw new Error(`unexpected tokens: ${t.toString()}`)}const Os=new RegExp(/^(.*)\[([0-9]*)\]$/);function Es(t){const e=t.match(fs);if(x(e,"invalid type","type",t),"uint"===t)return"uint256";if("int"===t)return"int256";if(e[2]){const r=parseInt(e[2]);x(0!==r&&r<=32,"invalid bytes length","type",t)}else if(e[3]){const r=parseInt(e[3]);x(0!==r&&r<=256&&r%8===0,"invalid numeric width","type",t)}return t}const Ms={},As=Symbol.for("_quais_internal"),Fs="_ParamTypeInternal",Bs="_ErrorInternal",Ts="_EventInternal",Rs="_ConstructorInternal",Ps="_FallbackInternal",Ss="_FunctionInternal",js="_StructInternal";class zs{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(t,e,r,s,n,i,o,a){if(E(t,Ms,"ParamType"),Object.defineProperty(this,As,{value:Fs}),i&&(i=Object.freeze(i.slice())),"array"===s){if(null==o||null==a)throw new Error("")}else if(null!=o||null!=a)throw new Error("");if("tuple"===s){if(null==i)throw new Error("")}else if(null!=i)throw new Error("");y(this,{name:e,type:r,baseType:s,indexed:n,components:i,arrayLength:o,arrayChildren:a})}format(t){if(null==t&&(t="sighash"),"json"===t){const e=this.name||"";if(this.isArray()){const t=JSON.parse(this.arrayChildren.format("json"));return t.name=e,t.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(t)}const r={type:"tuple"===this.baseType?"tuple":this.type,name:e};return"boolean"===typeof this.indexed&&(r.indexed=this.indexed),this.isTuple()&&(r.components=this.components.map((e=>JSON.parse(e.format(t))))),JSON.stringify(r)}let e="";return this.isArray()?(e+=this.arrayChildren.format(t),e+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?e+="("+this.components.map((e=>e.format(t))).join("full"===t?", ":",")+")":e+=this.type,"sighash"!==t&&(!0===this.indexed&&(e+=" indexed"),"full"===t&&this.name&&(e+=" "+this.name)),e}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(t,e){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return t.map((t=>r.arrayChildren.walk(t,e)))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const r=this;return t.map(((t,s)=>r.components[s].walk(t,e)))}return e(this.type,t)}#_(t,e,r,s){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this.arrayChildren,i=e.slice();return i.forEach(((e,s)=>{n.#_(t,e,r,(t=>{i[s]=t}))})),void s(i)}if(this.isTuple()){const n=this.components;let i;if(Array.isArray(e))i=e.slice();else{if(null==e||"object"!==typeof e)throw new Error("invalid tuple value");i=n.map((t=>{if(!t.name)throw new Error("cannot use object value with unnamed components");if(!(t.name in e))throw new Error(`missing value for component ${t.name}`);return e[t.name]}))}if(i.length!==this.components.length)throw new Error("array is wrong length");return i.forEach(((e,s)=>{n[s].#_(t,e,r,(t=>{i[s]=t}))})),void s(i)}const n=r(this.type,e);n.then?t.push(async function(){s(await n)}()):s(n)}async walkAsync(t,e){const r=[],s=[t];return this.#_(r,t,e,(t=>{s[0]=t})),r.length&&await Promise.all(r),s[0]}static from(t,e){if(zs.isParamType(t))return t;if("string"===typeof t)try{return zs.from(ys(t),e)}catch(o){x(!1,"invalid param type","obj",t)}else if(t instanceof gs){let r="",s="",n=null;bs(t,ts(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(s="tuple",n=t.popParams().map((t=>zs.from(t))),r=`tuple(${n.map((t=>t.format())).join(",")})`):(r=Es(t.popType("TYPE")),s=r);let i=null,o=null;for(;t.length&&t.peekType("BRACKET");){const e=t.pop();i=new zs(Ms,"",r,s,null,n,o,i),o=e.value,r+=e.text,s="array",n=null}let a=null;if(bs(t,as).has("indexed")){if(!e)throw new Error("");a=!0}const u=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new zs(Ms,u,r,s,a,n,o,i)}const r=t.name;x(!r||"string"===typeof r&&r.match(ds),"invalid name","obj.name",r);let s=t.indexed;null!=s&&(x(e,"parameter cannot be indexed","obj.indexed",t.indexed),s=!!s);let n=t.type;const i=n.match(Os);if(i){const e=parseInt(i[2]||"-1"),o=zs.from({type:i[1],components:t.components});return new zs(Ms,r||"",n,"array",s,null,e,o)}if("tuple"===n||n.startsWith("tuple(")||n.startsWith("(")){const e=null!=t.components?t.components.map((t=>zs.from(t))):null;return new zs(Ms,r||"",n,"tuple",s,e,null,null)}return n=Es(t.type),new zs(Ms,r||"",n,n,s,null,null,null)}static isParamType(t){return t&&t[As]===Fs}}class Is{type;inputs;constructor(t,e,r){E(t,Ms,"Fragment"),y(this,{type:e,inputs:r=Object.freeze(r.slice())})}static from(t){if("string"===typeof t){try{Is.from(JSON.parse(t))}catch(e){}return Is.from(ys(t))}if(t instanceof gs){switch(t.peekKeyword(is)){case"constructor":return Hs.from(t);case"error":return Cs.from(t);case"event":return Ls.from(t);case"fallback":case"receive":return Ws.from(t);case"function":return Ds.from(t);case"struct":return qs.from(t)}}else if("object"===typeof t){switch(t.type){case"constructor":return Hs.from(t);case"error":return Cs.from(t);case"event":return Ls.from(t);case"fallback":case"receive":return Ws.from(t);case"function":return Ds.from(t);case"struct":return qs.from(t)}v(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}x(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return Hs.isFragment(t)}static isError(t){return Cs.isFragment(t)}static isEvent(t){return Ls.isFragment(t)}static isFunction(t){return Ds.isFragment(t)}static isStruct(t){return qs.isFragment(t)}}class Ns extends Is{name;constructor(t,e,r,s){super(t,e,s),x("string"===typeof r&&r.match(ds),"invalid identifier","name",r),s=Object.freeze(s.slice()),y(this,{name:r})}}function Us(t,e){return"("+e.map((e=>e.format(t))).join("full"===t?", ":",")+")"}class Cs extends Ns{constructor(t,e,r){super(t,"error",e,r),Object.defineProperty(this,As,{value:Bs})}get selector(){return Xr(this.format("sighash")).substring(0,10)}format(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});const e=[];return"sighash"!==t&&e.push("error"),e.push(this.name+Us(t,this.inputs)),e.join(" ")}static from(t){if(Cs.isFragment(t))return t;if("string"===typeof t)return Cs.from(ys(t));if(t instanceof gs){const e=_s("error",t),r=vs(t);return ks(t),new Cs(Ms,e,r)}return new Cs(Ms,t.name,t.inputs?t.inputs.map(zs.from):[])}static isFragment(t){return t&&t[As]===Bs}}class Ls extends Ns{anonymous;constructor(t,e,r,s){super(t,"event",e,r),Object.defineProperty(this,As,{value:Ts}),y(this,{anonymous:s})}get topicHash(){return Xr(this.format("sighash"))}format(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});const e=[];return"sighash"!==t&&e.push("event"),e.push(this.name+Us(t,this.inputs)),"sighash"!==t&&this.anonymous&&e.push("anonymous"),e.join(" ")}static getTopicHash(t,e){e=(e||[]).map((t=>zs.from(t)));return new Ls(Ms,t,e,!1).topicHash}static from(t){if(Ls.isFragment(t))return t;if("string"===typeof t)try{return Ls.from(ys(t))}catch(e){x(!1,"invalid event fragment","obj",t)}else if(t instanceof gs){const e=_s("event",t),r=vs(t,!0),s=!!bs(t,ts(["anonymous"])).has("anonymous");return ks(t),new Ls(Ms,e,r,s)}return new Ls(Ms,t.name,t.inputs?t.inputs.map((t=>zs.from(t,!0))):[],!!t.anonymous)}static isFragment(t){return t&&t[As]===Ts}}class Hs extends Is{payable;gas;constructor(t,e,r,s,n){super(t,e,r),Object.defineProperty(this,As,{value:Rs}),y(this,{payable:s,gas:n})}format(t){if(v(null!=t&&"sighash"!==t,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===t)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});const e=[`constructor${Us(t,this.inputs)}`];return this.payable&&e.push("payable"),null!=this.gas&&e.push(`@${this.gas.toString()}`),e.join(" ")}static from(t){if(Hs.isFragment(t))return t;if("string"===typeof t)try{return Hs.from(ys(t))}catch(e){x(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof gs){bs(t,ts(["constructor"]));const e=vs(t),r=!!bs(t,es).has("payable"),s=xs(t);return ks(t),new Hs(Ms,"constructor",e,r,s)}return new Hs(Ms,"constructor",t.inputs?t.inputs.map(zs.from):[],!!t.payable,null!=t.gas?t.gas:null)}static isFragment(t){return t&&t[As]===Rs}}class Ws extends Is{payable;constructor(t,e,r){super(t,"fallback",e),Object.defineProperty(this,As,{value:Ps}),y(this,{payable:r})}format(t){const e=0===this.inputs.length?"receive":"fallback";if("json"===t){const t=this.payable?"payable":"nonpayable";return JSON.stringify({type:e,stateMutability:t})}return`${e}()${this.payable?" payable":""}`}static from(t){if(Ws.isFragment(t))return t;if("string"===typeof t)try{return Ws.from(ys(t))}catch(e){x(!1,"invalid fallback fragment","obj",t)}else if(t instanceof gs){const e=t.toString();x(t.peekKeyword(ts(["fallback","receive"])),"type must be fallback or receive","obj",e);if("receive"===t.popKeyword(ts(["fallback","receive"]))){const e=vs(t);return x(0===e.length,"receive cannot have arguments","obj.inputs",e),bs(t,ts(["payable"])),ks(t),new Ws(Ms,[],!0)}let r=vs(t);r.length?x(1===r.length&&"bytes"===r[0].type,"invalid fallback inputs","obj.inputs",r.map((t=>t.format("minimal"))).join(", ")):r=[zs.from("bytes")];const s=ws(t);if(x("nonpayable"===s||"payable"===s,"fallback cannot be constants","obj.stateMutability",s),bs(t,ts(["returns"])).has("returns")){const e=vs(t);x(1===e.length&&"bytes"===e[0].type,"invalid fallback outputs","obj.outputs",e.map((t=>t.format("minimal"))).join(", "))}return ks(t),new Ws(Ms,r,"payable"===s)}if("receive"===t.type)return new Ws(Ms,[],!0);if("fallback"===t.type){const e=[zs.from("bytes")],r="payable"===t.stateMutability;return new Ws(Ms,e,r)}x(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[As]===Ps}}class Ds extends Ns{constant;outputs;stateMutability;payable;gas;constructor(t,e,r,s,n,i){super(t,"function",e,s),Object.defineProperty(this,As,{value:Ss});y(this,{constant:"view"===r||"pure"===r,gas:i,outputs:n=Object.freeze(n.slice()),payable:"payable"===r,stateMutability:r})}get selector(){return Xr(this.format("sighash")).substring(0,10)}format(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t)))),outputs:this.outputs.map((e=>JSON.parse(e.format(t))))});const e=[];return"sighash"!==t&&e.push("function"),e.push(this.name+Us(t,this.inputs)),"sighash"!==t&&("nonpayable"!==this.stateMutability&&e.push(this.stateMutability),this.outputs&&this.outputs.length&&(e.push("returns"),e.push(Us(t,this.outputs))),null!=this.gas&&e.push(`@${this.gas.toString()}`)),e.join(" ")}static getSelector(t,e){e=(e||[]).map((t=>zs.from(t)));return new Ds(Ms,t,"view",e,[],null).selector}static from(t){if(Ds.isFragment(t))return t;if("string"===typeof t)try{return Ds.from(ys(t))}catch(r){x(!1,"invalid function fragment","obj",t)}else if(t instanceof gs){const e=_s("function",t),r=vs(t),s=ws(t);let n=[];bs(t,ts(["returns"])).has("returns")&&(n=vs(t));const i=xs(t);return ks(t),new Ds(Ms,e,s,r,n,i)}let e=t.stateMutability;return null==e&&(e="payable","boolean"===typeof t.constant?(e="view",t.constant||(e="payable","boolean"!==typeof t.payable||t.payable||(e="nonpayable"))):"boolean"!==typeof t.payable||t.payable||(e="nonpayable")),new Ds(Ms,t.name,e,t.inputs?t.inputs.map(zs.from):[],t.outputs?t.outputs.map(zs.from):[],null!=t.gas?t.gas:null)}static isFragment(t){return t&&t[As]===Ss}}class qs extends Ns{constructor(t,e,r){super(t,"struct",e,r),Object.defineProperty(this,As,{value:js})}format(){throw new Error("@TODO")}static from(t){if("string"===typeof t)try{return qs.from(ys(t))}catch(e){x(!1,"invalid struct fragment","obj",t)}else if(t instanceof gs){const e=_s("struct",t),r=vs(t);return ks(t),new qs(Ms,e,r)}return new qs(Ms,t.name,t.inputs?t.inputs.map(zs.from):[])}static isFragment(t){return t&&t[As]===js}}const $s=new Map;$s.set(0,"GENERIC_PANIC"),$s.set(1,"ASSERT_FALSE"),$s.set(17,"OVERFLOW"),$s.set(18,"DIVIDE_BY_ZERO"),$s.set(33,"ENUM_RANGE_ERROR"),$s.set(34,"BAD_STORAGE_DATA"),$s.set(49,"STACK_UNDERFLOW"),$s.set(50,"ARRAY_RANGE_ERROR"),$s.set(65,"OUT_OF_MEMORY"),$s.set(81,"UNINITIALIZED_FUNCTION_CALL");const Vs=new RegExp(/^bytes([0-9]*)$/),Gs=new RegExp(/^(u?int)([0-9]*)$/);let Js=null,Ks=1024;class Zs{#b(t){if(t.isArray())return new zr(this.#b(t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new Yr(t.components.map((t=>this.#b(t))),t.name);switch(t.baseType){case"address":return new Rr(t.name);case"bool":return new Ir(t.name);case"string":return new Qr(t.name);case"bytes":return new Ur(t.name);case"":return new Hr(t.name)}let e=t.type.match(Gs);if(e){const r=parseInt(e[2]||"256");return x(0!==r&&r<=256&&r%8===0,"invalid "+e[1]+" bit length","param",t),new $r(r/8,"int"===e[1],t.name)}if(e=t.type.match(Vs),e){const r=parseInt(e[1]);return x(0!==r&&r<=32,"invalid bytes length","param",t),new Cr(r,t.name)}x(!1,"invalid type","type",t.type)}getDefaultValue(t){const e=t.map((t=>this.#b(zs.from(t))));return new Yr(e,"_").defaultValue()}encode(t,e){k(e.length,t.length,"types/values length mismatch");const r=t.map((t=>this.#b(zs.from(t)))),s=new Yr(r,"_"),n=new nt;return s.encode(n,e),n.data}decode(t,e,r){const s=t.map((t=>this.#b(zs.from(t))));return new Yr(s,"_").decode(new it(e,r,Ks))}static _setDefaultMaxInflation(t){x("number"===typeof t&&Number.isInteger(t),"invalid defaultMaxInflation factor","value",t),Ks=t}static defaultAbiCoder(){return null==Js&&(Js=new Zs),Js}static getBuiltinCallException(t,e,r){return function(t,e,r,s){let n="missing revert data",i=null,o=null;if(r){n="execution reverted";const t=A(r);if(r=R(r),0===t.length)n+=" (no data present; likely require(false) occurred",i="require(false)";else if(t.length%32!==4)n+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===R(t.slice(0,4)))try{i=s.decode(["string"],t.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[i]},n+=`: ${JSON.stringify(i)}`}catch(u){n+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===R(t.slice(0,4)))try{const e=Number(s.decode(["uint256"],t.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[e]},i=`Panic due to ${$s.get(e)||"UNKNOWN"}(${e})`,n+=`: ${i}`}catch(u){n+=" (could not decode panic code)"}else n+=" (unknown custom error)"}const a={to:e.to?Or(e.to):null,data:e.data||"0x"};return e.from&&(a.from=Or(e.from)),w(n,"CALL_EXCEPTION",{action:t,data:r,reason:i,transaction:a,invocation:null,revert:o})}(t,e,r,Zs.defaultAbiCoder())}}function Qs(t){return t&&"function"===typeof t.getAddress}async function Ys(t,e){const r=await e;return null!=r&&"0x0000000000000000000000000000000000000000"!==r||x(!1,"invalid AddressLike value; did not resolve to a value address","target",t),r}function Xs(t){if("string"===typeof t){if(t.match(/^0x[0-9a-f]{40}$/i))return t}else{if(Qs(t))return Ys(t,t.getAddress());if(t&&"function"===typeof t.then)return Ys(t,t)}x(!1,"unsupported addressable value","target",t)}function tn(t){x("string"===typeof t,"address must be string","address",t),x(Boolean(t.match(/^(0x)?[0-9a-fA-F]{40}$/)),"invalid address string format","address",t),x(kr(t)===t,"invalid address checksum","address",t)}function en(t){const e=t.substring(4,6);return"1"===parseInt(e,16).toString(2).padStart(8,"0")[0]}function rn(t){return!en(t)}function sn(t,e){return tn(t),{address:Or(t),storageKeys:e.map(((t,e)=>(x(B(t,32),"invalid slot",`storageKeys[${e}]`,t),t.toLowerCase())))}}function nn(t){if(Array.isArray(t))return t.map(((e,r)=>Array.isArray(e)?(x(2===e.length,"invalid slot set",`value[${r}]`,e),sn(kr(e[0]),e[1])):(x(null!=e&&"object"===typeof e,"invalid address-slot set","value",t),sn(kr(e.address),e.storageKeys))));x(null!=t&&"object"===typeof t,"invalid access list","value",t);const e=Object.keys(t).map((e=>{const r=t[e].reduce(((t,e)=>(t[e]=!0,t)),{});return sn(e,Object.keys(r).sort())}));return e.sort(((t,e)=>t.address.localeCompare(e.address))),e}var on,an;!function(t){t.Cyprus1="0x00",t.Cyprus2="0x01",t.Cyprus3="0x02",t.Paxos1="0x10",t.Paxos2="0x11",t.Paxos3="0x12",t.Hydra1="0x20",t.Hydra2="0x21",t.Hydra3="0x22"}(on||(on={})),function(t){t[t.Quai=0]="Quai",t[t.Qi=1]="Qi"}(an||(an={}));const un=[{name:"Cyprus One",nickname:"cyprus1",shard:"zone-0-0",context:2,byte:"0x00"},{name:"Cyprus Two",nickname:"cyprus2",shard:"zone-0-1",context:2,byte:"0x01"},{name:"Cyprus Three",nickname:"cyprus3",shard:"zone-0-2",context:2,byte:"0x02"},{name:"Paxos One",nickname:"paxos1",shard:"zone-1-0",context:2,byte:"0x10"},{name:"Paxos Two",nickname:"paxos2",shard:"zone-1-1",context:2,byte:"0x11"},{name:"Paxos Three",nickname:"paxos3",shard:"zone-1-2",context:2,byte:"0x12"},{name:"Hydra One",nickname:"hydra1",shard:"zone-2-0",context:2,byte:"0x20"},{name:"Hydra Two",nickname:"hydra2",shard:"zone-2-1",context:2,byte:"0x21"},{name:"Hydra Three",nickname:"hydra3",shard:"zone-2-2",context:2,byte:"0x22"}];function hn(t){return function(t){switch(t){case"0x00":return on.Cyprus1;case"0x01":return on.Cyprus2;case"0x02":return on.Cyprus3;case"0x10":return on.Paxos1;case"0x11":return on.Paxos2;case"0x12":return on.Paxos3;case"0x20":return on.Hydra1;case"0x21":return on.Hydra2;case"0x22":return on.Hydra3;default:throw new Error(`Invalid zone: ${t}`)}}(un.find((e=>e.name==t||e.byte==t||e.nickname==t||e.shard==t))?.byte||"")}var ln;!function(t){t.Cyprus="0x0",t.Cyprus1="0x00",t.Cyprus2="0x01",t.Cyprus3="0x02",t.Paxos="0x1",t.Paxos1="0x10",t.Paxos2="0x11",t.Paxos3="0x12",t.Hydra="0x2",t.Hydra1="0x20",t.Hydra2="0x21",t.Hydra3="0x22",t.Prime="0x"}(ln||(ln={}));const cn=[...un,{name:"Cyprus",nickname:"cyprus",shard:"region-0",context:2,byte:"0x0"},{name:"Paxos",nickname:"paxos",shard:"region-1",context:2,byte:"0x1"},{name:"Hydra",nickname:"hydra",shard:"region-2",context:2,byte:"0x2"},{name:"Prime",nickname:"prime",shard:"prime",context:2,byte:"0x"}];function pn(t){return function(t){switch(t){case"0x":return ln.Prime;case"0x0":return ln.Cyprus;case"0x1":return ln.Paxos;case"0x2":return ln.Hydra;case"0x00":return ln.Cyprus1;case"0x01":return ln.Cyprus2;case"0x02":return ln.Cyprus3;case"0x10":return ln.Paxos1;case"0x11":return ln.Paxos2;case"0x12":return ln.Paxos3;case"0x20":return ln.Hydra1;case"0x21":return ln.Hydra2;case"0x22":return ln.Hydra3;default:throw new Error("Invalid shard")}}(cn.find((e=>e.name==t||e.byte==t||e.nickname==t||e.shard==t))?.byte||"")}function dn(t,e){return cn.find((e=>e.byte==t))?.[e]||""}function fn(t){return async function(t,e){const r=t.url.split(":")[0].toLowerCase();let s;if(v("http"===r||"https"===r,`unsupported protocol ${r}`,"UNSUPPORTED_OPERATION",{info:{protocol:r},operation:"request"}),v("https"===r||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"}),e){const t=new AbortController;s=t.signal,e.addListener((()=>{t.abort()}))}const n={method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:s},i=await fetch(t.url,n),o={};i.headers.forEach(((t,e)=>{o[e.toLowerCase()]=t}));const a=await i.arrayBuffer(),u=null==a?null:new Uint8Array(a);return{statusCode:i.status,statusMessage:i.statusText,headers:o,body:u}}}fn();let gn=fn();const yn=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),mn=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let _n=!1;async function bn(t,e){try{const e=t.match(yn);if(!e)throw new Error("invalid data");return new Mn(200,"OK",{"content-type":e[1]||"text/plain"},e[2]?function(t){t=atob(t);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return A(e)}(e[3]):Kr(e[3].replace(/%([0-9a-f][0-9a-f])/gi,((t,e)=>String.fromCharCode(parseInt(e,16))))))}catch(r){return new Mn(599,"BAD REQUEST (invalid data: URI)",{},null,new En(t))}}function wn(t){return async function(e,r){try{const r=e.match(mn);if(!r)throw new Error("invalid link");return new En(`${t}${r[2]}`)}catch(s){return new Mn(599,"BAD REQUEST (invalid IPFS URI)",{},null,new En(e))}}}const vn={data:bn,ipfs:wn("https://gateway.ipfs.io/ipfs/")},xn=new WeakMap;class kn{#w;#v;constructor(t){this.#w=[],this.#v=!1,xn.set(t,(()=>{if(!this.#v){this.#v=!0;for(const t of this.#w)setTimeout((()=>{t()}),0);this.#w=[]}}))}addListener(t){v(!this.#v,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#w.push(t)}get cancelled(){return this.#v}checkSignal(){v(!this.cancelled,"cancelled","CANCELLED",{})}}function On(t){if(null==t)throw new Error("missing signal; should not happen");return t.checkSignal(),t}class En{#x;#k;#O;#E;#M;#A;#F;#B;#T;#R;#P;#S;#j;#z;#I;get url(){return this.#A}set url(t){this.#A=String(t)}get body(){return null==this.#F?null:new Uint8Array(this.#F)}set body(t){if(null==t)this.#F=void 0,this.#B=void 0;else if("string"===typeof t)this.#F=Kr(t),this.#B="text/plain";else if(t instanceof Uint8Array)this.#F=t,this.#B="application/octet-stream";else{if("object"!==typeof t)throw new Error("invalid body");this.#F=Kr(JSON.stringify(t)),this.#B="application/json"}}hasBody(){return null!=this.#F}get method(){return this.#E?this.#E:this.hasBody()?"POST":"GET"}set method(t){null==t&&(t=""),this.#E=String(t).toUpperCase()}get headers(){const t=Object.assign({},this.#O);return this.#T&&(t.authorization=`Basic ${function(t){const e=A(t);let r="";for(let s=0;s<e.length;s++)r+=String.fromCharCode(e[s]);return btoa(r)}(Kr(this.#T))}`),this.allowGzip&&(t["accept-encoding"]="gzip"),null==t["content-type"]&&this.#B&&(t["content-type"]=this.#B),this.body&&(t["content-length"]=String(this.body.length)),t}getHeader(t){return this.headers[t.toLowerCase()]}setHeader(t,e){this.#O[String(t).toLowerCase()]=String(e)}clearHeaders(){this.#O={}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let r=0;return{next:()=>{if(r<e.length){const s=e[r++];return{value:[s,t[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#T||null}setCredentials(t,e){x(!t.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#T=`${t}:${e}`}get allowGzip(){return this.#k}set allowGzip(t){this.#k=!!t}get allowInsecureAuthentication(){return!!this.#x}set allowInsecureAuthentication(t){this.#x=!!t}get timeout(){return this.#M}set timeout(t){x(t>=0,"timeout must be non-zero","timeout",t),this.#M=t}get preflightFunc(){return this.#R||null}set preflightFunc(t){this.#R=t}get processFunc(){return this.#P||null}set processFunc(t){this.#P=t}get retryFunc(){return this.#S||null}set retryFunc(t){this.#S=t}get getUrlFunc(){return this.#I||gn}set getUrlFunc(t){this.#I=t}constructor(t){this.#A=String(t),this.#x=!1,this.#k=!0,this.#O={},this.#E="",this.#M=3e5,this.#z={slotInterval:250,maxAttempts:12},this.#I=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#F?R(this.#F):"null"}>`}setThrottleParams(t){null!=t.slotInterval&&(this.#z.slotInterval=t.slotInterval),null!=t.maxAttempts&&(this.#z.maxAttempts=t.maxAttempts)}async#N(t,e,r,s,n){if(t>=this.#z.maxAttempts)return n.makeServerError("exceeded maximum retry limit");v(An()<=e,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),r>0&&await function(t){return new Promise((e=>setTimeout(e,t)))}(r);let i=this.clone();const o=(i.url.split(":")[0]||"").toLowerCase();if(o in vn){const t=await vn[o](i.url,On(s.#j));if(t instanceof Mn){let e=t;if(this.processFunc){On(s.#j);try{e=await this.processFunc(i,e)}catch(h){null!=h.throttle&&"number"===typeof h.stall||e.makeServerError("error in post-processing function",h).assertOk()}}return e}i=t}this.preflightFunc&&(i=await this.preflightFunc(i));const a=await this.getUrlFunc(i,On(s.#j));let u=new Mn(a.statusCode,a.statusMessage,a.headers,a.body,s);if(301===u.statusCode||302===u.statusCode){try{const r=u.headers.location||"";return i.redirect(r).#N(t+1,e,0,s,u)}catch(h){}return u}if(429===u.statusCode&&(null==this.retryFunc||await this.retryFunc(i,u,t))){const r=u.headers["retry-after"];let n=this.#z.slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return"string"===typeof r&&r.match(/^[1-9][0-9]*$/)&&(n=parseInt(r)),i.clone().#N(t+1,e,n,s,u)}if(this.processFunc){On(s.#j);try{u=await this.processFunc(i,u)}catch(h){null!=h.throttle&&"number"===typeof h.stall||u.makeServerError("error in post-processing function",h).assertOk();let r=this.#z.slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return h.stall>=0&&(r=h.stall),i.clone().#N(t+1,e,r,s,u)}}return u}send(){return v(null==this.#j,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#j=new kn(this),this.#N(0,An()+this.timeout,0,this,new Mn(0,"",{},null,this))}cancel(){v(null!=this.#j,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const t=xn.get(this);if(!t)throw new Error("missing signal; should not happen");t()}redirect(t){const e=this.url.split(":")[0].toLowerCase(),r=t.split(":")[0].toLowerCase();v("GET"===this.method&&("https"!==e||"http"!==r)&&t.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(t)})`});const s=new En(t);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,s.#O=Object.assign({},this.#O),this.#F&&(s.#F=new Uint8Array(this.#F)),s.#B=this.#B,s}clone(){const t=new En(this.url);return t.#E=this.#E,this.#F&&(t.#F=this.#F),t.#B=this.#B,t.#O=Object.assign({},this.#O),t.#T=this.#T,this.allowGzip&&(t.allowGzip=!0),t.timeout=this.timeout,this.allowInsecureAuthentication&&(t.allowInsecureAuthentication=!0),t.#R=this.#R,t.#P=this.#P,t.#S=this.#S,t.#I=this.#I,t}static lockConfig(){_n=!0}static getGateway(t){return vn[t.toLowerCase()]||null}static registerGateway(t,e){if("http"===(t=t.toLowerCase())||"https"===t)throw new Error(`cannot intercept ${t}; use registerGetUrl`);if(_n)throw new Error("gateways locked");vn[t]=e}static registerGetUrl(t){if(_n)throw new Error("gateways locked");gn=t}static createGetUrlFunc(t){return fn()}static createDataGateway(){return bn}static createIpfsGatewayFunc(t){return wn(t)}}class Mn{#U;#C;#O;#F;#L;#H;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#F?R(this.#F):"null"}>`}get statusCode(){return this.#U}get statusMessage(){return this.#C}get headers(){return Object.assign({},this.#O)}get body(){return null==this.#F?null:new Uint8Array(this.#F)}get bodyText(){try{return null==this.#F?"":Zr(this.#F)}catch(t){v(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(t){v(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let r=0;return{next:()=>{if(r<e.length){const s=e[r++];return{value:[s,t[s]],done:!1}}return{value:void 0,done:!0}}}}constructor(t,e,r,s,n){this.#U=t,this.#C=e,this.#O=Object.keys(r).reduce(((t,e)=>(t[e.toLowerCase()]=String(r[e]),t)),{}),this.#F=null==s?null:new Uint8Array(s),this.#L=n||null,this.#H={message:""}}makeServerError(t,e){let r;r=t?`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${t})`:`CLIENT ESCALATED SERVER ERROR (${t=`${this.statusCode} ${this.statusMessage}`})`;const s=new Mn(599,r,this.headers,this.body,this.#L||void 0);return s.#H={message:t,error:e},s}throwThrottleError(t,e){null==e?e=-1:x(Number.isInteger(e)&&e>=0,"invalid stall timeout","stall",e);const r=new Error(t||"throttling requests");throw y(r,{stall:e,throttle:!0}),r}getHeader(t){return this.headers[t.toLowerCase()]}hasBody(){return null!=this.#F}get request(){return this.#L}ok(){return""===this.#H.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:t,error:e}=this.#H;""===t&&(t=`server response ${this.statusCode} ${this.statusMessage}`),v(!1,t,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:e})}}function An(){return(new Date).getTime()}class Fn{filter;emitter;#W;constructor(t,e,r){this.#W=e,y(this,{emitter:t,filter:r})}async removeListener(){null!=this.#W&&await this.emitter.off(this.filter,this.#W)}}var Bn,Tn,Rn=r(3019);function Pn(t){const e=Tn.ProtoTransaction.deserialize(t).toObject();return 0==e.to?.length&&(e.to=null),e}!function(t){class e extends Rn.Message{#D=[];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[],this.#D),Array.isArray(t)||"object"!=typeof t||"value"in t&&void 0!=t.value&&(this.value=t.value)}get value(){return Rn.Message.getFieldWithDefault(this,1,new Uint8Array(0))}set value(t){Rn.Message.setField(this,1,t)}static fromObject(t){const r=new e({});return null!=t.value&&(r.value=t.value),r}toObject(){const t={};return null!=this.value&&(t.value=this.value),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.value.length&&e.writeBytes(1,this.value),!t)return e.getResultBuffer()}static deserialize(t){const r=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),s=new e;for(;r.nextField()&&!r.isEndGroup();)if(1===r.getFieldNumber())s.value=r.readBytes();else r.skipField();return s}serializeBinary(){return this.serialize()}static deserializeBinary(t){return e.deserialize(t)}}t.ProtoLocation=e;class r extends Rn.Message{#D=[];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[],this.#D),Array.isArray(t)||"object"!=typeof t||"value"in t&&void 0!=t.value&&(this.value=t.value)}get value(){return Rn.Message.getFieldWithDefault(this,1,new Uint8Array(0))}set value(t){Rn.Message.setField(this,1,t)}static fromObject(t){const e=new r({});return null!=t.value&&(e.value=t.value),e}toObject(){const t={};return null!=this.value&&(t.value=this.value),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.value.length&&e.writeBytes(1,this.value),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),s=new r;for(;e.nextField()&&!e.isEndGroup();)if(1===e.getFieldNumber())s.value=e.readBytes();else e.skipField();return s}serializeBinary(){return this.serialize()}static deserializeBinary(t){return r.deserialize(t)}}t.ProtoHash=r;class s extends Rn.Message{#D=[];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[1],this.#D),Array.isArray(t)||"object"!=typeof t||"hashes"in t&&void 0!=t.hashes&&(this.hashes=t.hashes)}get hashes(){return Rn.Message.getRepeatedWrapperField(this,r,1)}set hashes(t){Rn.Message.setRepeatedWrapperField(this,1,t)}static fromObject(t){const e=new s({});return null!=t.hashes&&(e.hashes=t.hashes.map((t=>r.fromObject(t)))),e}toObject(){const t={};return null!=this.hashes&&(t.hashes=this.hashes.map((t=>t.toObject()))),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.hashes.length&&e.writeRepeatedMessage(1,this.hashes,(t=>t.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),n=new s;for(;e.nextField()&&!e.isEndGroup();)if(1===e.getFieldNumber())e.readMessage(n.hashes,(()=>Rn.Message.addToRepeatedWrapperField(n,1,r.deserialize(e),r)));else e.skipField();return n}serializeBinary(){return this.serialize()}static deserializeBinary(t){return s.deserialize(t)}}t.ProtoHashes=s;class n extends Rn.Message{#D=[];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[],this.#D),Array.isArray(t)||"object"!=typeof t||"value"in t&&void 0!=t.value&&(this.value=t.value)}get value(){return Rn.Message.getFieldWithDefault(this,1,new Uint8Array(0))}set value(t){Rn.Message.setField(this,1,t)}static fromObject(t){const e=new n({});return null!=t.value&&(e.value=t.value),e}toObject(){const t={};return null!=this.value&&(t.value=this.value),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.value.length&&e.writeBytes(1,this.value),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new n;for(;e.nextField()&&!e.isEndGroup();)if(1===e.getFieldNumber())r.value=e.readBytes();else e.skipField();return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return n.deserialize(t)}}t.ProtoAddress=n;class i extends Rn.Message{#D=[];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[],this.#D),Array.isArray(t)||"object"!=typeof t||"value"in t&&void 0!=t.value&&(this.value=t.value)}get value(){return Rn.Message.getFieldWithDefault(this,1,0)}set value(t){Rn.Message.setField(this,1,t)}static fromObject(t){const e=new i({});return null!=t.value&&(e.value=t.value),e}toObject(){const t={};return null!=this.value&&(t.value=this.value),t}serialize(t){const e=t||new Rn.BinaryWriter;if(0!=this.value&&e.writeUint64(1,this.value),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new i;for(;e.nextField()&&!e.isEndGroup();)if(1===e.getFieldNumber())r.value=e.readUint64();else e.skipField();return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return i.deserialize(t)}}t.ProtoNumber=i;class o extends Rn.Message{#D=[];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[1],this.#D),Array.isArray(t)||"object"!=typeof t||"locations"in t&&void 0!=t.locations&&(this.locations=t.locations)}get locations(){return Rn.Message.getRepeatedWrapperField(this,e,1)}set locations(t){Rn.Message.setRepeatedWrapperField(this,1,t)}static fromObject(t){const r=new o({});return null!=t.locations&&(r.locations=t.locations.map((t=>e.fromObject(t)))),r}toObject(){const t={};return null!=this.locations&&(t.locations=this.locations.map((t=>t.toObject()))),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.locations.length&&e.writeRepeatedMessage(1,this.locations,(t=>t.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const r=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),s=new o;for(;r.nextField()&&!r.isEndGroup();)if(1===r.getFieldNumber())r.readMessage(s.locations,(()=>Rn.Message.addToRepeatedWrapperField(s,1,e.deserialize(r),e)));else r.skipField();return s}serializeBinary(){return this.serialize()}static deserializeBinary(t){return o.deserialize(t)}}t.ProtoLocations=o}(Bn||(Bn={})),function(t){class e extends Rn.Message{#D=[[2],[3],[4],[5],[6],[8],[9],[13],[15],[16],[17],[18],[19],[20],[21],[22],[23],[24],[25],[26],[27],[28],[29],[30],[31],[32],[33],[34],[35],[36]];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[1,7,10,11,12,14],this.#D),Array.isArray(t)||"object"!=typeof t||("parent_hash"in t&&void 0!=t.parent_hash&&(this.parent_hash=t.parent_hash),"uncle_hash"in t&&void 0!=t.uncle_hash&&(this.uncle_hash=t.uncle_hash),"evm_root"in t&&void 0!=t.evm_root&&(this.evm_root=t.evm_root),"tx_hash"in t&&void 0!=t.tx_hash&&(this.tx_hash=t.tx_hash),"outbound_etx_hash"in t&&void 0!=t.outbound_etx_hash&&(this.outbound_etx_hash=t.outbound_etx_hash),"etx_rollup_hash"in t&&void 0!=t.etx_rollup_hash&&(this.etx_rollup_hash=t.etx_rollup_hash),"manifest_hash"in t&&void 0!=t.manifest_hash&&(this.manifest_hash=t.manifest_hash),"receipt_hash"in t&&void 0!=t.receipt_hash&&(this.receipt_hash=t.receipt_hash),"difficulty"in t&&void 0!=t.difficulty&&(this.difficulty=t.difficulty),"parent_entropy"in t&&void 0!=t.parent_entropy&&(this.parent_entropy=t.parent_entropy),"parent_delta_entropy"in t&&void 0!=t.parent_delta_entropy&&(this.parent_delta_entropy=t.parent_delta_entropy),"parent_uncled_delta_entropy"in t&&void 0!=t.parent_uncled_delta_entropy&&(this.parent_uncled_delta_entropy=t.parent_uncled_delta_entropy),"uncled_entropy"in t&&void 0!=t.uncled_entropy&&(this.uncled_entropy=t.uncled_entropy),"number"in t&&void 0!=t.number&&(this.number=t.number),"gas_limit"in t&&void 0!=t.gas_limit&&(this.gas_limit=t.gas_limit),"gas_used"in t&&void 0!=t.gas_used&&(this.gas_used=t.gas_used),"base_fee"in t&&void 0!=t.base_fee&&(this.base_fee=t.base_fee),"location"in t&&void 0!=t.location&&(this.location=t.location),"extra"in t&&void 0!=t.extra&&(this.extra=t.extra),"mix_hash"in t&&void 0!=t.mix_hash&&(this.mix_hash=t.mix_hash),"nonce"in t&&void 0!=t.nonce&&(this.nonce=t.nonce),"utxo_root"in t&&void 0!=t.utxo_root&&(this.utxo_root=t.utxo_root),"etx_set_root"in t&&void 0!=t.etx_set_root&&(this.etx_set_root=t.etx_set_root),"efficiency_score"in t&&void 0!=t.efficiency_score&&(this.efficiency_score=t.efficiency_score),"threshold_count"in t&&void 0!=t.threshold_count&&(this.threshold_count=t.threshold_count),"expansion_number"in t&&void 0!=t.expansion_number&&(this.expansion_number=t.expansion_number),"etx_eligible_slices"in t&&void 0!=t.etx_eligible_slices&&(this.etx_eligible_slices=t.etx_eligible_slices),"prime_terminus_hash"in t&&void 0!=t.prime_terminus_hash&&(this.prime_terminus_hash=t.prime_terminus_hash),"interlink_root_hash"in t&&void 0!=t.interlink_root_hash&&(this.interlink_root_hash=t.interlink_root_hash),"state_limit"in t&&void 0!=t.state_limit&&(this.state_limit=t.state_limit),"state_used"in t&&void 0!=t.state_used&&(this.state_used=t.state_used),"quai_state_size"in t&&void 0!=t.quai_state_size&&(this.quai_state_size=t.quai_state_size),"secondary_coinbase"in t&&void 0!=t.secondary_coinbase&&(this.secondary_coinbase=t.secondary_coinbase),"exchange_rate"in t&&void 0!=t.exchange_rate&&(this.exchange_rate=t.exchange_rate),"quai_to_qi"in t&&void 0!=t.quai_to_qi&&(this.quai_to_qi=t.quai_to_qi),"qi_to_quai"in t&&void 0!=t.qi_to_quai&&(this.qi_to_quai=t.qi_to_quai))}get parent_hash(){return Rn.Message.getRepeatedWrapperField(this,Bn.ProtoHash,1)}set parent_hash(t){Rn.Message.setRepeatedWrapperField(this,1,t)}get uncle_hash(){return Rn.Message.getWrapperField(this,Bn.ProtoHash,2)}set uncle_hash(t){Rn.Message.setOneofWrapperField(this,2,this.#D[0],t)}get has_uncle_hash(){return null!=Rn.Message.getField(this,2)}get evm_root(){return Rn.Message.getWrapperField(this,Bn.ProtoHash,3)}set evm_root(t){Rn.Message.setOneofWrapperField(this,3,this.#D[1],t)}get has_evm_root(){return null!=Rn.Message.getField(this,3)}get tx_hash(){return Rn.Message.getWrapperField(this,Bn.ProtoHash,4)}set tx_hash(t){Rn.Message.setOneofWrapperField(this,4,this.#D[2],t)}get has_tx_hash(){return null!=Rn.Message.getField(this,4)}get outbound_etx_hash(){return Rn.Message.getWrapperField(this,Bn.ProtoHash,5)}set outbound_etx_hash(t){Rn.Message.setOneofWrapperField(this,5,this.#D[3],t)}get has_outbound_etx_hash(){return null!=Rn.Message.getField(this,5)}get etx_rollup_hash(){return Rn.Message.getWrapperField(this,Bn.ProtoHash,6)}set etx_rollup_hash(t){Rn.Message.setOneofWrapperField(this,6,this.#D[4],t)}get has_etx_rollup_hash(){return null!=Rn.Message.getField(this,6)}get manifest_hash(){return Rn.Message.getRepeatedWrapperField(this,Bn.ProtoHash,7)}set manifest_hash(t){Rn.Message.setRepeatedWrapperField(this,7,t)}get receipt_hash(){return Rn.Message.getWrapperField(this,Bn.ProtoHash,8)}set receipt_hash(t){Rn.Message.setOneofWrapperField(this,8,this.#D[5],t)}get has_receipt_hash(){return null!=Rn.Message.getField(this,8)}get difficulty(){return Rn.Message.getFieldWithDefault(this,9,new Uint8Array(0))}set difficulty(t){Rn.Message.setOneofField(this,9,this.#D[6],t)}get has_difficulty(){return null!=Rn.Message.getField(this,9)}get parent_entropy(){return Rn.Message.getFieldWithDefault(this,10,[])}set parent_entropy(t){Rn.Message.setField(this,10,t)}get parent_delta_entropy(){return Rn.Message.getFieldWithDefault(this,11,[])}set parent_delta_entropy(t){Rn.Message.setField(this,11,t)}get parent_uncled_delta_entropy(){return Rn.Message.getFieldWithDefault(this,12,[])}set parent_uncled_delta_entropy(t){Rn.Message.setField(this,12,t)}get uncled_entropy(){return Rn.Message.getFieldWithDefault(this,13,new Uint8Array(0))}set uncled_entropy(t){Rn.Message.setOneofField(this,13,this.#D[7],t)}get has_uncled_entropy(){return null!=Rn.Message.getField(this,13)}get number(){return Rn.Message.getFieldWithDefault(this,14,[])}set number(t){Rn.Message.setField(this,14,t)}get gas_limit(){return Rn.Message.getFieldWithDefault(this,15,0)}set gas_limit(t){Rn.Message.setOneofField(this,15,this.#D[8],t)}get has_gas_limit(){return null!=Rn.Message.getField(this,15)}get gas_used(){return Rn.Message.getFieldWithDefault(this,16,0)}set gas_used(t){Rn.Message.setOneofField(this,16,this.#D[9],t)}get has_gas_used(){return null!=Rn.Message.getField(this,16)}get base_fee(){return Rn.Message.getFieldWithDefault(this,17,new Uint8Array(0))}set base_fee(t){Rn.Message.setOneofField(this,17,this.#D[10],t)}get has_base_fee(){return null!=Rn.Message.getField(this,17)}get location(){return Rn.Message.getWrapperField(this,Bn.ProtoLocation,18)}set location(t){Rn.Message.setOneofWrapperField(this,18,this.#D[11],t)}get has_location(){return null!=Rn.Message.getField(this,18)}get extra(){return Rn.Message.getFieldWithDefault(this,19,new Uint8Array(0))}set extra(t){Rn.Message.setOneofField(this,19,this.#D[12],t)}get has_extra(){return null!=Rn.Message.getField(this,19)}get mix_hash(){return Rn.Message.getWrapperField(this,Bn.ProtoHash,20)}set mix_hash(t){Rn.Message.setOneofWrapperField(this,20,this.#D[13],t)}get has_mix_hash(){return null!=Rn.Message.getField(this,20)}get nonce(){return Rn.Message.getFieldWithDefault(this,21,0)}set nonce(t){Rn.Message.setOneofField(this,21,this.#D[14],t)}get has_nonce(){return null!=Rn.Message.getField(this,21)}get utxo_root(){return Rn.Message.getWrapperField(this,Bn.ProtoHash,22)}set utxo_root(t){Rn.Message.setOneofWrapperField(this,22,this.#D[15],t)}get has_utxo_root(){return null!=Rn.Message.getField(this,22)}get etx_set_root(){return Rn.Message.getWrapperField(this,Bn.ProtoHash,23)}set etx_set_root(t){Rn.Message.setOneofWrapperField(this,23,this.#D[16],t)}get has_etx_set_root(){return null!=Rn.Message.getField(this,23)}get efficiency_score(){return Rn.Message.getFieldWithDefault(this,24,0)}set efficiency_score(t){Rn.Message.setOneofField(this,24,this.#D[17],t)}get has_efficiency_score(){return null!=Rn.Message.getField(this,24)}get threshold_count(){return Rn.Message.getFieldWithDefault(this,25,0)}set threshold_count(t){Rn.Message.setOneofField(this,25,this.#D[18],t)}get has_threshold_count(){return null!=Rn.Message.getField(this,25)}get expansion_number(){return Rn.Message.getFieldWithDefault(this,26,0)}set expansion_number(t){Rn.Message.setOneofField(this,26,this.#D[19],t)}get has_expansion_number(){return null!=Rn.Message.getField(this,26)}get etx_eligible_slices(){return Rn.Message.getWrapperField(this,Bn.ProtoHash,27)}set etx_eligible_slices(t){Rn.Message.setOneofWrapperField(this,27,this.#D[20],t)}get has_etx_eligible_slices(){return null!=Rn.Message.getField(this,27)}get prime_terminus_hash(){return Rn.Message.getWrapperField(this,Bn.ProtoHash,28)}set prime_terminus_hash(t){Rn.Message.setOneofWrapperField(this,28,this.#D[21],t)}get has_prime_terminus_hash(){return null!=Rn.Message.getField(this,28)}get interlink_root_hash(){return Rn.Message.getWrapperField(this,Bn.ProtoHash,29)}set interlink_root_hash(t){Rn.Message.setOneofWrapperField(this,29,this.#D[22],t)}get has_interlink_root_hash(){return null!=Rn.Message.getField(this,29)}get state_limit(){return Rn.Message.getFieldWithDefault(this,30,0)}set state_limit(t){Rn.Message.setOneofField(this,30,this.#D[23],t)}get has_state_limit(){return null!=Rn.Message.getField(this,30)}get state_used(){return Rn.Message.getFieldWithDefault(this,31,0)}set state_used(t){Rn.Message.setOneofField(this,31,this.#D[24],t)}get has_state_used(){return null!=Rn.Message.getField(this,31)}get quai_state_size(){return Rn.Message.getFieldWithDefault(this,32,new Uint8Array(0))}set quai_state_size(t){Rn.Message.setOneofField(this,32,this.#D[25],t)}get has_quai_state_size(){return null!=Rn.Message.getField(this,32)}get secondary_coinbase(){return Rn.Message.getFieldWithDefault(this,33,new Uint8Array(0))}set secondary_coinbase(t){Rn.Message.setOneofField(this,33,this.#D[26],t)}get has_secondary_coinbase(){return null!=Rn.Message.getField(this,33)}get exchange_rate(){return Rn.Message.getFieldWithDefault(this,34,new Uint8Array(0))}set exchange_rate(t){Rn.Message.setOneofField(this,34,this.#D[27],t)}get has_exchange_rate(){return null!=Rn.Message.getField(this,34)}get quai_to_qi(){return Rn.Message.getFieldWithDefault(this,35,new Uint8Array(0))}set quai_to_qi(t){Rn.Message.setOneofField(this,35,this.#D[28],t)}get has_quai_to_qi(){return null!=Rn.Message.getField(this,35)}get qi_to_quai(){return Rn.Message.getFieldWithDefault(this,36,new Uint8Array(0))}set qi_to_quai(t){Rn.Message.setOneofField(this,36,this.#D[29],t)}get has_qi_to_quai(){return null!=Rn.Message.getField(this,36)}get _uncle_hash(){return{0:"none",2:"uncle_hash"}[Rn.Message.computeOneofCase(this,[2])]}get _evm_root(){return{0:"none",3:"evm_root"}[Rn.Message.computeOneofCase(this,[3])]}get _tx_hash(){return{0:"none",4:"tx_hash"}[Rn.Message.computeOneofCase(this,[4])]}get _outbound_etx_hash(){return{0:"none",5:"outbound_etx_hash"}[Rn.Message.computeOneofCase(this,[5])]}get _etx_rollup_hash(){return{0:"none",6:"etx_rollup_hash"}[Rn.Message.computeOneofCase(this,[6])]}get _receipt_hash(){return{0:"none",8:"receipt_hash"}[Rn.Message.computeOneofCase(this,[8])]}get _difficulty(){return{0:"none",9:"difficulty"}[Rn.Message.computeOneofCase(this,[9])]}get _uncled_entropy(){return{0:"none",13:"uncled_entropy"}[Rn.Message.computeOneofCase(this,[13])]}get _gas_limit(){return{0:"none",15:"gas_limit"}[Rn.Message.computeOneofCase(this,[15])]}get _gas_used(){return{0:"none",16:"gas_used"}[Rn.Message.computeOneofCase(this,[16])]}get _base_fee(){return{0:"none",17:"base_fee"}[Rn.Message.computeOneofCase(this,[17])]}get _location(){return{0:"none",18:"location"}[Rn.Message.computeOneofCase(this,[18])]}get _extra(){return{0:"none",19:"extra"}[Rn.Message.computeOneofCase(this,[19])]}get _mix_hash(){return{0:"none",20:"mix_hash"}[Rn.Message.computeOneofCase(this,[20])]}get _nonce(){return{0:"none",21:"nonce"}[Rn.Message.computeOneofCase(this,[21])]}get _utxo_root(){return{0:"none",22:"utxo_root"}[Rn.Message.computeOneofCase(this,[22])]}get _etx_set_root(){return{0:"none",23:"etx_set_root"}[Rn.Message.computeOneofCase(this,[23])]}get _efficiency_score(){return{0:"none",24:"efficiency_score"}[Rn.Message.computeOneofCase(this,[24])]}get _threshold_count(){return{0:"none",25:"threshold_count"}[Rn.Message.computeOneofCase(this,[25])]}get _expansion_number(){return{0:"none",26:"expansion_number"}[Rn.Message.computeOneofCase(this,[26])]}get _etx_eligible_slices(){return{0:"none",27:"etx_eligible_slices"}[Rn.Message.computeOneofCase(this,[27])]}get _prime_terminus_hash(){return{0:"none",28:"prime_terminus_hash"}[Rn.Message.computeOneofCase(this,[28])]}get _interlink_root_hash(){return{0:"none",29:"interlink_root_hash"}[Rn.Message.computeOneofCase(this,[29])]}get _state_limit(){return{0:"none",30:"state_limit"}[Rn.Message.computeOneofCase(this,[30])]}get _state_used(){return{0:"none",31:"state_used"}[Rn.Message.computeOneofCase(this,[31])]}get _quai_state_size(){return{0:"none",32:"quai_state_size"}[Rn.Message.computeOneofCase(this,[32])]}get _secondary_coinbase(){return{0:"none",33:"secondary_coinbase"}[Rn.Message.computeOneofCase(this,[33])]}get _exchange_rate(){return{0:"none",34:"exchange_rate"}[Rn.Message.computeOneofCase(this,[34])]}get _quai_to_qi(){return{0:"none",35:"quai_to_qi"}[Rn.Message.computeOneofCase(this,[35])]}get _qi_to_quai(){return{0:"none",36:"qi_to_quai"}[Rn.Message.computeOneofCase(this,[36])]}static fromObject(t){const r=new e({});return null!=t.parent_hash&&(r.parent_hash=t.parent_hash.map((t=>Bn.ProtoHash.fromObject(t)))),null!=t.uncle_hash&&(r.uncle_hash=Bn.ProtoHash.fromObject(t.uncle_hash)),null!=t.evm_root&&(r.evm_root=Bn.ProtoHash.fromObject(t.evm_root)),null!=t.tx_hash&&(r.tx_hash=Bn.ProtoHash.fromObject(t.tx_hash)),null!=t.outbound_etx_hash&&(r.outbound_etx_hash=Bn.ProtoHash.fromObject(t.outbound_etx_hash)),null!=t.etx_rollup_hash&&(r.etx_rollup_hash=Bn.ProtoHash.fromObject(t.etx_rollup_hash)),null!=t.manifest_hash&&(r.manifest_hash=t.manifest_hash.map((t=>Bn.ProtoHash.fromObject(t)))),null!=t.receipt_hash&&(r.receipt_hash=Bn.ProtoHash.fromObject(t.receipt_hash)),null!=t.difficulty&&(r.difficulty=t.difficulty),null!=t.parent_entropy&&(r.parent_entropy=t.parent_entropy),null!=t.parent_delta_entropy&&(r.parent_delta_entropy=t.parent_delta_entropy),null!=t.parent_uncled_delta_entropy&&(r.parent_uncled_delta_entropy=t.parent_uncled_delta_entropy),null!=t.uncled_entropy&&(r.uncled_entropy=t.uncled_entropy),null!=t.number&&(r.number=t.number),null!=t.gas_limit&&(r.gas_limit=t.gas_limit),null!=t.gas_used&&(r.gas_used=t.gas_used),null!=t.base_fee&&(r.base_fee=t.base_fee),null!=t.location&&(r.location=Bn.ProtoLocation.fromObject(t.location)),null!=t.extra&&(r.extra=t.extra),null!=t.mix_hash&&(r.mix_hash=Bn.ProtoHash.fromObject(t.mix_hash)),null!=t.nonce&&(r.nonce=t.nonce),null!=t.utxo_root&&(r.utxo_root=Bn.ProtoHash.fromObject(t.utxo_root)),null!=t.etx_set_root&&(r.etx_set_root=Bn.ProtoHash.fromObject(t.etx_set_root)),null!=t.efficiency_score&&(r.efficiency_score=t.efficiency_score),null!=t.threshold_count&&(r.threshold_count=t.threshold_count),null!=t.expansion_number&&(r.expansion_number=t.expansion_number),null!=t.etx_eligible_slices&&(r.etx_eligible_slices=Bn.ProtoHash.fromObject(t.etx_eligible_slices)),null!=t.prime_terminus_hash&&(r.prime_terminus_hash=Bn.ProtoHash.fromObject(t.prime_terminus_hash)),null!=t.interlink_root_hash&&(r.interlink_root_hash=Bn.ProtoHash.fromObject(t.interlink_root_hash)),null!=t.state_limit&&(r.state_limit=t.state_limit),null!=t.state_used&&(r.state_used=t.state_used),null!=t.quai_state_size&&(r.quai_state_size=t.quai_state_size),null!=t.secondary_coinbase&&(r.secondary_coinbase=t.secondary_coinbase),null!=t.exchange_rate&&(r.exchange_rate=t.exchange_rate),null!=t.quai_to_qi&&(r.quai_to_qi=t.quai_to_qi),null!=t.qi_to_quai&&(r.qi_to_quai=t.qi_to_quai),r}toObject(){const t={};return null!=this.parent_hash&&(t.parent_hash=this.parent_hash.map((t=>t.toObject()))),null!=this.uncle_hash&&(t.uncle_hash=this.uncle_hash.toObject()),null!=this.evm_root&&(t.evm_root=this.evm_root.toObject()),null!=this.tx_hash&&(t.tx_hash=this.tx_hash.toObject()),null!=this.outbound_etx_hash&&(t.outbound_etx_hash=this.outbound_etx_hash.toObject()),null!=this.etx_rollup_hash&&(t.etx_rollup_hash=this.etx_rollup_hash.toObject()),null!=this.manifest_hash&&(t.manifest_hash=this.manifest_hash.map((t=>t.toObject()))),null!=this.receipt_hash&&(t.receipt_hash=this.receipt_hash.toObject()),null!=this.difficulty&&(t.difficulty=this.difficulty),null!=this.parent_entropy&&(t.parent_entropy=this.parent_entropy),null!=this.parent_delta_entropy&&(t.parent_delta_entropy=this.parent_delta_entropy),null!=this.parent_uncled_delta_entropy&&(t.parent_uncled_delta_entropy=this.parent_uncled_delta_entropy),null!=this.uncled_entropy&&(t.uncled_entropy=this.uncled_entropy),null!=this.number&&(t.number=this.number),null!=this.gas_limit&&(t.gas_limit=this.gas_limit),null!=this.gas_used&&(t.gas_used=this.gas_used),null!=this.base_fee&&(t.base_fee=this.base_fee),null!=this.location&&(t.location=this.location.toObject()),null!=this.extra&&(t.extra=this.extra),null!=this.mix_hash&&(t.mix_hash=this.mix_hash.toObject()),null!=this.nonce&&(t.nonce=this.nonce),null!=this.utxo_root&&(t.utxo_root=this.utxo_root.toObject()),null!=this.etx_set_root&&(t.etx_set_root=this.etx_set_root.toObject()),null!=this.efficiency_score&&(t.efficiency_score=this.efficiency_score),null!=this.threshold_count&&(t.threshold_count=this.threshold_count),null!=this.expansion_number&&(t.expansion_number=this.expansion_number),null!=this.etx_eligible_slices&&(t.etx_eligible_slices=this.etx_eligible_slices.toObject()),null!=this.prime_terminus_hash&&(t.prime_terminus_hash=this.prime_terminus_hash.toObject()),null!=this.interlink_root_hash&&(t.interlink_root_hash=this.interlink_root_hash.toObject()),null!=this.state_limit&&(t.state_limit=this.state_limit),null!=this.state_used&&(t.state_used=this.state_used),null!=this.quai_state_size&&(t.quai_state_size=this.quai_state_size),null!=this.secondary_coinbase&&(t.secondary_coinbase=this.secondary_coinbase),null!=this.exchange_rate&&(t.exchange_rate=this.exchange_rate),null!=this.quai_to_qi&&(t.quai_to_qi=this.quai_to_qi),null!=this.qi_to_quai&&(t.qi_to_quai=this.qi_to_quai),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.parent_hash.length&&e.writeRepeatedMessage(1,this.parent_hash,(t=>t.serialize(e))),this.has_uncle_hash&&e.writeMessage(2,this.uncle_hash,(()=>this.uncle_hash.serialize(e))),this.has_evm_root&&e.writeMessage(3,this.evm_root,(()=>this.evm_root.serialize(e))),this.has_tx_hash&&e.writeMessage(4,this.tx_hash,(()=>this.tx_hash.serialize(e))),this.has_outbound_etx_hash&&e.writeMessage(5,this.outbound_etx_hash,(()=>this.outbound_etx_hash.serialize(e))),this.has_etx_rollup_hash&&e.writeMessage(6,this.etx_rollup_hash,(()=>this.etx_rollup_hash.serialize(e))),this.manifest_hash.length&&e.writeRepeatedMessage(7,this.manifest_hash,(t=>t.serialize(e))),this.has_receipt_hash&&e.writeMessage(8,this.receipt_hash,(()=>this.receipt_hash.serialize(e))),this.has_difficulty&&e.writeBytes(9,this.difficulty),this.parent_entropy.length&&e.writeRepeatedBytes(10,this.parent_entropy),this.parent_delta_entropy.length&&e.writeRepeatedBytes(11,this.parent_delta_entropy),this.parent_uncled_delta_entropy.length&&e.writeRepeatedBytes(12,this.parent_uncled_delta_entropy),this.has_uncled_entropy&&e.writeBytes(13,this.uncled_entropy),this.number.length&&e.writeRepeatedBytes(14,this.number),this.has_gas_limit&&e.writeUint64(15,this.gas_limit),this.has_gas_used&&e.writeUint64(16,this.gas_used),this.has_base_fee&&e.writeBytes(17,this.base_fee),this.has_location&&e.writeMessage(18,this.location,(()=>this.location.serialize(e))),this.has_extra&&e.writeBytes(19,this.extra),this.has_mix_hash&&e.writeMessage(20,this.mix_hash,(()=>this.mix_hash.serialize(e))),this.has_nonce&&e.writeUint64(21,this.nonce),this.has_utxo_root&&e.writeMessage(22,this.utxo_root,(()=>this.utxo_root.serialize(e))),this.has_etx_set_root&&e.writeMessage(23,this.etx_set_root,(()=>this.etx_set_root.serialize(e))),this.has_efficiency_score&&e.writeUint64(24,this.efficiency_score),this.has_threshold_count&&e.writeUint64(25,this.threshold_count),this.has_expansion_number&&e.writeUint64(26,this.expansion_number),this.has_etx_eligible_slices&&e.writeMessage(27,this.etx_eligible_slices,(()=>this.etx_eligible_slices.serialize(e))),this.has_prime_terminus_hash&&e.writeMessage(28,this.prime_terminus_hash,(()=>this.prime_terminus_hash.serialize(e))),this.has_interlink_root_hash&&e.writeMessage(29,this.interlink_root_hash,(()=>this.interlink_root_hash.serialize(e))),this.has_state_limit&&e.writeUint64(30,this.state_limit),this.has_state_used&&e.writeUint64(31,this.state_used),this.has_quai_state_size&&e.writeBytes(32,this.quai_state_size),this.has_secondary_coinbase&&e.writeBytes(33,this.secondary_coinbase),this.has_exchange_rate&&e.writeBytes(34,this.exchange_rate),this.has_quai_to_qi&&e.writeBytes(35,this.quai_to_qi),this.has_qi_to_quai&&e.writeBytes(36,this.qi_to_quai),!t)return e.getResultBuffer()}static deserialize(t){const r=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),s=new e;for(;r.nextField()&&!r.isEndGroup();)switch(r.getFieldNumber()){case 1:r.readMessage(s.parent_hash,(()=>Rn.Message.addToRepeatedWrapperField(s,1,Bn.ProtoHash.deserialize(r),Bn.ProtoHash)));break;case 2:r.readMessage(s.uncle_hash,(()=>s.uncle_hash=Bn.ProtoHash.deserialize(r)));break;case 3:r.readMessage(s.evm_root,(()=>s.evm_root=Bn.ProtoHash.deserialize(r)));break;case 4:r.readMessage(s.tx_hash,(()=>s.tx_hash=Bn.ProtoHash.deserialize(r)));break;case 5:r.readMessage(s.outbound_etx_hash,(()=>s.outbound_etx_hash=Bn.ProtoHash.deserialize(r)));break;case 6:r.readMessage(s.etx_rollup_hash,(()=>s.etx_rollup_hash=Bn.ProtoHash.deserialize(r)));break;case 7:r.readMessage(s.manifest_hash,(()=>Rn.Message.addToRepeatedWrapperField(s,7,Bn.ProtoHash.deserialize(r),Bn.ProtoHash)));break;case 8:r.readMessage(s.receipt_hash,(()=>s.receipt_hash=Bn.ProtoHash.deserialize(r)));break;case 9:s.difficulty=r.readBytes();break;case 10:Rn.Message.addToRepeatedField(s,10,r.readBytes());break;case 11:Rn.Message.addToRepeatedField(s,11,r.readBytes());break;case 12:Rn.Message.addToRepeatedField(s,12,r.readBytes());break;case 13:s.uncled_entropy=r.readBytes();break;case 14:Rn.Message.addToRepeatedField(s,14,r.readBytes());break;case 15:s.gas_limit=r.readUint64();break;case 16:s.gas_used=r.readUint64();break;case 17:s.base_fee=r.readBytes();break;case 18:r.readMessage(s.location,(()=>s.location=Bn.ProtoLocation.deserialize(r)));break;case 19:s.extra=r.readBytes();break;case 20:r.readMessage(s.mix_hash,(()=>s.mix_hash=Bn.ProtoHash.deserialize(r)));break;case 21:s.nonce=r.readUint64();break;case 22:r.readMessage(s.utxo_root,(()=>s.utxo_root=Bn.ProtoHash.deserialize(r)));break;case 23:r.readMessage(s.etx_set_root,(()=>s.etx_set_root=Bn.ProtoHash.deserialize(r)));break;case 24:s.efficiency_score=r.readUint64();break;case 25:s.threshold_count=r.readUint64();break;case 26:s.expansion_number=r.readUint64();break;case 27:r.readMessage(s.etx_eligible_slices,(()=>s.etx_eligible_slices=Bn.ProtoHash.deserialize(r)));break;case 28:r.readMessage(s.prime_terminus_hash,(()=>s.prime_terminus_hash=Bn.ProtoHash.deserialize(r)));break;case 29:r.readMessage(s.interlink_root_hash,(()=>s.interlink_root_hash=Bn.ProtoHash.deserialize(r)));break;case 30:s.state_limit=r.readUint64();break;case 31:s.state_used=r.readUint64();break;case 32:s.quai_state_size=r.readBytes();break;case 33:s.secondary_coinbase=r.readBytes();break;case 34:s.exchange_rate=r.readBytes();break;case 35:s.quai_to_qi=r.readBytes();break;case 36:s.qi_to_quai=r.readBytes();break;default:r.skipField()}return s}serializeBinary(){return this.serialize()}static deserializeBinary(t){return e.deserialize(t)}}t.ProtoHeader=e;class r extends Rn.Message{#D=[[1],[2],[3],[4],[5],[6],[7],[8],[9],[10],[11],[12],[13],[14],[15],[16],[17],[18],[19],[20],[21],[22],[23]];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[],this.#D),Array.isArray(t)||"object"!=typeof t||("type"in t&&void 0!=t.type&&(this.type=t.type),"to"in t&&void 0!=t.to&&(this.to=t.to),"nonce"in t&&void 0!=t.nonce&&(this.nonce=t.nonce),"value"in t&&void 0!=t.value&&(this.value=t.value),"gas"in t&&void 0!=t.gas&&(this.gas=t.gas),"data"in t&&void 0!=t.data&&(this.data=t.data),"chain_id"in t&&void 0!=t.chain_id&&(this.chain_id=t.chain_id),"miner_tip"in t&&void 0!=t.miner_tip&&(this.miner_tip=t.miner_tip),"gas_price"in t&&void 0!=t.gas_price&&(this.gas_price=t.gas_price),"access_list"in t&&void 0!=t.access_list&&(this.access_list=t.access_list),"v"in t&&void 0!=t.v&&(this.v=t.v),"r"in t&&void 0!=t.r&&(this.r=t.r),"s"in t&&void 0!=t.s&&(this.s=t.s),"originating_tx_hash"in t&&void 0!=t.originating_tx_hash&&(this.originating_tx_hash=t.originating_tx_hash),"etx_index"in t&&void 0!=t.etx_index&&(this.etx_index=t.etx_index),"tx_ins"in t&&void 0!=t.tx_ins&&(this.tx_ins=t.tx_ins),"tx_outs"in t&&void 0!=t.tx_outs&&(this.tx_outs=t.tx_outs),"signature"in t&&void 0!=t.signature&&(this.signature=t.signature),"etx_sender"in t&&void 0!=t.etx_sender&&(this.etx_sender=t.etx_sender),"parent_hash"in t&&void 0!=t.parent_hash&&(this.parent_hash=t.parent_hash),"mix_hash"in t&&void 0!=t.mix_hash&&(this.mix_hash=t.mix_hash),"work_nonce"in t&&void 0!=t.work_nonce&&(this.work_nonce=t.work_nonce),"etx_type"in t&&void 0!=t.etx_type&&(this.etx_type=t.etx_type))}get type(){return Rn.Message.getFieldWithDefault(this,1,0)}set type(t){Rn.Message.setOneofField(this,1,this.#D[0],t)}get has_type(){return null!=Rn.Message.getField(this,1)}get to(){return Rn.Message.getFieldWithDefault(this,2,new Uint8Array(0))}set to(t){Rn.Message.setOneofField(this,2,this.#D[1],t)}get has_to(){return null!=Rn.Message.getField(this,2)}get nonce(){return Rn.Message.getFieldWithDefault(this,3,0)}set nonce(t){Rn.Message.setOneofField(this,3,this.#D[2],t)}get has_nonce(){return null!=Rn.Message.getField(this,3)}get value(){return Rn.Message.getFieldWithDefault(this,4,new Uint8Array(0))}set value(t){Rn.Message.setOneofField(this,4,this.#D[3],t)}get has_value(){return null!=Rn.Message.getField(this,4)}get gas(){return Rn.Message.getFieldWithDefault(this,5,0)}set gas(t){Rn.Message.setOneofField(this,5,this.#D[4],t)}get has_gas(){return null!=Rn.Message.getField(this,5)}get data(){return Rn.Message.getFieldWithDefault(this,6,new Uint8Array(0))}set data(t){Rn.Message.setOneofField(this,6,this.#D[5],t)}get has_data(){return null!=Rn.Message.getField(this,6)}get chain_id(){return Rn.Message.getFieldWithDefault(this,7,new Uint8Array(0))}set chain_id(t){Rn.Message.setOneofField(this,7,this.#D[6],t)}get has_chain_id(){return null!=Rn.Message.getField(this,7)}get miner_tip(){return Rn.Message.getFieldWithDefault(this,8,new Uint8Array(0))}set miner_tip(t){Rn.Message.setOneofField(this,8,this.#D[7],t)}get has_miner_tip(){return null!=Rn.Message.getField(this,8)}get gas_price(){return Rn.Message.getFieldWithDefault(this,9,new Uint8Array(0))}set gas_price(t){Rn.Message.setOneofField(this,9,this.#D[8],t)}get has_gas_price(){return null!=Rn.Message.getField(this,9)}get access_list(){return Rn.Message.getWrapperField(this,o,10)}set access_list(t){Rn.Message.setOneofWrapperField(this,10,this.#D[9],t)}get has_access_list(){return null!=Rn.Message.getField(this,10)}get v(){return Rn.Message.getFieldWithDefault(this,11,new Uint8Array(0))}set v(t){Rn.Message.setOneofField(this,11,this.#D[10],t)}get has_v(){return null!=Rn.Message.getField(this,11)}get r(){return Rn.Message.getFieldWithDefault(this,12,new Uint8Array(0))}set r(t){Rn.Message.setOneofField(this,12,this.#D[11],t)}get has_r(){return null!=Rn.Message.getField(this,12)}get s(){return Rn.Message.getFieldWithDefault(this,13,new Uint8Array(0))}set s(t){Rn.Message.setOneofField(this,13,this.#D[12],t)}get has_s(){return null!=Rn.Message.getField(this,13)}get originating_tx_hash(){return Rn.Message.getWrapperField(this,Bn.ProtoHash,14)}set originating_tx_hash(t){Rn.Message.setOneofWrapperField(this,14,this.#D[13],t)}get has_originating_tx_hash(){return null!=Rn.Message.getField(this,14)}get etx_index(){return Rn.Message.getFieldWithDefault(this,15,0)}set etx_index(t){Rn.Message.setOneofField(this,15,this.#D[14],t)}get has_etx_index(){return null!=Rn.Message.getField(this,15)}get tx_ins(){return Rn.Message.getWrapperField(this,M,16)}set tx_ins(t){Rn.Message.setOneofWrapperField(this,16,this.#D[15],t)}get has_tx_ins(){return null!=Rn.Message.getField(this,16)}get tx_outs(){return Rn.Message.getWrapperField(this,A,17)}set tx_outs(t){Rn.Message.setOneofWrapperField(this,17,this.#D[16],t)}get has_tx_outs(){return null!=Rn.Message.getField(this,17)}get signature(){return Rn.Message.getFieldWithDefault(this,18,new Uint8Array(0))}set signature(t){Rn.Message.setOneofField(this,18,this.#D[17],t)}get has_signature(){return null!=Rn.Message.getField(this,18)}get etx_sender(){return Rn.Message.getFieldWithDefault(this,19,new Uint8Array(0))}set etx_sender(t){Rn.Message.setOneofField(this,19,this.#D[18],t)}get has_etx_sender(){return null!=Rn.Message.getField(this,19)}get parent_hash(){return Rn.Message.getWrapperField(this,Bn.ProtoHash,20)}set parent_hash(t){Rn.Message.setOneofWrapperField(this,20,this.#D[19],t)}get has_parent_hash(){return null!=Rn.Message.getField(this,20)}get mix_hash(){return Rn.Message.getWrapperField(this,Bn.ProtoHash,21)}set mix_hash(t){Rn.Message.setOneofWrapperField(this,21,this.#D[20],t)}get has_mix_hash(){return null!=Rn.Message.getField(this,21)}get work_nonce(){return Rn.Message.getFieldWithDefault(this,22,0)}set work_nonce(t){Rn.Message.setOneofField(this,22,this.#D[21],t)}get has_work_nonce(){return null!=Rn.Message.getField(this,22)}get etx_type(){return Rn.Message.getFieldWithDefault(this,23,0)}set etx_type(t){Rn.Message.setOneofField(this,23,this.#D[22],t)}get has_etx_type(){return null!=Rn.Message.getField(this,23)}get _type(){return{0:"none",1:"type"}[Rn.Message.computeOneofCase(this,[1])]}get _to(){return{0:"none",2:"to"}[Rn.Message.computeOneofCase(this,[2])]}get _nonce(){return{0:"none",3:"nonce"}[Rn.Message.computeOneofCase(this,[3])]}get _value(){return{0:"none",4:"value"}[Rn.Message.computeOneofCase(this,[4])]}get _gas(){return{0:"none",5:"gas"}[Rn.Message.computeOneofCase(this,[5])]}get _data(){return{0:"none",6:"data"}[Rn.Message.computeOneofCase(this,[6])]}get _chain_id(){return{0:"none",7:"chain_id"}[Rn.Message.computeOneofCase(this,[7])]}get _miner_tip(){return{0:"none",8:"miner_tip"}[Rn.Message.computeOneofCase(this,[8])]}get _gas_price(){return{0:"none",9:"gas_price"}[Rn.Message.computeOneofCase(this,[9])]}get _access_list(){return{0:"none",10:"access_list"}[Rn.Message.computeOneofCase(this,[10])]}get _v(){return{0:"none",11:"v"}[Rn.Message.computeOneofCase(this,[11])]}get _r(){return{0:"none",12:"r"}[Rn.Message.computeOneofCase(this,[12])]}get _s(){return{0:"none",13:"s"}[Rn.Message.computeOneofCase(this,[13])]}get _originating_tx_hash(){return{0:"none",14:"originating_tx_hash"}[Rn.Message.computeOneofCase(this,[14])]}get _etx_index(){return{0:"none",15:"etx_index"}[Rn.Message.computeOneofCase(this,[15])]}get _tx_ins(){return{0:"none",16:"tx_ins"}[Rn.Message.computeOneofCase(this,[16])]}get _tx_outs(){return{0:"none",17:"tx_outs"}[Rn.Message.computeOneofCase(this,[17])]}get _signature(){return{0:"none",18:"signature"}[Rn.Message.computeOneofCase(this,[18])]}get _etx_sender(){return{0:"none",19:"etx_sender"}[Rn.Message.computeOneofCase(this,[19])]}get _parent_hash(){return{0:"none",20:"parent_hash"}[Rn.Message.computeOneofCase(this,[20])]}get _mix_hash(){return{0:"none",21:"mix_hash"}[Rn.Message.computeOneofCase(this,[21])]}get _work_nonce(){return{0:"none",22:"work_nonce"}[Rn.Message.computeOneofCase(this,[22])]}get _etx_type(){return{0:"none",23:"etx_type"}[Rn.Message.computeOneofCase(this,[23])]}static fromObject(t){const e=new r({});return null!=t.type&&(e.type=t.type),null!=t.to&&(e.to=t.to),null!=t.nonce&&(e.nonce=t.nonce),null!=t.value&&(e.value=t.value),null!=t.gas&&(e.gas=t.gas),null!=t.data&&(e.data=t.data),null!=t.chain_id&&(e.chain_id=t.chain_id),null!=t.miner_tip&&(e.miner_tip=t.miner_tip),null!=t.gas_price&&(e.gas_price=t.gas_price),null!=t.access_list&&(e.access_list=o.fromObject(t.access_list)),null!=t.v&&(e.v=t.v),null!=t.r&&(e.r=t.r),null!=t.s&&(e.s=t.s),null!=t.originating_tx_hash&&(e.originating_tx_hash=Bn.ProtoHash.fromObject(t.originating_tx_hash)),null!=t.etx_index&&(e.etx_index=t.etx_index),null!=t.tx_ins&&(e.tx_ins=M.fromObject(t.tx_ins)),null!=t.tx_outs&&(e.tx_outs=A.fromObject(t.tx_outs)),null!=t.signature&&(e.signature=t.signature),null!=t.etx_sender&&(e.etx_sender=t.etx_sender),null!=t.parent_hash&&(e.parent_hash=Bn.ProtoHash.fromObject(t.parent_hash)),null!=t.mix_hash&&(e.mix_hash=Bn.ProtoHash.fromObject(t.mix_hash)),null!=t.work_nonce&&(e.work_nonce=t.work_nonce),null!=t.etx_type&&(e.etx_type=t.etx_type),e}toObject(){const t={};return null!=this.type&&(t.type=this.type),null!=this.to&&(t.to=this.to),null!=this.nonce&&(t.nonce=this.nonce),null!=this.value&&(t.value=this.value),null!=this.gas&&(t.gas=this.gas),null!=this.data&&(t.data=this.data),null!=this.chain_id&&(t.chain_id=this.chain_id),null!=this.miner_tip&&(t.miner_tip=this.miner_tip),null!=this.gas_price&&(t.gas_price=this.gas_price),null!=this.access_list&&(t.access_list=this.access_list.toObject()),null!=this.v&&(t.v=this.v),null!=this.r&&(t.r=this.r),null!=this.s&&(t.s=this.s),null!=this.originating_tx_hash&&(t.originating_tx_hash=this.originating_tx_hash.toObject()),null!=this.etx_index&&(t.etx_index=this.etx_index),null!=this.tx_ins&&(t.tx_ins=this.tx_ins.toObject()),null!=this.tx_outs&&(t.tx_outs=this.tx_outs.toObject()),null!=this.signature&&(t.signature=this.signature),null!=this.etx_sender&&(t.etx_sender=this.etx_sender),null!=this.parent_hash&&(t.parent_hash=this.parent_hash.toObject()),null!=this.mix_hash&&(t.mix_hash=this.mix_hash.toObject()),null!=this.work_nonce&&(t.work_nonce=this.work_nonce),null!=this.etx_type&&(t.etx_type=this.etx_type),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.has_type&&e.writeUint64(1,this.type),this.has_to&&e.writeBytes(2,this.to),this.has_nonce&&e.writeUint64(3,this.nonce),this.has_value&&e.writeBytes(4,this.value),this.has_gas&&e.writeUint64(5,this.gas),this.has_data&&e.writeBytes(6,this.data),this.has_chain_id&&e.writeBytes(7,this.chain_id),this.has_miner_tip&&e.writeBytes(8,this.miner_tip),this.has_gas_price&&e.writeBytes(9,this.gas_price),this.has_access_list&&e.writeMessage(10,this.access_list,(()=>this.access_list.serialize(e))),this.has_v&&e.writeBytes(11,this.v),this.has_r&&e.writeBytes(12,this.r),this.has_s&&e.writeBytes(13,this.s),this.has_originating_tx_hash&&e.writeMessage(14,this.originating_tx_hash,(()=>this.originating_tx_hash.serialize(e))),this.has_etx_index&&e.writeUint32(15,this.etx_index),this.has_tx_ins&&e.writeMessage(16,this.tx_ins,(()=>this.tx_ins.serialize(e))),this.has_tx_outs&&e.writeMessage(17,this.tx_outs,(()=>this.tx_outs.serialize(e))),this.has_signature&&e.writeBytes(18,this.signature),this.has_etx_sender&&e.writeBytes(19,this.etx_sender),this.has_parent_hash&&e.writeMessage(20,this.parent_hash,(()=>this.parent_hash.serialize(e))),this.has_mix_hash&&e.writeMessage(21,this.mix_hash,(()=>this.mix_hash.serialize(e))),this.has_work_nonce&&e.writeUint64(22,this.work_nonce),this.has_etx_type&&e.writeUint64(23,this.etx_type),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),s=new r;for(;e.nextField()&&!e.isEndGroup();)switch(e.getFieldNumber()){case 1:s.type=e.readUint64();break;case 2:s.to=e.readBytes();break;case 3:s.nonce=e.readUint64();break;case 4:s.value=e.readBytes();break;case 5:s.gas=e.readUint64();break;case 6:s.data=e.readBytes();break;case 7:s.chain_id=e.readBytes();break;case 8:s.miner_tip=e.readBytes();break;case 9:s.gas_price=e.readBytes();break;case 10:e.readMessage(s.access_list,(()=>s.access_list=o.deserialize(e)));break;case 11:s.v=e.readBytes();break;case 12:s.r=e.readBytes();break;case 13:s.s=e.readBytes();break;case 14:e.readMessage(s.originating_tx_hash,(()=>s.originating_tx_hash=Bn.ProtoHash.deserialize(e)));break;case 15:s.etx_index=e.readUint32();break;case 16:e.readMessage(s.tx_ins,(()=>s.tx_ins=M.deserialize(e)));break;case 17:e.readMessage(s.tx_outs,(()=>s.tx_outs=A.deserialize(e)));break;case 18:s.signature=e.readBytes();break;case 19:s.etx_sender=e.readBytes();break;case 20:e.readMessage(s.parent_hash,(()=>s.parent_hash=Bn.ProtoHash.deserialize(e)));break;case 21:e.readMessage(s.mix_hash,(()=>s.mix_hash=Bn.ProtoHash.deserialize(e)));break;case 22:s.work_nonce=e.readUint64();break;case 23:s.etx_type=e.readUint64();break;default:e.skipField()}return s}serializeBinary(){return this.serialize()}static deserializeBinary(t){return r.deserialize(t)}}t.ProtoTransaction=r;class s extends Rn.Message{#D=[];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[1],this.#D),Array.isArray(t)||"object"!=typeof t||"transactions"in t&&void 0!=t.transactions&&(this.transactions=t.transactions)}get transactions(){return Rn.Message.getRepeatedWrapperField(this,r,1)}set transactions(t){Rn.Message.setRepeatedWrapperField(this,1,t)}static fromObject(t){const e=new s({});return null!=t.transactions&&(e.transactions=t.transactions.map((t=>r.fromObject(t)))),e}toObject(){const t={};return null!=this.transactions&&(t.transactions=this.transactions.map((t=>t.toObject()))),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.transactions.length&&e.writeRepeatedMessage(1,this.transactions,(t=>t.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),n=new s;for(;e.nextField()&&!e.isEndGroup();)if(1===e.getFieldNumber())e.readMessage(n.transactions,(()=>Rn.Message.addToRepeatedWrapperField(n,1,r.deserialize(e),r)));else e.skipField();return n}serializeBinary(){return this.serialize()}static deserializeBinary(t){return s.deserialize(t)}}t.ProtoTransactions=s;class n extends Rn.Message{#D=[];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[1],this.#D),Array.isArray(t)||"object"!=typeof t||"headers"in t&&void 0!=t.headers&&(this.headers=t.headers)}get headers(){return Rn.Message.getRepeatedWrapperField(this,e,1)}set headers(t){Rn.Message.setRepeatedWrapperField(this,1,t)}static fromObject(t){const r=new n({});return null!=t.headers&&(r.headers=t.headers.map((t=>e.fromObject(t)))),r}toObject(){const t={};return null!=this.headers&&(t.headers=this.headers.map((t=>t.toObject()))),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.headers.length&&e.writeRepeatedMessage(1,this.headers,(t=>t.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const r=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),s=new n;for(;r.nextField()&&!r.isEndGroup();)if(1===r.getFieldNumber())r.readMessage(s.headers,(()=>Rn.Message.addToRepeatedWrapperField(s,1,e.deserialize(r),e)));else r.skipField();return s}serializeBinary(){return this.serialize()}static deserializeBinary(t){return n.deserialize(t)}}t.ProtoHeaders=n;class i extends Rn.Message{#D=[];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[1],this.#D),Array.isArray(t)||"object"!=typeof t||"manifest"in t&&void 0!=t.manifest&&(this.manifest=t.manifest)}get manifest(){return Rn.Message.getRepeatedWrapperField(this,Bn.ProtoHash,1)}set manifest(t){Rn.Message.setRepeatedWrapperField(this,1,t)}static fromObject(t){const e=new i({});return null!=t.manifest&&(e.manifest=t.manifest.map((t=>Bn.ProtoHash.fromObject(t)))),e}toObject(){const t={};return null!=this.manifest&&(t.manifest=this.manifest.map((t=>t.toObject()))),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.manifest.length&&e.writeRepeatedMessage(1,this.manifest,(t=>t.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new i;for(;e.nextField()&&!e.isEndGroup();)if(1===e.getFieldNumber())e.readMessage(r.manifest,(()=>Rn.Message.addToRepeatedWrapperField(r,1,Bn.ProtoHash.deserialize(e),Bn.ProtoHash)));else e.skipField();return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return i.deserialize(t)}}t.ProtoManifest=i;class o extends Rn.Message{#D=[];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[1],this.#D),Array.isArray(t)||"object"!=typeof t||"access_tuples"in t&&void 0!=t.access_tuples&&(this.access_tuples=t.access_tuples)}get access_tuples(){return Rn.Message.getRepeatedWrapperField(this,y,1)}set access_tuples(t){Rn.Message.setRepeatedWrapperField(this,1,t)}static fromObject(t){const e=new o({});return null!=t.access_tuples&&(e.access_tuples=t.access_tuples.map((t=>y.fromObject(t)))),e}toObject(){const t={};return null!=this.access_tuples&&(t.access_tuples=this.access_tuples.map((t=>t.toObject()))),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.access_tuples.length&&e.writeRepeatedMessage(1,this.access_tuples,(t=>t.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new o;for(;e.nextField()&&!e.isEndGroup();)if(1===e.getFieldNumber())e.readMessage(r.access_tuples,(()=>Rn.Message.addToRepeatedWrapperField(r,1,y.deserialize(e),y)));else e.skipField();return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return o.deserialize(t)}}t.ProtoAccessList=o;class a extends Rn.Message{#D=[[1],[2],[3],[4],[5],[6],[7],[8],[9],[10],[11],[12]];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[],this.#D),Array.isArray(t)||"object"!=typeof t||("header_hash"in t&&void 0!=t.header_hash&&(this.header_hash=t.header_hash),"parent_hash"in t&&void 0!=t.parent_hash&&(this.parent_hash=t.parent_hash),"number"in t&&void 0!=t.number&&(this.number=t.number),"difficulty"in t&&void 0!=t.difficulty&&(this.difficulty=t.difficulty),"tx_hash"in t&&void 0!=t.tx_hash&&(this.tx_hash=t.tx_hash),"nonce"in t&&void 0!=t.nonce&&(this.nonce=t.nonce),"location"in t&&void 0!=t.location&&(this.location=t.location),"mix_hash"in t&&void 0!=t.mix_hash&&(this.mix_hash=t.mix_hash),"time"in t&&void 0!=t.time&&(this.time=t.time),"prime_terminus_number"in t&&void 0!=t.prime_terminus_number&&(this.prime_terminus_number=t.prime_terminus_number),"lock"in t&&void 0!=t.lock&&(this.lock=t.lock),"primary_coinbase"in t&&void 0!=t.primary_coinbase&&(this.primary_coinbase=t.primary_coinbase))}get header_hash(){return Rn.Message.getWrapperField(this,Bn.ProtoHash,1)}set header_hash(t){Rn.Message.setOneofWrapperField(this,1,this.#D[0],t)}get has_header_hash(){return null!=Rn.Message.getField(this,1)}get parent_hash(){return Rn.Message.getWrapperField(this,Bn.ProtoHash,2)}set parent_hash(t){Rn.Message.setOneofWrapperField(this,2,this.#D[1],t)}get has_parent_hash(){return null!=Rn.Message.getField(this,2)}get number(){return Rn.Message.getFieldWithDefault(this,3,new Uint8Array(0))}set number(t){Rn.Message.setOneofField(this,3,this.#D[2],t)}get has_number(){return null!=Rn.Message.getField(this,3)}get difficulty(){return Rn.Message.getFieldWithDefault(this,4,new Uint8Array(0))}set difficulty(t){Rn.Message.setOneofField(this,4,this.#D[3],t)}get has_difficulty(){return null!=Rn.Message.getField(this,4)}get tx_hash(){return Rn.Message.getWrapperField(this,Bn.ProtoHash,5)}set tx_hash(t){Rn.Message.setOneofWrapperField(this,5,this.#D[4],t)}get has_tx_hash(){return null!=Rn.Message.getField(this,5)}get nonce(){return Rn.Message.getFieldWithDefault(this,6,0)}set nonce(t){Rn.Message.setOneofField(this,6,this.#D[5],t)}get has_nonce(){return null!=Rn.Message.getField(this,6)}get location(){return Rn.Message.getWrapperField(this,Bn.ProtoLocation,7)}set location(t){Rn.Message.setOneofWrapperField(this,7,this.#D[6],t)}get has_location(){return null!=Rn.Message.getField(this,7)}get mix_hash(){return Rn.Message.getWrapperField(this,Bn.ProtoHash,8)}set mix_hash(t){Rn.Message.setOneofWrapperField(this,8,this.#D[7],t)}get has_mix_hash(){return null!=Rn.Message.getField(this,8)}get time(){return Rn.Message.getFieldWithDefault(this,9,0)}set time(t){Rn.Message.setOneofField(this,9,this.#D[8],t)}get has_time(){return null!=Rn.Message.getField(this,9)}get prime_terminus_number(){return Rn.Message.getFieldWithDefault(this,10,new Uint8Array(0))}set prime_terminus_number(t){Rn.Message.setOneofField(this,10,this.#D[9],t)}get has_prime_terminus_number(){return null!=Rn.Message.getField(this,10)}get lock(){return Rn.Message.getFieldWithDefault(this,11,0)}set lock(t){Rn.Message.setOneofField(this,11,this.#D[10],t)}get has_lock(){return null!=Rn.Message.getField(this,11)}get primary_coinbase(){return Rn.Message.getWrapperField(this,Bn.ProtoAddress,12)}set primary_coinbase(t){Rn.Message.setOneofWrapperField(this,12,this.#D[11],t)}get has_primary_coinbase(){return null!=Rn.Message.getField(this,12)}get _header_hash(){return{0:"none",1:"header_hash"}[Rn.Message.computeOneofCase(this,[1])]}get _parent_hash(){return{0:"none",2:"parent_hash"}[Rn.Message.computeOneofCase(this,[2])]}get _number(){return{0:"none",3:"number"}[Rn.Message.computeOneofCase(this,[3])]}get _difficulty(){return{0:"none",4:"difficulty"}[Rn.Message.computeOneofCase(this,[4])]}get _tx_hash(){return{0:"none",5:"tx_hash"}[Rn.Message.computeOneofCase(this,[5])]}get _nonce(){return{0:"none",6:"nonce"}[Rn.Message.computeOneofCase(this,[6])]}get _location(){return{0:"none",7:"location"}[Rn.Message.computeOneofCase(this,[7])]}get _mix_hash(){return{0:"none",8:"mix_hash"}[Rn.Message.computeOneofCase(this,[8])]}get _time(){return{0:"none",9:"time"}[Rn.Message.computeOneofCase(this,[9])]}get _prime_terminus_number(){return{0:"none",10:"prime_terminus_number"}[Rn.Message.computeOneofCase(this,[10])]}get _lock(){return{0:"none",11:"lock"}[Rn.Message.computeOneofCase(this,[11])]}get _primary_coinbase(){return{0:"none",12:"primary_coinbase"}[Rn.Message.computeOneofCase(this,[12])]}static fromObject(t){const e=new a({});return null!=t.header_hash&&(e.header_hash=Bn.ProtoHash.fromObject(t.header_hash)),null!=t.parent_hash&&(e.parent_hash=Bn.ProtoHash.fromObject(t.parent_hash)),null!=t.number&&(e.number=t.number),null!=t.difficulty&&(e.difficulty=t.difficulty),null!=t.tx_hash&&(e.tx_hash=Bn.ProtoHash.fromObject(t.tx_hash)),null!=t.nonce&&(e.nonce=t.nonce),null!=t.location&&(e.location=Bn.ProtoLocation.fromObject(t.location)),null!=t.mix_hash&&(e.mix_hash=Bn.ProtoHash.fromObject(t.mix_hash)),null!=t.time&&(e.time=t.time),null!=t.prime_terminus_number&&(e.prime_terminus_number=t.prime_terminus_number),null!=t.lock&&(e.lock=t.lock),null!=t.primary_coinbase&&(e.primary_coinbase=Bn.ProtoAddress.fromObject(t.primary_coinbase)),e}toObject(){const t={};return null!=this.header_hash&&(t.header_hash=this.header_hash.toObject()),null!=this.parent_hash&&(t.parent_hash=this.parent_hash.toObject()),null!=this.number&&(t.number=this.number),null!=this.difficulty&&(t.difficulty=this.difficulty),null!=this.tx_hash&&(t.tx_hash=this.tx_hash.toObject()),null!=this.nonce&&(t.nonce=this.nonce),null!=this.location&&(t.location=this.location.toObject()),null!=this.mix_hash&&(t.mix_hash=this.mix_hash.toObject()),null!=this.time&&(t.time=this.time),null!=this.prime_terminus_number&&(t.prime_terminus_number=this.prime_terminus_number),null!=this.lock&&(t.lock=this.lock),null!=this.primary_coinbase&&(t.primary_coinbase=this.primary_coinbase.toObject()),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.has_header_hash&&e.writeMessage(1,this.header_hash,(()=>this.header_hash.serialize(e))),this.has_parent_hash&&e.writeMessage(2,this.parent_hash,(()=>this.parent_hash.serialize(e))),this.has_number&&e.writeBytes(3,this.number),this.has_difficulty&&e.writeBytes(4,this.difficulty),this.has_tx_hash&&e.writeMessage(5,this.tx_hash,(()=>this.tx_hash.serialize(e))),this.has_nonce&&e.writeUint64(6,this.nonce),this.has_location&&e.writeMessage(7,this.location,(()=>this.location.serialize(e))),this.has_mix_hash&&e.writeMessage(8,this.mix_hash,(()=>this.mix_hash.serialize(e))),this.has_time&&e.writeUint64(9,this.time),this.has_prime_terminus_number&&e.writeBytes(10,this.prime_terminus_number),this.has_lock&&e.writeUint32(11,this.lock),this.has_primary_coinbase&&e.writeMessage(12,this.primary_coinbase,(()=>this.primary_coinbase.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new a;for(;e.nextField()&&!e.isEndGroup();)switch(e.getFieldNumber()){case 1:e.readMessage(r.header_hash,(()=>r.header_hash=Bn.ProtoHash.deserialize(e)));break;case 2:e.readMessage(r.parent_hash,(()=>r.parent_hash=Bn.ProtoHash.deserialize(e)));break;case 3:r.number=e.readBytes();break;case 4:r.difficulty=e.readBytes();break;case 5:e.readMessage(r.tx_hash,(()=>r.tx_hash=Bn.ProtoHash.deserialize(e)));break;case 6:r.nonce=e.readUint64();break;case 7:e.readMessage(r.location,(()=>r.location=Bn.ProtoLocation.deserialize(e)));break;case 8:e.readMessage(r.mix_hash,(()=>r.mix_hash=Bn.ProtoHash.deserialize(e)));break;case 9:r.time=e.readUint64();break;case 10:r.prime_terminus_number=e.readBytes();break;case 11:r.lock=e.readUint32();break;case 12:e.readMessage(r.primary_coinbase,(()=>r.primary_coinbase=Bn.ProtoAddress.deserialize(e)));break;default:e.skipField()}return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return a.deserialize(t)}}t.ProtoWorkObjectHeader=a;class u extends Rn.Message{#D=[];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[1],this.#D),Array.isArray(t)||"object"!=typeof t||"wo_headers"in t&&void 0!=t.wo_headers&&(this.wo_headers=t.wo_headers)}get wo_headers(){return Rn.Message.getRepeatedWrapperField(this,a,1)}set wo_headers(t){Rn.Message.setRepeatedWrapperField(this,1,t)}static fromObject(t){const e=new u({});return null!=t.wo_headers&&(e.wo_headers=t.wo_headers.map((t=>a.fromObject(t)))),e}toObject(){const t={};return null!=this.wo_headers&&(t.wo_headers=this.wo_headers.map((t=>t.toObject()))),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.wo_headers.length&&e.writeRepeatedMessage(1,this.wo_headers,(t=>t.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new u;for(;e.nextField()&&!e.isEndGroup();)if(1===e.getFieldNumber())e.readMessage(r.wo_headers,(()=>Rn.Message.addToRepeatedWrapperField(r,1,a.deserialize(e),a)));else e.skipField();return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return u.deserialize(t)}}t.ProtoWorkObjectHeaders=u;class h extends Rn.Message{#D=[[1],[2],[3],[4],[5],[6]];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[],this.#D),Array.isArray(t)||"object"!=typeof t||("header"in t&&void 0!=t.header&&(this.header=t.header),"transactions"in t&&void 0!=t.transactions&&(this.transactions=t.transactions),"uncles"in t&&void 0!=t.uncles&&(this.uncles=t.uncles),"outbound_etxs"in t&&void 0!=t.outbound_etxs&&(this.outbound_etxs=t.outbound_etxs),"manifest"in t&&void 0!=t.manifest&&(this.manifest=t.manifest),"interlink_hashes"in t&&void 0!=t.interlink_hashes&&(this.interlink_hashes=t.interlink_hashes))}get header(){return Rn.Message.getWrapperField(this,e,1)}set header(t){Rn.Message.setOneofWrapperField(this,1,this.#D[0],t)}get has_header(){return null!=Rn.Message.getField(this,1)}get transactions(){return Rn.Message.getWrapperField(this,s,2)}set transactions(t){Rn.Message.setOneofWrapperField(this,2,this.#D[1],t)}get has_transactions(){return null!=Rn.Message.getField(this,2)}get uncles(){return Rn.Message.getWrapperField(this,u,3)}set uncles(t){Rn.Message.setOneofWrapperField(this,3,this.#D[2],t)}get has_uncles(){return null!=Rn.Message.getField(this,3)}get outbound_etxs(){return Rn.Message.getWrapperField(this,s,4)}set outbound_etxs(t){Rn.Message.setOneofWrapperField(this,4,this.#D[3],t)}get has_outbound_etxs(){return null!=Rn.Message.getField(this,4)}get manifest(){return Rn.Message.getWrapperField(this,i,5)}set manifest(t){Rn.Message.setOneofWrapperField(this,5,this.#D[4],t)}get has_manifest(){return null!=Rn.Message.getField(this,5)}get interlink_hashes(){return Rn.Message.getWrapperField(this,Bn.ProtoHashes,6)}set interlink_hashes(t){Rn.Message.setOneofWrapperField(this,6,this.#D[5],t)}get has_interlink_hashes(){return null!=Rn.Message.getField(this,6)}get _header(){return{0:"none",1:"header"}[Rn.Message.computeOneofCase(this,[1])]}get _transactions(){return{0:"none",2:"transactions"}[Rn.Message.computeOneofCase(this,[2])]}get _uncles(){return{0:"none",3:"uncles"}[Rn.Message.computeOneofCase(this,[3])]}get _outbound_etxs(){return{0:"none",4:"outbound_etxs"}[Rn.Message.computeOneofCase(this,[4])]}get _manifest(){return{0:"none",5:"manifest"}[Rn.Message.computeOneofCase(this,[5])]}get _interlink_hashes(){return{0:"none",6:"interlink_hashes"}[Rn.Message.computeOneofCase(this,[6])]}static fromObject(t){const r=new h({});return null!=t.header&&(r.header=e.fromObject(t.header)),null!=t.transactions&&(r.transactions=s.fromObject(t.transactions)),null!=t.uncles&&(r.uncles=u.fromObject(t.uncles)),null!=t.outbound_etxs&&(r.outbound_etxs=s.fromObject(t.outbound_etxs)),null!=t.manifest&&(r.manifest=i.fromObject(t.manifest)),null!=t.interlink_hashes&&(r.interlink_hashes=Bn.ProtoHashes.fromObject(t.interlink_hashes)),r}toObject(){const t={};return null!=this.header&&(t.header=this.header.toObject()),null!=this.transactions&&(t.transactions=this.transactions.toObject()),null!=this.uncles&&(t.uncles=this.uncles.toObject()),null!=this.outbound_etxs&&(t.outbound_etxs=this.outbound_etxs.toObject()),null!=this.manifest&&(t.manifest=this.manifest.toObject()),null!=this.interlink_hashes&&(t.interlink_hashes=this.interlink_hashes.toObject()),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.has_header&&e.writeMessage(1,this.header,(()=>this.header.serialize(e))),this.has_transactions&&e.writeMessage(2,this.transactions,(()=>this.transactions.serialize(e))),this.has_uncles&&e.writeMessage(3,this.uncles,(()=>this.uncles.serialize(e))),this.has_outbound_etxs&&e.writeMessage(4,this.outbound_etxs,(()=>this.outbound_etxs.serialize(e))),this.has_manifest&&e.writeMessage(5,this.manifest,(()=>this.manifest.serialize(e))),this.has_interlink_hashes&&e.writeMessage(6,this.interlink_hashes,(()=>this.interlink_hashes.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const r=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),n=new h;for(;r.nextField()&&!r.isEndGroup();)switch(r.getFieldNumber()){case 1:r.readMessage(n.header,(()=>n.header=e.deserialize(r)));break;case 2:r.readMessage(n.transactions,(()=>n.transactions=s.deserialize(r)));break;case 3:r.readMessage(n.uncles,(()=>n.uncles=u.deserialize(r)));break;case 4:r.readMessage(n.outbound_etxs,(()=>n.outbound_etxs=s.deserialize(r)));break;case 5:r.readMessage(n.manifest,(()=>n.manifest=i.deserialize(r)));break;case 6:r.readMessage(n.interlink_hashes,(()=>n.interlink_hashes=Bn.ProtoHashes.deserialize(r)));break;default:r.skipField()}return n}serializeBinary(){return this.serialize()}static deserializeBinary(t){return h.deserialize(t)}}t.ProtoWorkObjectBody=h;class l extends Rn.Message{#D=[[1],[2],[3]];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[],this.#D),Array.isArray(t)||"object"!=typeof t||("wo_header"in t&&void 0!=t.wo_header&&(this.wo_header=t.wo_header),"wo_body"in t&&void 0!=t.wo_body&&(this.wo_body=t.wo_body),"tx"in t&&void 0!=t.tx&&(this.tx=t.tx))}get wo_header(){return Rn.Message.getWrapperField(this,a,1)}set wo_header(t){Rn.Message.setOneofWrapperField(this,1,this.#D[0],t)}get has_wo_header(){return null!=Rn.Message.getField(this,1)}get wo_body(){return Rn.Message.getWrapperField(this,h,2)}set wo_body(t){Rn.Message.setOneofWrapperField(this,2,this.#D[1],t)}get has_wo_body(){return null!=Rn.Message.getField(this,2)}get tx(){return Rn.Message.getWrapperField(this,r,3)}set tx(t){Rn.Message.setOneofWrapperField(this,3,this.#D[2],t)}get has_tx(){return null!=Rn.Message.getField(this,3)}get _wo_header(){return{0:"none",1:"wo_header"}[Rn.Message.computeOneofCase(this,[1])]}get _wo_body(){return{0:"none",2:"wo_body"}[Rn.Message.computeOneofCase(this,[2])]}get _tx(){return{0:"none",3:"tx"}[Rn.Message.computeOneofCase(this,[3])]}static fromObject(t){const e=new l({});return null!=t.wo_header&&(e.wo_header=a.fromObject(t.wo_header)),null!=t.wo_body&&(e.wo_body=h.fromObject(t.wo_body)),null!=t.tx&&(e.tx=r.fromObject(t.tx)),e}toObject(){const t={};return null!=this.wo_header&&(t.wo_header=this.wo_header.toObject()),null!=this.wo_body&&(t.wo_body=this.wo_body.toObject()),null!=this.tx&&(t.tx=this.tx.toObject()),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.has_wo_header&&e.writeMessage(1,this.wo_header,(()=>this.wo_header.serialize(e))),this.has_wo_body&&e.writeMessage(2,this.wo_body,(()=>this.wo_body.serialize(e))),this.has_tx&&e.writeMessage(3,this.tx,(()=>this.tx.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),s=new l;for(;e.nextField()&&!e.isEndGroup();)switch(e.getFieldNumber()){case 1:e.readMessage(s.wo_header,(()=>s.wo_header=a.deserialize(e)));break;case 2:e.readMessage(s.wo_body,(()=>s.wo_body=h.deserialize(e)));break;case 3:e.readMessage(s.tx,(()=>s.tx=r.deserialize(e)));break;default:e.skipField()}return s}serializeBinary(){return this.serialize()}static deserializeBinary(t){return l.deserialize(t)}}t.ProtoWorkObject=l;class c extends Rn.Message{#D=[];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[1],this.#D),Array.isArray(t)||"object"!=typeof t||"work_objects"in t&&void 0!=t.work_objects&&(this.work_objects=t.work_objects)}get work_objects(){return Rn.Message.getRepeatedWrapperField(this,l,1)}set work_objects(t){Rn.Message.setRepeatedWrapperField(this,1,t)}static fromObject(t){const e=new c({});return null!=t.work_objects&&(e.work_objects=t.work_objects.map((t=>l.fromObject(t)))),e}toObject(){const t={};return null!=this.work_objects&&(t.work_objects=this.work_objects.map((t=>t.toObject()))),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.work_objects.length&&e.writeRepeatedMessage(1,this.work_objects,(t=>t.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new c;for(;e.nextField()&&!e.isEndGroup();)if(1===e.getFieldNumber())e.readMessage(r.work_objects,(()=>Rn.Message.addToRepeatedWrapperField(r,1,l.deserialize(e),l)));else e.skipField();return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return c.deserialize(t)}}t.ProtoWorkObjects=c;class p extends Rn.Message{#D=[[1]];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[],this.#D),Array.isArray(t)||"object"!=typeof t||"work_object"in t&&void 0!=t.work_object&&(this.work_object=t.work_object)}get work_object(){return Rn.Message.getWrapperField(this,l,1)}set work_object(t){Rn.Message.setOneofWrapperField(this,1,this.#D[0],t)}get has_work_object(){return null!=Rn.Message.getField(this,1)}get _work_object(){return{0:"none",1:"work_object"}[Rn.Message.computeOneofCase(this,[1])]}static fromObject(t){const e=new p({});return null!=t.work_object&&(e.work_object=l.fromObject(t.work_object)),e}toObject(){const t={};return null!=this.work_object&&(t.work_object=this.work_object.toObject()),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.has_work_object&&e.writeMessage(1,this.work_object,(()=>this.work_object.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new p;for(;e.nextField()&&!e.isEndGroup();)if(1===e.getFieldNumber())e.readMessage(r.work_object,(()=>r.work_object=l.deserialize(e)));else e.skipField();return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return p.deserialize(t)}}t.ProtoWorkObjectBlockView=p;class d extends Rn.Message{#D=[];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[1],this.#D),Array.isArray(t)||"object"!=typeof t||"work_objects"in t&&void 0!=t.work_objects&&(this.work_objects=t.work_objects)}get work_objects(){return Rn.Message.getRepeatedWrapperField(this,p,1)}set work_objects(t){Rn.Message.setRepeatedWrapperField(this,1,t)}static fromObject(t){const e=new d({});return null!=t.work_objects&&(e.work_objects=t.work_objects.map((t=>p.fromObject(t)))),e}toObject(){const t={};return null!=this.work_objects&&(t.work_objects=this.work_objects.map((t=>t.toObject()))),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.work_objects.length&&e.writeRepeatedMessage(1,this.work_objects,(t=>t.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new d;for(;e.nextField()&&!e.isEndGroup();)if(1===e.getFieldNumber())e.readMessage(r.work_objects,(()=>Rn.Message.addToRepeatedWrapperField(r,1,p.deserialize(e),p)));else e.skipField();return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return d.deserialize(t)}}t.ProtoWorkObjectBlocksView=d;class f extends Rn.Message{#D=[[1]];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[],this.#D),Array.isArray(t)||"object"!=typeof t||"work_object"in t&&void 0!=t.work_object&&(this.work_object=t.work_object)}get work_object(){return Rn.Message.getWrapperField(this,l,1)}set work_object(t){Rn.Message.setOneofWrapperField(this,1,this.#D[0],t)}get has_work_object(){return null!=Rn.Message.getField(this,1)}get _work_object(){return{0:"none",1:"work_object"}[Rn.Message.computeOneofCase(this,[1])]}static fromObject(t){const e=new f({});return null!=t.work_object&&(e.work_object=l.fromObject(t.work_object)),e}toObject(){const t={};return null!=this.work_object&&(t.work_object=this.work_object.toObject()),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.has_work_object&&e.writeMessage(1,this.work_object,(()=>this.work_object.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new f;for(;e.nextField()&&!e.isEndGroup();)if(1===e.getFieldNumber())e.readMessage(r.work_object,(()=>r.work_object=l.deserialize(e)));else e.skipField();return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return f.deserialize(t)}}t.ProtoWorkObjectHeaderView=f;class g extends Rn.Message{#D=[[1]];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[],this.#D),Array.isArray(t)||"object"!=typeof t||"work_object"in t&&void 0!=t.work_object&&(this.work_object=t.work_object)}get work_object(){return Rn.Message.getWrapperField(this,l,1)}set work_object(t){Rn.Message.setOneofWrapperField(this,1,this.#D[0],t)}get has_work_object(){return null!=Rn.Message.getField(this,1)}get _work_object(){return{0:"none",1:"work_object"}[Rn.Message.computeOneofCase(this,[1])]}static fromObject(t){const e=new g({});return null!=t.work_object&&(e.work_object=l.fromObject(t.work_object)),e}toObject(){const t={};return null!=this.work_object&&(t.work_object=this.work_object.toObject()),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.has_work_object&&e.writeMessage(1,this.work_object,(()=>this.work_object.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new g;for(;e.nextField()&&!e.isEndGroup();)if(1===e.getFieldNumber())e.readMessage(r.work_object,(()=>r.work_object=l.deserialize(e)));else e.skipField();return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return g.deserialize(t)}}t.ProtoWorkObjectShareView=g;class y extends Rn.Message{#D=[];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[2],this.#D),Array.isArray(t)||"object"!=typeof t||("address"in t&&void 0!=t.address&&(this.address=t.address),"storage_key"in t&&void 0!=t.storage_key&&(this.storage_key=t.storage_key))}get address(){return Rn.Message.getFieldWithDefault(this,1,new Uint8Array(0))}set address(t){Rn.Message.setField(this,1,t)}get storage_key(){return Rn.Message.getRepeatedWrapperField(this,Bn.ProtoHash,2)}set storage_key(t){Rn.Message.setRepeatedWrapperField(this,2,t)}static fromObject(t){const e=new y({});return null!=t.address&&(e.address=t.address),null!=t.storage_key&&(e.storage_key=t.storage_key.map((t=>Bn.ProtoHash.fromObject(t)))),e}toObject(){const t={};return null!=this.address&&(t.address=this.address),null!=this.storage_key&&(t.storage_key=this.storage_key.map((t=>t.toObject()))),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.address.length&&e.writeBytes(1,this.address),this.storage_key.length&&e.writeRepeatedMessage(2,this.storage_key,(t=>t.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new y;for(;e.nextField()&&!e.isEndGroup();)switch(e.getFieldNumber()){case 1:r.address=e.readBytes();break;case 2:e.readMessage(r.storage_key,(()=>Rn.Message.addToRepeatedWrapperField(r,2,Bn.ProtoHash.deserialize(e),Bn.ProtoHash)));break;default:e.skipField()}return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return y.deserialize(t)}}t.ProtoAccessTuple=y;class m extends Rn.Message{#D=[];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[],this.#D),Array.isArray(t)||"object"!=typeof t||("post_state_or_status"in t&&void 0!=t.post_state_or_status&&(this.post_state_or_status=t.post_state_or_status),"cumulative_gas_used"in t&&void 0!=t.cumulative_gas_used&&(this.cumulative_gas_used=t.cumulative_gas_used),"logs"in t&&void 0!=t.logs&&(this.logs=t.logs),"tx_hash"in t&&void 0!=t.tx_hash&&(this.tx_hash=t.tx_hash),"contract_address"in t&&void 0!=t.contract_address&&(this.contract_address=t.contract_address),"gas_used"in t&&void 0!=t.gas_used&&(this.gas_used=t.gas_used),"outbound_etxs"in t&&void 0!=t.outbound_etxs&&(this.outbound_etxs=t.outbound_etxs))}get post_state_or_status(){return Rn.Message.getFieldWithDefault(this,1,new Uint8Array(0))}set post_state_or_status(t){Rn.Message.setField(this,1,t)}get cumulative_gas_used(){return Rn.Message.getFieldWithDefault(this,2,0)}set cumulative_gas_used(t){Rn.Message.setField(this,2,t)}get logs(){return Rn.Message.getWrapperField(this,w,3)}set logs(t){Rn.Message.setWrapperField(this,3,t)}get has_logs(){return null!=Rn.Message.getField(this,3)}get tx_hash(){return Rn.Message.getWrapperField(this,Bn.ProtoHash,4)}set tx_hash(t){Rn.Message.setWrapperField(this,4,t)}get has_tx_hash(){return null!=Rn.Message.getField(this,4)}get contract_address(){return Rn.Message.getWrapperField(this,Bn.ProtoAddress,5)}set contract_address(t){Rn.Message.setWrapperField(this,5,t)}get has_contract_address(){return null!=Rn.Message.getField(this,5)}get gas_used(){return Rn.Message.getFieldWithDefault(this,6,0)}set gas_used(t){Rn.Message.setField(this,6,t)}get outbound_etxs(){return Rn.Message.getWrapperField(this,s,7)}set outbound_etxs(t){Rn.Message.setWrapperField(this,7,t)}get has_outbound_etxs(){return null!=Rn.Message.getField(this,7)}static fromObject(t){const e=new m({});return null!=t.post_state_or_status&&(e.post_state_or_status=t.post_state_or_status),null!=t.cumulative_gas_used&&(e.cumulative_gas_used=t.cumulative_gas_used),null!=t.logs&&(e.logs=w.fromObject(t.logs)),null!=t.tx_hash&&(e.tx_hash=Bn.ProtoHash.fromObject(t.tx_hash)),null!=t.contract_address&&(e.contract_address=Bn.ProtoAddress.fromObject(t.contract_address)),null!=t.gas_used&&(e.gas_used=t.gas_used),null!=t.outbound_etxs&&(e.outbound_etxs=s.fromObject(t.outbound_etxs)),e}toObject(){const t={};return null!=this.post_state_or_status&&(t.post_state_or_status=this.post_state_or_status),null!=this.cumulative_gas_used&&(t.cumulative_gas_used=this.cumulative_gas_used),null!=this.logs&&(t.logs=this.logs.toObject()),null!=this.tx_hash&&(t.tx_hash=this.tx_hash.toObject()),null!=this.contract_address&&(t.contract_address=this.contract_address.toObject()),null!=this.gas_used&&(t.gas_used=this.gas_used),null!=this.outbound_etxs&&(t.outbound_etxs=this.outbound_etxs.toObject()),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.post_state_or_status.length&&e.writeBytes(1,this.post_state_or_status),0!=this.cumulative_gas_used&&e.writeUint64(2,this.cumulative_gas_used),this.has_logs&&e.writeMessage(3,this.logs,(()=>this.logs.serialize(e))),this.has_tx_hash&&e.writeMessage(4,this.tx_hash,(()=>this.tx_hash.serialize(e))),this.has_contract_address&&e.writeMessage(5,this.contract_address,(()=>this.contract_address.serialize(e))),0!=this.gas_used&&e.writeUint64(6,this.gas_used),this.has_outbound_etxs&&e.writeMessage(7,this.outbound_etxs,(()=>this.outbound_etxs.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new m;for(;e.nextField()&&!e.isEndGroup();)switch(e.getFieldNumber()){case 1:r.post_state_or_status=e.readBytes();break;case 2:r.cumulative_gas_used=e.readUint64();break;case 3:e.readMessage(r.logs,(()=>r.logs=w.deserialize(e)));break;case 4:e.readMessage(r.tx_hash,(()=>r.tx_hash=Bn.ProtoHash.deserialize(e)));break;case 5:e.readMessage(r.contract_address,(()=>r.contract_address=Bn.ProtoAddress.deserialize(e)));break;case 6:r.gas_used=e.readUint64();break;case 7:e.readMessage(r.outbound_etxs,(()=>r.outbound_etxs=s.deserialize(e)));break;default:e.skipField()}return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return m.deserialize(t)}}t.ProtoReceiptForStorage=m;class _ extends Rn.Message{#D=[];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[1],this.#D),Array.isArray(t)||"object"!=typeof t||"receipts"in t&&void 0!=t.receipts&&(this.receipts=t.receipts)}get receipts(){return Rn.Message.getRepeatedWrapperField(this,m,1)}set receipts(t){Rn.Message.setRepeatedWrapperField(this,1,t)}static fromObject(t){const e=new _({});return null!=t.receipts&&(e.receipts=t.receipts.map((t=>m.fromObject(t)))),e}toObject(){const t={};return null!=this.receipts&&(t.receipts=this.receipts.map((t=>t.toObject()))),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.receipts.length&&e.writeRepeatedMessage(1,this.receipts,(t=>t.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new _;for(;e.nextField()&&!e.isEndGroup();)if(1===e.getFieldNumber())e.readMessage(r.receipts,(()=>Rn.Message.addToRepeatedWrapperField(r,1,m.deserialize(e),m)));else e.skipField();return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return _.deserialize(t)}}t.ProtoReceiptsForStorage=_;class b extends Rn.Message{#D=[];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[2],this.#D),Array.isArray(t)||"object"!=typeof t||("address"in t&&void 0!=t.address&&(this.address=t.address),"topics"in t&&void 0!=t.topics&&(this.topics=t.topics),"data"in t&&void 0!=t.data&&(this.data=t.data))}get address(){return Rn.Message.getWrapperField(this,Bn.ProtoAddress,1)}set address(t){Rn.Message.setWrapperField(this,1,t)}get has_address(){return null!=Rn.Message.getField(this,1)}get topics(){return Rn.Message.getRepeatedWrapperField(this,Bn.ProtoHash,2)}set topics(t){Rn.Message.setRepeatedWrapperField(this,2,t)}get data(){return Rn.Message.getFieldWithDefault(this,3,new Uint8Array(0))}set data(t){Rn.Message.setField(this,3,t)}static fromObject(t){const e=new b({});return null!=t.address&&(e.address=Bn.ProtoAddress.fromObject(t.address)),null!=t.topics&&(e.topics=t.topics.map((t=>Bn.ProtoHash.fromObject(t)))),null!=t.data&&(e.data=t.data),e}toObject(){const t={};return null!=this.address&&(t.address=this.address.toObject()),null!=this.topics&&(t.topics=this.topics.map((t=>t.toObject()))),null!=this.data&&(t.data=this.data),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.has_address&&e.writeMessage(1,this.address,(()=>this.address.serialize(e))),this.topics.length&&e.writeRepeatedMessage(2,this.topics,(t=>t.serialize(e))),this.data.length&&e.writeBytes(3,this.data),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new b;for(;e.nextField()&&!e.isEndGroup();)switch(e.getFieldNumber()){case 1:e.readMessage(r.address,(()=>r.address=Bn.ProtoAddress.deserialize(e)));break;case 2:e.readMessage(r.topics,(()=>Rn.Message.addToRepeatedWrapperField(r,2,Bn.ProtoHash.deserialize(e),Bn.ProtoHash)));break;case 3:r.data=e.readBytes();break;default:e.skipField()}return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return b.deserialize(t)}}t.ProtoLogForStorage=b;class w extends Rn.Message{#D=[];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[1],this.#D),Array.isArray(t)||"object"!=typeof t||"logs"in t&&void 0!=t.logs&&(this.logs=t.logs)}get logs(){return Rn.Message.getRepeatedWrapperField(this,b,1)}set logs(t){Rn.Message.setRepeatedWrapperField(this,1,t)}static fromObject(t){const e=new w({});return null!=t.logs&&(e.logs=t.logs.map((t=>b.fromObject(t)))),e}toObject(){const t={};return null!=this.logs&&(t.logs=this.logs.map((t=>t.toObject()))),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.logs.length&&e.writeRepeatedMessage(1,this.logs,(t=>t.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new w;for(;e.nextField()&&!e.isEndGroup();)if(1===e.getFieldNumber())e.readMessage(r.logs,(()=>Rn.Message.addToRepeatedWrapperField(r,1,b.deserialize(e),b)));else e.skipField();return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return w.deserialize(t)}}t.ProtoLogsForStorage=w;class v extends Rn.Message{#D=[[1],[2]];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[],this.#D),Array.isArray(t)||"object"!=typeof t||("wo"in t&&void 0!=t.wo&&(this.wo=t.wo),"termini"in t&&void 0!=t.termini&&(this.termini=t.termini))}get wo(){return Rn.Message.getWrapperField(this,l,1)}set wo(t){Rn.Message.setOneofWrapperField(this,1,this.#D[0],t)}get has_wo(){return null!=Rn.Message.getField(this,1)}get termini(){return Rn.Message.getWrapperField(this,x,2)}set termini(t){Rn.Message.setOneofWrapperField(this,2,this.#D[1],t)}get has_termini(){return null!=Rn.Message.getField(this,2)}get _wo(){return{0:"none",1:"wo"}[Rn.Message.computeOneofCase(this,[1])]}get _termini(){return{0:"none",2:"termini"}[Rn.Message.computeOneofCase(this,[2])]}static fromObject(t){const e=new v({});return null!=t.wo&&(e.wo=l.fromObject(t.wo)),null!=t.termini&&(e.termini=x.fromObject(t.termini)),e}toObject(){const t={};return null!=this.wo&&(t.wo=this.wo.toObject()),null!=this.termini&&(t.termini=this.termini.toObject()),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.has_wo&&e.writeMessage(1,this.wo,(()=>this.wo.serialize(e))),this.has_termini&&e.writeMessage(2,this.termini,(()=>this.termini.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new v;for(;e.nextField()&&!e.isEndGroup();)switch(e.getFieldNumber()){case 1:e.readMessage(r.wo,(()=>r.wo=l.deserialize(e)));break;case 2:e.readMessage(r.termini,(()=>r.termini=x.deserialize(e)));break;default:e.skipField()}return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return v.deserialize(t)}}t.ProtoPendingHeader=v;class x extends Rn.Message{#D=[];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[1,2],this.#D),Array.isArray(t)||"object"!=typeof t||("dom_termini"in t&&void 0!=t.dom_termini&&(this.dom_termini=t.dom_termini),"sub_termini"in t&&void 0!=t.sub_termini&&(this.sub_termini=t.sub_termini))}get dom_termini(){return Rn.Message.getRepeatedWrapperField(this,Bn.ProtoHash,1)}set dom_termini(t){Rn.Message.setRepeatedWrapperField(this,1,t)}get sub_termini(){return Rn.Message.getRepeatedWrapperField(this,Bn.ProtoHash,2)}set sub_termini(t){Rn.Message.setRepeatedWrapperField(this,2,t)}static fromObject(t){const e=new x({});return null!=t.dom_termini&&(e.dom_termini=t.dom_termini.map((t=>Bn.ProtoHash.fromObject(t)))),null!=t.sub_termini&&(e.sub_termini=t.sub_termini.map((t=>Bn.ProtoHash.fromObject(t)))),e}toObject(){const t={};return null!=this.dom_termini&&(t.dom_termini=this.dom_termini.map((t=>t.toObject()))),null!=this.sub_termini&&(t.sub_termini=this.sub_termini.map((t=>t.toObject()))),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.dom_termini.length&&e.writeRepeatedMessage(1,this.dom_termini,(t=>t.serialize(e))),this.sub_termini.length&&e.writeRepeatedMessage(2,this.sub_termini,(t=>t.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new x;for(;e.nextField()&&!e.isEndGroup();)switch(e.getFieldNumber()){case 1:e.readMessage(r.dom_termini,(()=>Rn.Message.addToRepeatedWrapperField(r,1,Bn.ProtoHash.deserialize(e),Bn.ProtoHash)));break;case 2:e.readMessage(r.sub_termini,(()=>Rn.Message.addToRepeatedWrapperField(r,2,Bn.ProtoHash.deserialize(e),Bn.ProtoHash)));break;default:e.skipField()}return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return x.deserialize(t)}}t.ProtoTermini=x;class k extends Rn.Message{#D=[[1]];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[],this.#D),Array.isArray(t)||"object"!=typeof t||"etx_hashes"in t&&void 0!=t.etx_hashes&&(this.etx_hashes=t.etx_hashes)}get etx_hashes(){return Rn.Message.getFieldWithDefault(this,1,new Uint8Array(0))}set etx_hashes(t){Rn.Message.setOneofField(this,1,this.#D[0],t)}get has_etx_hashes(){return null!=Rn.Message.getField(this,1)}get _etx_hashes(){return{0:"none",1:"etx_hashes"}[Rn.Message.computeOneofCase(this,[1])]}static fromObject(t){const e=new k({});return null!=t.etx_hashes&&(e.etx_hashes=t.etx_hashes),e}toObject(){const t={};return null!=this.etx_hashes&&(t.etx_hashes=this.etx_hashes),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.has_etx_hashes&&e.writeBytes(1,this.etx_hashes),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new k;for(;e.nextField()&&!e.isEndGroup();)if(1===e.getFieldNumber())r.etx_hashes=e.readBytes();else e.skipField();return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return k.deserialize(t)}}t.ProtoEtxSet=k;class O extends Rn.Message{#D=[[1],[2]];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[],this.#D),Array.isArray(t)||"object"!=typeof t||("header"in t&&void 0!=t.header&&(this.header=t.header),"outbound_etxs"in t&&void 0!=t.outbound_etxs&&(this.outbound_etxs=t.outbound_etxs))}get header(){return Rn.Message.getWrapperField(this,l,1)}set header(t){Rn.Message.setOneofWrapperField(this,1,this.#D[0],t)}get has_header(){return null!=Rn.Message.getField(this,1)}get outbound_etxs(){return Rn.Message.getWrapperField(this,s,2)}set outbound_etxs(t){Rn.Message.setOneofWrapperField(this,2,this.#D[1],t)}get has_outbound_etxs(){return null!=Rn.Message.getField(this,2)}get _header(){return{0:"none",1:"header"}[Rn.Message.computeOneofCase(this,[1])]}get _outbound_etxs(){return{0:"none",2:"outbound_etxs"}[Rn.Message.computeOneofCase(this,[2])]}static fromObject(t){const e=new O({});return null!=t.header&&(e.header=l.fromObject(t.header)),null!=t.outbound_etxs&&(e.outbound_etxs=s.fromObject(t.outbound_etxs)),e}toObject(){const t={};return null!=this.header&&(t.header=this.header.toObject()),null!=this.outbound_etxs&&(t.outbound_etxs=this.outbound_etxs.toObject()),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.has_header&&e.writeMessage(1,this.header,(()=>this.header.serialize(e))),this.has_outbound_etxs&&e.writeMessage(2,this.outbound_etxs,(()=>this.outbound_etxs.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new O;for(;e.nextField()&&!e.isEndGroup();)switch(e.getFieldNumber()){case 1:e.readMessage(r.header,(()=>r.header=l.deserialize(e)));break;case 2:e.readMessage(r.outbound_etxs,(()=>r.outbound_etxs=s.deserialize(e)));break;default:e.skipField()}return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return O.deserialize(t)}}t.ProtoPendingEtxs=O;class E extends Rn.Message{#D=[[1],[2]];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[],this.#D),Array.isArray(t)||"object"!=typeof t||("header"in t&&void 0!=t.header&&(this.header=t.header),"etxs_rollup"in t&&void 0!=t.etxs_rollup&&(this.etxs_rollup=t.etxs_rollup))}get header(){return Rn.Message.getWrapperField(this,l,1)}set header(t){Rn.Message.setOneofWrapperField(this,1,this.#D[0],t)}get has_header(){return null!=Rn.Message.getField(this,1)}get etxs_rollup(){return Rn.Message.getWrapperField(this,s,2)}set etxs_rollup(t){Rn.Message.setOneofWrapperField(this,2,this.#D[1],t)}get has_etxs_rollup(){return null!=Rn.Message.getField(this,2)}get _header(){return{0:"none",1:"header"}[Rn.Message.computeOneofCase(this,[1])]}get _etxs_rollup(){return{0:"none",2:"etxs_rollup"}[Rn.Message.computeOneofCase(this,[2])]}static fromObject(t){const e=new E({});return null!=t.header&&(e.header=l.fromObject(t.header)),null!=t.etxs_rollup&&(e.etxs_rollup=s.fromObject(t.etxs_rollup)),e}toObject(){const t={};return null!=this.header&&(t.header=this.header.toObject()),null!=this.etxs_rollup&&(t.etxs_rollup=this.etxs_rollup.toObject()),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.has_header&&e.writeMessage(1,this.header,(()=>this.header.serialize(e))),this.has_etxs_rollup&&e.writeMessage(2,this.etxs_rollup,(()=>this.etxs_rollup.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new E;for(;e.nextField()&&!e.isEndGroup();)switch(e.getFieldNumber()){case 1:e.readMessage(r.header,(()=>r.header=l.deserialize(e)));break;case 2:e.readMessage(r.etxs_rollup,(()=>r.etxs_rollup=s.deserialize(e)));break;default:e.skipField()}return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return E.deserialize(t)}}t.ProtoPendingEtxsRollup=E;class M extends Rn.Message{#D=[];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[1],this.#D),Array.isArray(t)||"object"!=typeof t||"tx_ins"in t&&void 0!=t.tx_ins&&(this.tx_ins=t.tx_ins)}get tx_ins(){return Rn.Message.getRepeatedWrapperField(this,F,1)}set tx_ins(t){Rn.Message.setRepeatedWrapperField(this,1,t)}static fromObject(t){const e=new M({});return null!=t.tx_ins&&(e.tx_ins=t.tx_ins.map((t=>F.fromObject(t)))),e}toObject(){const t={};return null!=this.tx_ins&&(t.tx_ins=this.tx_ins.map((t=>t.toObject()))),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.tx_ins.length&&e.writeRepeatedMessage(1,this.tx_ins,(t=>t.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new M;for(;e.nextField()&&!e.isEndGroup();)if(1===e.getFieldNumber())e.readMessage(r.tx_ins,(()=>Rn.Message.addToRepeatedWrapperField(r,1,F.deserialize(e),F)));else e.skipField();return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return M.deserialize(t)}}t.ProtoTxIns=M;class A extends Rn.Message{#D=[];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[1],this.#D),Array.isArray(t)||"object"!=typeof t||"tx_outs"in t&&void 0!=t.tx_outs&&(this.tx_outs=t.tx_outs)}get tx_outs(){return Rn.Message.getRepeatedWrapperField(this,T,1)}set tx_outs(t){Rn.Message.setRepeatedWrapperField(this,1,t)}static fromObject(t){const e=new A({});return null!=t.tx_outs&&(e.tx_outs=t.tx_outs.map((t=>T.fromObject(t)))),e}toObject(){const t={};return null!=this.tx_outs&&(t.tx_outs=this.tx_outs.map((t=>t.toObject()))),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.tx_outs.length&&e.writeRepeatedMessage(1,this.tx_outs,(t=>t.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new A;for(;e.nextField()&&!e.isEndGroup();)if(1===e.getFieldNumber())e.readMessage(r.tx_outs,(()=>Rn.Message.addToRepeatedWrapperField(r,1,T.deserialize(e),T)));else e.skipField();return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return A.deserialize(t)}}t.ProtoTxOuts=A;class F extends Rn.Message{#D=[[1],[2]];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[],this.#D),Array.isArray(t)||"object"!=typeof t||("previous_out_point"in t&&void 0!=t.previous_out_point&&(this.previous_out_point=t.previous_out_point),"pub_key"in t&&void 0!=t.pub_key&&(this.pub_key=t.pub_key))}get previous_out_point(){return Rn.Message.getWrapperField(this,B,1)}set previous_out_point(t){Rn.Message.setOneofWrapperField(this,1,this.#D[0],t)}get has_previous_out_point(){return null!=Rn.Message.getField(this,1)}get pub_key(){return Rn.Message.getFieldWithDefault(this,2,new Uint8Array(0))}set pub_key(t){Rn.Message.setOneofField(this,2,this.#D[1],t)}get has_pub_key(){return null!=Rn.Message.getField(this,2)}get _previous_out_point(){return{0:"none",1:"previous_out_point"}[Rn.Message.computeOneofCase(this,[1])]}get _pub_key(){return{0:"none",2:"pub_key"}[Rn.Message.computeOneofCase(this,[2])]}static fromObject(t){const e=new F({});return null!=t.previous_out_point&&(e.previous_out_point=B.fromObject(t.previous_out_point)),null!=t.pub_key&&(e.pub_key=t.pub_key),e}toObject(){const t={};return null!=this.previous_out_point&&(t.previous_out_point=this.previous_out_point.toObject()),null!=this.pub_key&&(t.pub_key=this.pub_key),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.has_previous_out_point&&e.writeMessage(1,this.previous_out_point,(()=>this.previous_out_point.serialize(e))),this.has_pub_key&&e.writeBytes(2,this.pub_key),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new F;for(;e.nextField()&&!e.isEndGroup();)switch(e.getFieldNumber()){case 1:e.readMessage(r.previous_out_point,(()=>r.previous_out_point=B.deserialize(e)));break;case 2:r.pub_key=e.readBytes();break;default:e.skipField()}return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return F.deserialize(t)}}t.ProtoTxIn=F;class B extends Rn.Message{#D=[[1],[2]];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[],this.#D),Array.isArray(t)||"object"!=typeof t||("hash"in t&&void 0!=t.hash&&(this.hash=t.hash),"index"in t&&void 0!=t.index&&(this.index=t.index))}get hash(){return Rn.Message.getWrapperField(this,Bn.ProtoHash,1)}set hash(t){Rn.Message.setOneofWrapperField(this,1,this.#D[0],t)}get has_hash(){return null!=Rn.Message.getField(this,1)}get index(){return Rn.Message.getFieldWithDefault(this,2,0)}set index(t){Rn.Message.setOneofField(this,2,this.#D[1],t)}get has_index(){return null!=Rn.Message.getField(this,2)}get _hash(){return{0:"none",1:"hash"}[Rn.Message.computeOneofCase(this,[1])]}get _index(){return{0:"none",2:"index"}[Rn.Message.computeOneofCase(this,[2])]}static fromObject(t){const e=new B({});return null!=t.hash&&(e.hash=Bn.ProtoHash.fromObject(t.hash)),null!=t.index&&(e.index=t.index),e}toObject(){const t={};return null!=this.hash&&(t.hash=this.hash.toObject()),null!=this.index&&(t.index=this.index),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.has_hash&&e.writeMessage(1,this.hash,(()=>this.hash.serialize(e))),this.has_index&&e.writeUint32(2,this.index),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new B;for(;e.nextField()&&!e.isEndGroup();)switch(e.getFieldNumber()){case 1:e.readMessage(r.hash,(()=>r.hash=Bn.ProtoHash.deserialize(e)));break;case 2:r.index=e.readUint32();break;default:e.skipField()}return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return B.deserialize(t)}}t.ProtoOutPoint=B;class T extends Rn.Message{#D=[[1],[2],[3]];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[],this.#D),Array.isArray(t)||"object"!=typeof t||("denomination"in t&&void 0!=t.denomination&&(this.denomination=t.denomination),"address"in t&&void 0!=t.address&&(this.address=t.address),"lock"in t&&void 0!=t.lock&&(this.lock=t.lock))}get denomination(){return Rn.Message.getFieldWithDefault(this,1,0)}set denomination(t){Rn.Message.setOneofField(this,1,this.#D[0],t)}get has_denomination(){return null!=Rn.Message.getField(this,1)}get address(){return Rn.Message.getFieldWithDefault(this,2,new Uint8Array(0))}set address(t){Rn.Message.setOneofField(this,2,this.#D[1],t)}get has_address(){return null!=Rn.Message.getField(this,2)}get lock(){return Rn.Message.getFieldWithDefault(this,3,new Uint8Array(0))}set lock(t){Rn.Message.setOneofField(this,3,this.#D[2],t)}get has_lock(){return null!=Rn.Message.getField(this,3)}get _denomination(){return{0:"none",1:"denomination"}[Rn.Message.computeOneofCase(this,[1])]}get _address(){return{0:"none",2:"address"}[Rn.Message.computeOneofCase(this,[2])]}get _lock(){return{0:"none",3:"lock"}[Rn.Message.computeOneofCase(this,[3])]}static fromObject(t){const e=new T({});return null!=t.denomination&&(e.denomination=t.denomination),null!=t.address&&(e.address=t.address),null!=t.lock&&(e.lock=t.lock),e}toObject(){const t={};return null!=this.denomination&&(t.denomination=this.denomination),null!=this.address&&(t.address=this.address),null!=this.lock&&(t.lock=this.lock),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.has_denomination&&e.writeUint32(1,this.denomination),this.has_address&&e.writeBytes(2,this.address),this.has_lock&&e.writeBytes(3,this.lock),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new T;for(;e.nextField()&&!e.isEndGroup();)switch(e.getFieldNumber()){case 1:r.denomination=e.readUint32();break;case 2:r.address=e.readBytes();break;case 3:r.lock=e.readBytes();break;default:e.skipField()}return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return T.deserialize(t)}}t.ProtoTxOut=T;class R extends Rn.Message{#D=[[1],[2],[3]];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[],this.#D),Array.isArray(t)||"object"!=typeof t||("hash"in t&&void 0!=t.hash&&(this.hash=t.hash),"index"in t&&void 0!=t.index&&(this.index=t.index),"denomination"in t&&void 0!=t.denomination&&(this.denomination=t.denomination))}get hash(){return Rn.Message.getWrapperField(this,Bn.ProtoHash,1)}set hash(t){Rn.Message.setOneofWrapperField(this,1,this.#D[0],t)}get has_hash(){return null!=Rn.Message.getField(this,1)}get index(){return Rn.Message.getFieldWithDefault(this,2,0)}set index(t){Rn.Message.setOneofField(this,2,this.#D[1],t)}get has_index(){return null!=Rn.Message.getField(this,2)}get denomination(){return Rn.Message.getFieldWithDefault(this,3,0)}set denomination(t){Rn.Message.setOneofField(this,3,this.#D[2],t)}get has_denomination(){return null!=Rn.Message.getField(this,3)}get _hash(){return{0:"none",1:"hash"}[Rn.Message.computeOneofCase(this,[1])]}get _index(){return{0:"none",2:"index"}[Rn.Message.computeOneofCase(this,[2])]}get _denomination(){return{0:"none",3:"denomination"}[Rn.Message.computeOneofCase(this,[3])]}static fromObject(t){const e=new R({});return null!=t.hash&&(e.hash=Bn.ProtoHash.fromObject(t.hash)),null!=t.index&&(e.index=t.index),null!=t.denomination&&(e.denomination=t.denomination),e}toObject(){const t={};return null!=this.hash&&(t.hash=this.hash.toObject()),null!=this.index&&(t.index=this.index),null!=this.denomination&&(t.denomination=this.denomination),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.has_hash&&e.writeMessage(1,this.hash,(()=>this.hash.serialize(e))),this.has_index&&e.writeUint32(2,this.index),this.has_denomination&&e.writeUint32(3,this.denomination),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new R;for(;e.nextField()&&!e.isEndGroup();)switch(e.getFieldNumber()){case 1:e.readMessage(r.hash,(()=>r.hash=Bn.ProtoHash.deserialize(e)));break;case 2:r.index=e.readUint32();break;case 3:r.denomination=e.readUint32();break;default:e.skipField()}return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return R.deserialize(t)}}t.ProtoOutPointAndDenomination=R;class P extends Rn.Message{#D=[];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[],this.#D),Array.isArray(t)||"object"!=typeof t||"out_points"in t&&void 0!=t.out_points&&(this.out_points=t.out_points),this.out_points||(this.out_points=new Map)}get out_points(){return Rn.Message.getField(this,1)}set out_points(t){Rn.Message.setField(this,1,t)}static fromObject(t){const e=new P({});return"object"==typeof t.out_points&&(e.out_points=new Map(Object.entries(t.out_points).map((([t,e])=>[t,R.fromObject(e)])))),e}toObject(){const t={};return null!=this.out_points&&(t.out_points=Object.fromEntries(Array.from(this.out_points).map((([t,e])=>[t,e.toObject()])))),t}serialize(t){const e=t||new Rn.BinaryWriter;for(const[r,s]of this.out_points)e.writeMessage(1,this.out_points,(()=>{e.writeString(1,r),e.writeMessage(2,s,(()=>s.serialize(e)))}));if(!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new P;for(;e.nextField()&&!e.isEndGroup();)if(1===e.getFieldNumber())e.readMessage(r,(()=>Rn.Map.deserializeBinary(r.out_points,e,e.readString,(()=>{let t;return e.readMessage(r,(()=>t=R.deserialize(e))),t}))));else e.skipField();return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return P.deserialize(t)}}t.ProtoAddressOutPoints=P;class S extends Rn.Message{#D=[];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[],this.#D),Array.isArray(t)||"object"!=typeof t||"entries"in t&&void 0!=t.entries&&(this.entries=t.entries),this.entries||(this.entries=new Map)}get entries(){return Rn.Message.getField(this,1)}set entries(t){Rn.Message.setField(this,1,t)}static fromObject(t){const e=new S({});return"object"==typeof t.entries&&(e.entries=new Map(Object.entries(t.entries).map((([t,e])=>[t,P.fromObject(e)])))),e}toObject(){const t={};return null!=this.entries&&(t.entries=Object.fromEntries(Array.from(this.entries).map((([t,e])=>[t,e.toObject()])))),t}serialize(t){const e=t||new Rn.BinaryWriter;for(const[r,s]of this.entries)e.writeMessage(1,this.entries,(()=>{e.writeString(1,r),e.writeMessage(2,s,(()=>s.serialize(e)))}));if(!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new S;for(;e.nextField()&&!e.isEndGroup();)if(1===e.getFieldNumber())e.readMessage(r,(()=>Rn.Map.deserializeBinary(r.entries,e,e.readString,(()=>{let t;return e.readMessage(r,(()=>t=P.deserialize(e))),t}))));else e.skipField();return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return S.deserialize(t)}}t.ProtoOutPointsMap=S;class j extends Rn.Message{#D=[[1],[2]];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[],this.#D),Array.isArray(t)||"object"!=typeof t||("outpoint"in t&&void 0!=t.outpoint&&(this.outpoint=t.outpoint),"sutxo"in t&&void 0!=t.sutxo&&(this.sutxo=t.sutxo))}get outpoint(){return Rn.Message.getWrapperField(this,B,1)}set outpoint(t){Rn.Message.setOneofWrapperField(this,1,this.#D[0],t)}get has_outpoint(){return null!=Rn.Message.getField(this,1)}get sutxo(){return Rn.Message.getWrapperField(this,T,2)}set sutxo(t){Rn.Message.setOneofWrapperField(this,2,this.#D[1],t)}get has_sutxo(){return null!=Rn.Message.getField(this,2)}get _outpoint(){return{0:"none",1:"outpoint"}[Rn.Message.computeOneofCase(this,[1])]}get _sutxo(){return{0:"none",2:"sutxo"}[Rn.Message.computeOneofCase(this,[2])]}static fromObject(t){const e=new j({});return null!=t.outpoint&&(e.outpoint=B.fromObject(t.outpoint)),null!=t.sutxo&&(e.sutxo=T.fromObject(t.sutxo)),e}toObject(){const t={};return null!=this.outpoint&&(t.outpoint=this.outpoint.toObject()),null!=this.sutxo&&(t.sutxo=this.sutxo.toObject()),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.has_outpoint&&e.writeMessage(1,this.outpoint,(()=>this.outpoint.serialize(e))),this.has_sutxo&&e.writeMessage(2,this.sutxo,(()=>this.sutxo.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new j;for(;e.nextField()&&!e.isEndGroup();)switch(e.getFieldNumber()){case 1:e.readMessage(r.outpoint,(()=>r.outpoint=B.deserialize(e)));break;case 2:e.readMessage(r.sutxo,(()=>r.sutxo=T.deserialize(e)));break;default:e.skipField()}return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return j.deserialize(t)}}t.ProtoSpentUTXO=j;class z extends Rn.Message{#D=[];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[1],this.#D),Array.isArray(t)||"object"!=typeof t||"sutxos"in t&&void 0!=t.sutxos&&(this.sutxos=t.sutxos)}get sutxos(){return Rn.Message.getRepeatedWrapperField(this,j,1)}set sutxos(t){Rn.Message.setRepeatedWrapperField(this,1,t)}static fromObject(t){const e=new z({});return null!=t.sutxos&&(e.sutxos=t.sutxos.map((t=>j.fromObject(t)))),e}toObject(){const t={};return null!=this.sutxos&&(t.sutxos=this.sutxos.map((t=>t.toObject()))),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.sutxos.length&&e.writeRepeatedMessage(1,this.sutxos,(t=>t.serialize(e))),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new z;for(;e.nextField()&&!e.isEndGroup();)if(1===e.getFieldNumber())e.readMessage(r.sutxos,(()=>Rn.Message.addToRepeatedWrapperField(r,1,j.deserialize(e),j)));else e.skipField();return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return z.deserialize(t)}}t.ProtoSpentUTXOs=z;class I extends Rn.Message{#D=[];constructor(t){super(),Rn.Message.initialize(this,Array.isArray(t)?t:[],0,-1,[1],this.#D),Array.isArray(t)||"object"!=typeof t||"keys"in t&&void 0!=t.keys&&(this.keys=t.keys)}get keys(){return Rn.Message.getFieldWithDefault(this,1,[])}set keys(t){Rn.Message.setField(this,1,t)}static fromObject(t){const e=new I({});return null!=t.keys&&(e.keys=t.keys),e}toObject(){const t={};return null!=this.keys&&(t.keys=this.keys),t}serialize(t){const e=t||new Rn.BinaryWriter;if(this.keys.length&&e.writeRepeatedBytes(1,this.keys),!t)return e.getResultBuffer()}static deserialize(t){const e=t instanceof Rn.BinaryReader?t:new Rn.BinaryReader(t),r=new I;for(;e.nextField()&&!e.isEndGroup();)if(1===e.getFieldNumber())Rn.Message.addToRepeatedField(r,1,e.readBytes());else e.skipField();return r}serializeBinary(){return this.serialize()}static deserializeBinary(t){return I.deserialize(t)}}t.ProtoKeys=I}(Tn||(Tn={}));const Sn=BigInt(0);function jn(t,e){return function(r){return null==r?e:t(r)}}function zn(t){return e=>{if(!Array.isArray(e))throw new Error("not an array");return e.map((e=>t(e)))}}function In(t,e){return r=>{const s={};for(const i in t){let o=i;if(e&&i in e&&!(o in r))for(const t of e[i])if(t in r){o=t;break}try{const e=t[i](r[o]);void 0!==e&&(s[i]=e)}catch(n){v(!1,`invalid value for value.${i} (${n instanceof Error?n.message:"not-an-error"})`,"BAD_DATA",{value:r})}}return s}}function Nn(t){return x(B(t),"invalid data","value",t),t}function Un(t){return x(B(t,32),"invalid hash","value",t),t}function Cn(t,e){const r=W(t,"value"),s=J(r);return x(s.length<=32,"value too large",`tx.${e}`,r),s}const Ln=In({address:Or,blockHash:Un,blockNumber:V,data:Nn,index:V,removed:jn((function(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}x(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}),!1),topics:zn(Un),transactionHash:Un,transactionIndex:V},{index:["logIndex"]});const Hn=In({baseFeePerGas:W,efficiencyScore:W,etxEligibleSlices:Un,etxSetRoot:Un,evmRoot:Un,expansionNumber:V,etxRollupRoot:Un,outboundEtxsRoot:Un,extraData:Nn,gasLimit:W,gasUsed:W,interlinkRootHash:Un,manifestHash:zn(Un),number:zn(V),parentDeltaEntropy:zn(W),parentEntropy:zn(W),parentHash:zn(Un),parentUncledDeltaEntropy:zn(W),primeTerminusHash:Un,quaiStateSize:W,receiptsRoot:Un,uncleHash:Un,size:W,stateLimit:W,stateUsed:W,thresholdCount:W,transactionsRoot:Un,uncledEntropy:W,utxoRoot:Un,secondaryCoinbase:jn(Or),exchangeRate:W,quaiToQi:W,qiToQuai:W}),Wn=In({primaryCoinbase:jn(Or),difficulty:V,headerHash:Un,location:Nn,mixHash:Un,nonce:Nn,number:V,parentHash:Un,primeTerminusNumber:V,timestamp:V,txHash:Un,lock:V}),Dn=In({outboundEtxs:zn((t=>"string"===typeof t?Un(t):Kn(t))),hash:Un,header:Hn,interlinkHashes:zn(Un),size:W,subManifest:zn(Nn),totalEntropy:W,transactions:zn((t=>"string"===typeof t?Un(t):Jn(t))),uncles:zn(Wn),woHeader:Wn,workShares:jn(zn(Wn),[])});const qn=In({transactionIndex:V,blockNumber:V,transactionHash:Un,address:Or,topics:zn(Un),data:Nn,index:V,blockHash:Un},{index:["logIndex"]});const $n=In({type:jn(V,0),nonce:jn(V),gasPrice:jn(W),minerTip:jn(W),gas:jn(W),value:jn(W,Sn),input:jn(Nn),to:jn(Or,null),accessList:jn(nn,null),from:Or,originatingTxHash:Un,etxIndex:V,chainId:jn(W,null),etxType:V,hash:Un},{from:["from"]});function Vn(t){return $n(t)}const Gn=In({to:jn(Or,null),from:jn(Or,null),contractAddress:jn(Or,null),index:V,gasUsed:W,logsBloom:jn(Nn),blockHash:Un,hash:Un,logs:zn((function(t){return qn(t)})),blockNumber:V,cumulativeGasUsed:W,effectiveGasPrice:jn(W),status:jn(V),type:jn(V,0),outboundEtxs:t=>t?zn(Vn)(t):t,originatingTxHash:jn(Un),etxType:jn(V)},{hash:["transactionHash"],index:["transactionIndex"]});function Jn(t){switch(parseInt(t.type,16)){case 0:return function(t){const e=In({hash:Un,type:t=>"0x"===t||null==t?0:parseInt(t,16),accessList:jn(nn,null),blockHash:jn(Un,null),blockNumber:jn((t=>t?parseInt(t,16):null),null),index:jn((t=>t?BigInt(t):null),null),from:jn(Or,null),minerTip:jn((t=>t?BigInt(t):null)),gasPrice:jn((t=>t?BigInt(t):null)),gasLimit:jn((t=>t?BigInt(t):null),null),to:jn(Or,null),value:jn((t=>t?BigInt(t):null),null),nonce:jn((t=>t?parseInt(t,10):null),null),creates:jn(Or,null),chainId:jn((t=>t?BigInt(t):null),null),etxType:jn((t=>parseInt(t,16)),null),data:t=>t},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);null==t.accessList&&(e.accessList=[]);if(t.signature&&(e.signature=vr.from(t.signature),null==e.chainId)){const t=e.signature.legacyChainId;null!=t&&(e.chainId=t)}e.blockHash&&W(e.blockHash)===Sn&&(e.blockHash=null);return e}(t);case 1:return Kn(t);case 2:return function(t){return In({hash:Un,type:t=>"0x"===t||null==t?0:parseInt(t,16),blockHash:jn(Un,null),blockNumber:jn((t=>t?parseInt(t,16):null),null),chainId:jn((t=>t?BigInt(t):null),null),signature:t=>t,txInputs:jn(Zn,[]),txOutputs:jn(Yn,[])},{index:["transactionIndex"],signature:["utxoSignature"],txInputs:["inputs"],txOutputs:["outputs"]})(t)}(t);default:throw new Error("Unknown transaction type")}}function Kn(t){const e=In({hash:Un,type:t=>"0x"===t||null==t?0:parseInt(t,16),accessList:jn(nn,null),blockHash:jn(Un,null),blockNumber:jn((t=>t?parseInt(t,16):null),null),index:jn((t=>t?BigInt(t):null),null),from:jn(Or,null),minerTip:jn((t=>t?BigInt(t):null)),gasPrice:jn((t=>t?BigInt(t):null)),gasLimit:jn((t=>t?BigInt(t):null),null),to:jn(Or,null),value:jn((t=>t?BigInt(t):null),null),nonce:jn((t=>t?parseInt(t,10):null),null),creates:jn(Or,null),chainId:jn((t=>t?BigInt(t):null),null),originatingTxHash:jn(Un,null),etxIndex:jn((t=>t?parseInt(t,10):null),null),etxType:jn((t=>t),null),data:t=>t},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);return e.blockHash&&W(e.blockHash)===Sn&&(e.blockHash=null),e}const Zn=t=>t?.map(Qn),Qn=t=>({txhash:Un(t.previousOutPoint.txHash),index:V(t.previousOutPoint.index),pubkey:R(t.pubKey)}),Yn=t=>t?.map(Xn),Xn=t=>({denomination:V(t.denomination),lock:V(t.lock),address:Or(t.address)}),ti=In({denomination:t=>V(t),index:t=>V(t),lock:t=>V(t),txhash:Un},{txhash:["txHash"]});function ei(t){return t.map(ti)}function ri(t){const e={};for(const[r,s]of Object.entries(t)){const t=[],n=[];for(const[e,r]of Object.entries(s.created))r.forEach((r=>{t.push({txHash:e,index:r.index,denomination:r.denomination,lock:r.lock})}));for(const[e,r]of Object.entries(s.deleted))r.forEach((t=>{n.push({txHash:e,index:t.index,denomination:t.denomination,lock:t.lock})}));e[r]={created:ei(t),deleted:ei(n)}}return e}const si=new Map;class ni{#q;#$;constructor(t,e){this.#q=t,this.#$=W(e)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#q}set name(t){this.#q=t}get chainId(){return this.#$}set chainId(t){this.#$=W(t,"chainId")}matches(t){if(null==t)return!1;if("string"===typeof t){try{return this.chainId===W(t)}catch(e){}return this.name===t}if("number"===typeof t||"bigint"===typeof t){try{return this.chainId===W(t)}catch(e){}return!1}if("object"===typeof t){if(null!=t.chainId){try{return this.chainId===W(t.chainId)}catch(e){}return!1}return null!=t.name&&this.name===t.name}return!1}clone(){return new ni(this.name,this.chainId)}static from(t){if(null==t)return ni.from("mainnet");if("number"===typeof t&&(t=BigInt(t)),"string"===typeof t||"bigint"===typeof t){const e=si.get(t);if(e)return e();if("bigint"===typeof t)return new ni("unknown",t);x(!1,"unknown network","network",t)}if("function"===typeof t.clone){return t.clone()}if("object"===typeof t){x("string"===typeof t.name&&"number"===typeof t.chainId,"invalid network object name or chainId","network",t);return new ni(t.name,t.chainId)}x(!1,"invalid network","network",t)}static register(t,e){"number"===typeof t&&(t=BigInt(t));const r=si.get(t);r&&x(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",t),si.set(t,e)}}function ii(t){try{return hn(t.slice(0,4))}catch(e){return null}}function oi(t){const e=t.slice(2);if(e.length>2)throw new Error(`Invalid zone: ${t}`);return 0===e.length?[]:e.split("").map(Number)}function ai(t){if(t.length>2)throw new Error("Invalid location");return hn(`0x${t.join("")}`)}const ui=BigInt(0);function hi(t){return null==t?null:t}function li(t){return null==t?null:t.toString()}class ci{gasPrice;minerTip;constructor(t,e){y(this,{gasPrice:hi(t),minerTip:hi(e)})}toJSON(){const{gasPrice:t,minerTip:e}=this;return{_type:"FeeData",gasPrice:li(t),minerTip:li(e)}}}function pi(t){if("from"in t&&t.from)return t.from;if("txInputs"in t&&t.txInputs){return Er(t.txInputs[0].pubkey)}if("txIn"in t&&t.txIn){return Er(t.txIn[0].pubkey)}if("to"in t&&t.to)return t.to;throw new Error("Unable to determine address from transaction inputs, from or to field")}function di(t){const e={};"to"in t&&t.to&&(e.to=t.to),"from"in t&&t.from&&(e.from=t.from),"data"in t&&t.data&&(e.data=R(t.data));const r="chainId,gasLimit,gasPrice,minerTip,value".split(/,/);for(const n of r)n in t&&null!=t[n]&&(e[n]=W(t[n],`request.${n}`));const s="type,nonce".split(/,/);for(const n of s)n in t&&null!=t[n]&&(e[n]=V(t[n],`request.${n}`));return"accessList"in t&&t.accessList&&(e.accessList=nn(t.accessList)),"blockTag"in t&&(e.blockTag=t.blockTag),"customData"in t&&(e.customData=t.customData),"txInputs"in t&&t.txInputs&&(e.txInputs=t.txInputs.map((t=>({...t})))),"txOutputs"in t&&t.txOutputs&&(e.txOutputs=t.txOutputs.map((t=>({...t})))),e}class fi{baseFeePerGas;efficiencyScore;etxEligibleSlices;etxSetRoot;evmRoot;expansionNumber;etxRollupRoot;outboundEtxsRoot;extraData;gasLimit;gasUsed;interlinkRootHash;manifestHash;number;parentDeltaEntropy;parentEntropy;parentHash;parentUncledDeltaEntropy;primeTerminusHash;quaiStateSize;receiptsRoot;uncleHash;size;stateLimit;stateUsed;thresholdCount;transactionsRoot;uncledEntropy;utxoRoot;exchangeRate;quaiToQi;qiToQuai;secondaryCoinbase;constructor(t){this.baseFeePerGas=t.baseFeePerGas,this.efficiencyScore=t.efficiencyScore,this.etxEligibleSlices=t.etxEligibleSlices,this.etxSetRoot=t.etxSetRoot,this.evmRoot=t.evmRoot,this.expansionNumber=t.expansionNumber,this.etxRollupRoot=t.etxRollupRoot,this.outboundEtxsRoot=t.outboundEtxsRoot,this.extraData=t.extraData,this.gasLimit=t.gasLimit,this.gasUsed=t.gasUsed,this.interlinkRootHash=t.interlinkRootHash,this.manifestHash=t.manifestHash,this.number=t.number,this.parentDeltaEntropy=t.parentDeltaEntropy,this.parentEntropy=t.parentEntropy,this.parentHash=t.parentHash,this.parentUncledDeltaEntropy=t.parentUncledDeltaEntropy,this.primeTerminusHash=t.primeTerminusHash,this.quaiStateSize=t.quaiStateSize,this.receiptsRoot=t.receiptsRoot,this.uncleHash=t.uncleHash,this.size=t.size,this.stateLimit=t.stateLimit,this.stateUsed=t.stateUsed,this.thresholdCount=t.thresholdCount,this.transactionsRoot=t.transactionsRoot,this.uncledEntropy=t.uncledEntropy,this.utxoRoot=t.utxoRoot,this.exchangeRate=t.exchangeRate,this.quaiToQi=t.quaiToQi,this.qiToQuai=t.qiToQuai,this.secondaryCoinbase=t.secondaryCoinbase}toJSON(){return{...this}}}class gi{primaryCoinbase;difficulty;headerHash;location;mixHash;nonce;number;parentHash;timestamp;txHash;lock;constructor(t){this.primaryCoinbase=t.primaryCoinbase,this.difficulty=t.difficulty,this.headerHash=t.headerHash,this.location=t.location,this.mixHash=t.mixHash,this.nonce=t.nonce,this.number=t.number,this.parentHash=t.parentHash,this.timestamp=t.timestamp,this.txHash=t.txHash,this.lock=t.lock}toJSON(){return{primaryCoinbase:this.primaryCoinbase,difficulty:this.difficulty,headerHash:this.headerHash,location:this.location,mixHash:this.mixHash,nonce:this.nonce,number:this.number,parentHash:this.parentHash,timestamp:this.timestamp,txHash:this.txHash,lock:this.lock}}}class yi{#V;hash;header;interlinkHashes;size;subManifest;totalEntropy;#G;uncles;woHeader;workShares;provider;constructor(t,e){this.#G=t.transactions.map((t=>"string"===typeof t?t:"originatingTxHash"in t?new wi(t,e):"from"in t?new vi(t,e):new xi(t,e))),this.#V=t.outboundEtxs.map((t=>"string"!==typeof t?new wi(t,e):t)),this.hash=t.hash,this.header=new fi(t.header),this.interlinkHashes=t.interlinkHashes,this.size=t.size,this.subManifest=t.subManifest,this.totalEntropy=t.totalEntropy,this.uncles=t.uncles.map((t=>"string"===typeof t?t:new gi(t))),this.woHeader=new gi(t.woHeader),this.workShares=t.workShares.map((t=>"string"===typeof t?t:new gi(t))),this.provider=e}get transactions(){return this.#G.map((t=>"string"===typeof t?t:t.hash))}get outboundEtxs(){return this.#V.map((t=>"string"===typeof t?t:t.hash))}get prefetchedTransactions(){const t=this.#G.slice();return 0===t.length?[]:(v("object"===typeof t[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),t)}get prefetchedExtTransactions(){const t=this.#V.slice();return 0===t.length?[]:(v("object"===typeof t[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),t)}toJSON(){const{hash:t,header:e,interlinkHashes:r,size:s,subManifest:n,totalEntropy:i,uncles:o,woHeader:a,workShares:u}=this,h=this.transactions;return{outboundEtxs:this.outboundEtxs,hash:t,header:e.toJSON(),interlinkHashes:r,transactions:h,size:s,subManifest:n,totalEntropy:i,uncles:o.map((t=>"string"===typeof t?t:t.toJSON())),woHeader:a.toJSON(),workShares:u.map((t=>"string"===typeof t?t:t.toJSON()))}}[Symbol.iterator](){let t=0;const e=this.transactions;return{next:()=>t<this.length?{value:e[t++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#G.length}get date(){const t=this.woHeader.timestamp;if(!t)return null;const e=parseInt(t,16);return new Date(1e3*e)}async getTransaction(t){let e;if("number"===typeof t)e=this.#G[t];else{const r=t.toLowerCase();for(const t of this.#G){if("string"===typeof t){if(t!==r)continue;e=t;break}if(t.hash!==r){e=t;break}}}if(null==e)throw new Error("no such tx");return"string"===typeof e?await this.provider.getTransaction(e):e}async getExtTransaction(t){let e;if("number"===typeof t)e=this.#V[t];else{const r=t.toLowerCase();for(const t of this.#V){if("string"===typeof t){if(t!==r)continue;e=t;break}if(t.hash!==r){e=t;break}}}if(null==e)throw new Error("no such tx");if("string"===typeof e)throw new Error("External Transaction isn't prefetched");return e}getPrefetchedTransaction(t){const e=this.prefetchedTransactions;if("number"===typeof t)return e[t];t=t.toLowerCase();for(const r of e)if(r.hash===t)return r;x(!1,"no matching transaction","indexOrHash",t)}isMined(){return!!this.hash}orphanedEvent(){if(!this.isMined()||!this.woHeader.number)throw new Error("");return function(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}({hash:this.hash,number:this.woHeader.number})}}class mi{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(t,e){this.provider=e;const r=Object.freeze(t.topics.slice());y(this,{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,removed:t.removed,address:t.address,data:t.data,topics:r,index:t.index,transactionIndex:t.transactionIndex})}toJSON(){const{address:t,blockHash:e,blockNumber:r,data:s,index:n,removed:i,topics:o,transactionHash:a,transactionIndex:u}=this;return{_type:"log",address:t,blockHash:e,blockNumber:r,data:s,index:n,removed:i,topics:o,transactionHash:a,transactionIndex:u}}async getBlock(t){const e=await this.provider.getBlock(t,this.blockHash);return v(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const t=await this.provider.getTransaction(this.transactionHash);return v(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransactionReceipt(){const t=await this.provider.getTransactionReceipt(this.transactionHash);return v(!!t,"failed to find transaction receipt","UNKNOWN_ERROR",{}),t}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(t=this).transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}};var t}}function _i(t){return hn(t.slice(0,4))}class bi{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;cumulativeGasUsed;gasPrice;type;status;#J;outboundEtxs=[];etxType;originatingTxHash;constructor(t,e){this.#J=Object.freeze(Array.isArray(t.logs)?t.logs.map((t=>new mi(t,e))):[]);let r=ui;null!=t.effectiveGasPrice?r=t.effectiveGasPrice:null!=t.gasPrice&&(r=t.gasPrice);const s=t.outboundEtxs?t.outboundEtxs.map((t=>{const e=(t,e)=>{try{return null!=t?BigInt(t):null}catch(r){return console.error(`Conversion to BigInt failed for ${e}: ${t}, error: ${r}`),null}};return{type:t.type,nonce:t.nonce,gasPrice:e(t.gasPrice,"gasPrice"),minerTip:e(t.minerTip,"minerTip"),gas:e(t.gas,"gas"),value:e(t.value,"value"),input:t.input,to:t.to,accessList:t.accessList,chainId:e(t.chainId,"chainId"),from:t.from,hash:t.hash,originatingTxHash:t.originatingTxHash,etxIndex:t.etxIndex}})):[];y(this,{provider:e,to:t.to,from:t.from,contractAddress:t.contractAddress,hash:t.hash,index:t.index,blockHash:t.blockHash,blockNumber:t.blockNumber,logsBloom:t.logsBloom,gasUsed:t.gasUsed,cumulativeGasUsed:t.cumulativeGasUsed,gasPrice:r,outboundEtxs:s,type:t.type,status:t.status,etxType:t.etxType,originatingTxHash:t.originatingTxHash})}get logs(){return this.#J}toJSON(){const{to:t,from:e,contractAddress:r,hash:s,index:n,blockHash:i,blockNumber:o,logsBloom:a,logs:u,status:h,outboundEtxs:l}=this;return{_type:"TransactionReceipt",blockHash:i,blockNumber:o,contractAddress:r,cumulativeGasUsed:li(this.cumulativeGasUsed),from:e,gasPrice:li(this.gasPrice),gasUsed:li(this.gasUsed),hash:s,index:n,logs:u,logsBloom:a,status:h,to:t,outboundEtxs:l??[]}}get length(){return this.logs.length}[Symbol.iterator](){let t=0;return{next:()=>t<this.length?{value:this.logs[t++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(t){const e=await this.provider.getBlock(t,this.blockHash);if(null==e)throw new Error("TODO");return e}async getTransaction(){const t=await this.provider.getTransaction(this.hash);if(null==t)throw new Error("TODO");return t}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){const t=_i(this.hash);return await this.provider.getBlockNumber(pn(t))-this.blockNumber+1}removedEvent(){return Oi(this)}reorderedEvent(t){return v(!t||t.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),ki(this,t)}}class wi{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;data;value;chainId;signature;accessList;etxType;originatingTxHash;sender;etxIndex;startBlock;constructor(t,e){this.provider=e,this.blockNumber=null!=t.blockNumber?t.blockNumber:null,this.blockHash=null!=t.blockHash?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.from=t.from,this.to=t.to||null,this.gasLimit=t.gasLimit,this.nonce=t.nonce,this.data=t.data,this.value=t.value,this.chainId=t.chainId,this.signature=t.signature,this.accessList=null!=t.accessList?t.accessList:null,this.startBlock=-1,this.originatingTxHash=null!=t.originatingTxHash?t.originatingTxHash:null,this.etxType=null!=t.etxType?t.etxType:null,this.etxIndex=t.etxIndex}toJSON(){const{blockNumber:t,blockHash:e,index:r,hash:s,type:n,to:i,from:o,nonce:a,data:u,signature:h,accessList:l,etxType:c,originatingTxHash:p,etxIndex:d}=this;return{_type:"TransactionReceipt",accessList:l,blockNumber:t,blockHash:e,chainId:li(this.chainId),data:u,from:o,gasLimit:li(this.gasLimit),hash:s,nonce:a,signature:h,to:i,index:r,type:n,etxType:c,originatingTxHash:p,etxIndex:d,value:li(this.value)}}replaceableTransaction(t){x(Number.isInteger(t)&&t>=0,"invalid startBlock","startBlock",t);const e=new wi(this,this.provider);return e.startBlock=t,e}}class vi{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;minerTip;gasPrice;data;value;chainId;signature;accessList;etxType;sender;originatingTxHash;startBlock;constructor(t,e){this.provider=e,this.blockNumber=null!=t.blockNumber?t.blockNumber:null,this.blockHash=null!=t.blockHash?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.from=t.from,this.to=t.to||null,this.gasLimit=t.gasLimit,this.nonce=t.nonce,this.data=t.data,this.value=t.value,this.minerTip=null!=t.minerTip?t.minerTip:null,this.gasPrice=null!=t.gasPrice?t.gasPrice:null,this.chainId=t.chainId,this.signature=t.signature,this.accessList=null!=t.accessList?t.accessList:null,this.startBlock=-1,this.etxType=null!=t.etxType?t.etxType:null}toJSON(){const{blockNumber:t,blockHash:e,index:r,hash:s,type:n,to:i,from:o,nonce:a,data:u,signature:h,accessList:l}=this;return{_type:"TransactionReceipt",accessList:l,blockNumber:t,blockHash:e,chainId:li(this.chainId),data:u,from:o,gasLimit:li(this.gasLimit),hash:s,gasPrice:li(this.gasPrice),minerTip:li(this.minerTip),nonce:a,signature:h,to:i,index:r,type:n,value:li(this.value)}}async getBlock(t){let e=this.blockNumber;if(null==e){const t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;const r=this.provider.getBlock(t,e);if(null==r)throw new Error("TODO");return r}async getTransaction(){const t=this.provider.getTransaction(this.hash);return t instanceof vi?t:null}async confirmations(){const t=_i(this.hash);if(null==this.blockNumber){const{tx:e,blockNumber:r}=await g({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber(pn(t))});return null==e||null==e.blockNumber?0:r-e.blockNumber+1}return await this.provider.getBlockNumber(pn(t))-this.blockNumber+1}async wait(t,e){const r=null==t?1:t,s=null==e?0:e;let n=this.startBlock,i=-1,o=-1===n;const a=_i(this.hash),u=async()=>{if(o)return null;const{blockNumber:t,nonce:e}=await g({blockNumber:this.provider.getBlockNumber(pn(a)),nonce:this.provider.getTransactionCount(this.from)});if(e<this.nonce)return void(n=t);if(o)return null;const s=await this.getTransaction();if(!s||null==s.blockNumber)for(-1===i&&(i=n-3,i<this.startBlock&&(i=this.startBlock));i<=t;){if(o)return null;const e=await this.provider.getBlock(pn(a),i,!0);if(null==e)return;for(const t of e)if(t===this.hash)return;for(let s=0;s<e.length;s++){const i=await e.getTransaction(s);if("from"in i&&i.from===this.from&&i.nonce===this.nonce){if(o)return null;const e=await this.provider.getTransactionReceipt(i.hash);if(null==e)return;if(t-e.blockNumber+1<r)return;let s="replaced";i.data===this.data&&i.to===this.to&&i.value===this.value?s="repriced":"0x"===i.data&&i.from===i.to&&i.value===ui&&(s="cancelled"),v(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===s||"cancelled"===s,reason:s,replacement:i.replaceableTransaction(n),hash:i.hash,receipt:e})}}i++}},h=t=>{if(null==t||0!==t.status)return t;v(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:t.to,from:t.from,data:""},receipt:t})},l=await this.provider.getTransactionReceipt(this.hash);if(0===r)return h(l);if(l){if(await l.confirmations()>=r)return h(l)}else if(await u(),0===r)return null;const c=new Promise(((t,e)=>{const i=[],l=()=>{i.forEach((t=>t()))};if(i.push((()=>{o=!0})),s>0){const t=setTimeout((()=>{l(),e(w("wait for transaction timeout","TIMEOUT"))}),s);i.push((()=>{clearTimeout(t)}))}const c=async s=>{if(await s.confirmations()>=r){l();try{t(h(s))}catch(n){e(n)}}};if(i.push((()=>{this.provider.off(this.hash,c)})),this.provider.on(this.hash,c),n>=0){const t=async()=>{try{await u()}catch(r){if(_(r,"TRANSACTION_REPLACED"))return l(),void e(r)}o||this.provider.once("block",t,a)};i.push((()=>{this.provider.off("block",t,a)})),this.provider.once("block",t,a)}}));return await c}isMined(){return null!=this.blockHash}removedEvent(){return v(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Oi(this)}reorderedEvent(t){return v(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),v(!t||t.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ki(this,t)}replaceableTransaction(t){x(Number.isInteger(t)&&t>=0,"invalid startBlock","startBlock",t);const e=new vi(this,this.provider);return e.startBlock=t,e}}class xi{provider;blockNumber;blockHash;index;hash;type;chainId;signature;txInputs;txOutputs;startBlock;constructor(t,e){this.provider=e,this.blockNumber=null!=t.blockNumber?t.blockNumber:null,this.blockHash=null!=t.blockHash?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.chainId=t.chainId,this.signature=t.signature,this.startBlock=-1,this.txInputs=t.txInputs,this.txOutputs=t.txOutputs}toJSON(){const{blockNumber:t,blockHash:e,index:r,hash:s,type:n,signature:i,txInputs:o,txOutputs:a}=this;return{_type:"TransactionReceipt",blockNumber:t,blockHash:e,chainId:li(this.chainId),hash:s,signature:i,index:r,type:n,txInputs:JSON.parse(JSON.stringify(o)),txOutputs:JSON.parse(JSON.stringify(a))}}async getBlock(t){let e=this.blockNumber;if(null==e){const t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;const r=this.provider.getBlock(t,e);if(null==r)throw new Error("TODO");return r}async getTransaction(){const t=this.provider.getTransaction(this.hash);return t instanceof xi?t:null}async confirmations(){const t=_i(this.hash);if(null==this.blockNumber){const{tx:e,blockNumber:r}=await g({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber(pn(t))});return null==e||null==e.blockNumber||null==e.blockHash?0:r-e.blockNumber+1}return await this.provider.getBlockNumber(pn(t))-this.blockNumber+1}async wait(t,e){const r=null==t?1:t,s=null==e?0:e,n=await this.provider.getTransaction(this.hash);if(0===r&&null!=n?.blockHash)return n;const i=new Promise(((t,e)=>{const n=[],i=()=>{n.forEach((t=>t()))};if(s>0){const t=setTimeout((()=>{i(),e(w("wait for transaction timeout","TIMEOUT"))}),s);n.push((()=>{clearTimeout(t)}))}const o=async s=>{if(await s.confirmations()>=r){i();try{t(s)}catch(n){e(n)}}};n.push((()=>{this.provider.off(this.hash,o)})),this.provider.on(this.hash,o)}));return await i}isMined(){return null!=this.blockHash}removedEvent(){return v(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Oi(this)}reorderedEvent(t){return v(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),v(!t||t.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ki(this,t)}replaceableTransaction(t){x(Number.isInteger(t)&&t>=0,"invalid startBlock","startBlock",t);const e=new xi(this,this.provider);return e.startBlock=t,e}}function ki(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function Oi(t){return{orphan:"drop-transaction",tx:t}}function Ei(t){let e=null;if(t.nodeLocation)e=ai(t.nodeLocation);else if(t.address){let r;r=Array.isArray(t.address)?t.address[0]:t.address;const s=ii(r);if(!s)return null;e=hn(s)}return e}function Mi(t){return R(Tn.ProtoTransaction.fromObject(t).serialize())}class Ai{_type;_signature;_chainId;get type(){return this._type}set type(t){switch(t){case null:this._type=null;break;case 0:case"standard":this._type=0;break;case 2:case"utxo":this._type=2;break;default:x(!1,"unsupported transaction type","type",t)}}get typeName(){switch(this.type){case 0:return"standard";case 1:return"external";case 2:return"utxo"}return null}get chainId(){return this._chainId}set chainId(t){this._chainId=W(t)}get signature(){return this._signature||null}set signature(t){this._signature="string"===typeof t?t:null==t?null:vr.from(t)}constructor(){this._type=null,this._chainId=BigInt(0),this._signature=null}get digest(){return Vt(this.unsignedSerialized)}isSigned(){return null!=this.signature}get serialized(){return v(null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),Mi(this.toProtobuf(!0))}get unsignedSerialized(){return Mi(this.toProtobuf(!1))}inferType(){return this.inferTypes().pop()}get isExternal(){return void 0!==this.destZone&&this.originZone!==this.destZone}}var Fi=r(1876).Buffer;class Bi extends Ai{#K;#Z;get txInputs(){return(this.#K??[]).map((t=>({...t})))}set txInputs(t){if(!Array.isArray(t))throw new Error("txInputs must be an array");this.#K=t.map((t=>({...t})))}get txOutputs(){return(this.#Z??[]).map((t=>({...t})))}set txOutputs(t){if(!Array.isArray(t))throw new Error("txOutputs must be an array");this.#Z=t.map((t=>({...t})))}get hash(){if(null==this.signature)return null;if(this.txInputs.length<1||this.txOutputs.length<1)throw new Error("Transaction must have at least one input and one output");const t=Er(this.txInputs[0].pubkey||"");if(!this.destZone||!this.originZone)throw new Error(`Invalid zones: origin ${this.originZone} ->  destination ${this.destZone} (address: ${t})`);const e=en(t)===en(R(this.txOutputs[0].address)||"");if(this.isExternal&&!e)throw new Error("Cross-zone & cross-ledger transactions are not supported");const r=this.serialized.startsWith("0x")?this.serialized.substring(2):this.serialized,s=Vt(Fi.from(r,"hex")),n=Fi.from(s.substring(2),"hex"),i=A(this.txInputs[0].txhash)[2];return n[0]=i,n[1]|=128,n[2]=i,n[3]|=128,"0x"+n.toString("hex")}get originZone(){return ii(Er(this.txInputs[0].pubkey||""))??void 0}get destZone(){return ii(this.txOutputs[0].address)??void 0}constructor(){super(),this.#K=[],this.#Z=[]}inferTypes(){const t=[];return null!=this.type?t.push(this.type):t.push(2),t.sort(),t}clone(){return Bi.from(this)}toJSON(){return{type:this.type,chainId:(t=this.chainId,null==t?null:t.toString()),signature:this.signature?this.signature:null,hash:this.hash,txInputs:this.txInputs,txOutputs:this.txOutputs};var t}toProtobuf(t=!0){const e={type:this.type||2,chain_id:Cn(this.chainId||0,"chainId"),tx_ins:{tx_ins:this.txInputs.map((t=>({previous_out_point:{hash:{value:A(t.txhash)},index:t.index},pub_key:A(t.pubkey)})))},tx_outs:{tx_outs:this.txOutputs.map((t=>({address:A(t.address),denomination:t.denomination,lock:new Uint8Array})))}};return this.signature&&t&&(e.signature=A(this.signature)),e}static from(t){if("string"===typeof t){const e=Pn(A(t));return Bi.fromProto(e)}const e=new Bi;return null!=t.type&&(e.type=t.type),null!=t.chainId&&(e.chainId=t.chainId),null!=t.signature&&""!==t.signature&&(e.signature=t.signature),null!=t.txInputs&&(e.txInputs=t.txInputs),null!=t.txOutputs&&(e.txOutputs=t.txOutputs),null!=t.hash&&x(e.isSigned(),"unsigned transaction cannot define hash","tx",t),e}static fromProto(t){const e=new Bi;return e.type=t.type,e.chainId=$(t.chain_id),e.txInputs=t.tx_ins?.tx_ins.map((t=>({txhash:R(t.previous_out_point.hash.value),index:t.previous_out_point.index,pubkey:R(t.pub_key)})))??[],e.txOutputs=t.tx_outs?.tx_outs.map((t=>({address:R(t.address),denomination:t.denomination,lock:t.lock?R(t.lock):""})))??[],t.signature&&(e.signature=R(t.signature)),e}}var Ti=r(1876).Buffer;function Ri(t){let e;try{if(r=t[0],s="yParity",e="0x"===r?0:V(r,s),0!==e&&1!==e)throw new Error("bad yParity")}catch(o){x(!1,"invalid yParity","yParity",t[0])}var r,s;const n=I(t[1],32),i=I(t[2],32);return vr.from({r:n,s:i,yParity:e})}class Pi extends Ai{#Q;#e;#Y;#X;#tt;#et;#rt;#st;from;get to(){return this.#Q}set to(t){null!==t&&tn(t),this.#Q=t}get hash(){if(null==this.signature)return null;if(!this.originZone)throw new Error("Invalid Zone for from address");if(!this.from)throw new Error("Missing from address");const t=!this.to||rn(this.from)===rn(this.to);if(this.isExternal&&!t)throw new Error("Cross-zone & cross-ledger transactions are not supported");const e=this.serialized.startsWith("0x")?this.serialized.substring(2):this.serialized,r=Vt(Ti.from(e,"hex")),s=Ti.from(r.substring(2),"hex"),n=this.originZone?parseInt(this.originZone.slice(2),16):0;return s[0]=n,s[1]&=127,s[2]=n,s[3]&=127,"0x"+s.toString("hex")}get originZone(){return(this.from?ii(this.from):void 0)??void 0}get destZone(){return(null!==this.to?ii(this.to||""):void 0)??void 0}get nonce(){return this.#Y}set nonce(t){this.#Y=V(t,"value")}get gasLimit(){return this.#X}set gasLimit(t){this.#X=W(t)}get minerTip(){const t=this.#et;return null==t?null:t}set minerTip(t){this.#et=null==t?null:W(t,"minerTip")}get gasPrice(){const t=this.#tt;return null==t?null:t}set gasPrice(t){this.#tt=null==t?null:W(t,"gasPrice")}get data(){return this.#e}set data(t){this.#e=R(t)}get value(){return this.#rt}set value(t){this.#rt=W(t,"value")}get accessList(){const t=this.#st||null;return null==t?null:t}set accessList(t){this.#st=null==t?null:nn(t)}constructor(t){super(),this.#Q=null,this.#Y=0,this.#X=BigInt(0),this.#tt=null,this.#et=null,this.#tt=null,this.#e="0x",this.#rt=BigInt(0),this.#st=null,this.from=t}inferTypes(){null!=this.gasPrice&&null!=this.minerTip&&v(this.gasPrice>=this.minerTip,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),v(0!==this.type&&1!==this.type,"transaction type cannot have externalGasLimit, externalGasTip, externalGasPrice, externalData, or externalAccessList","BAD_DATA",{value:this});const t=[];return null!=this.type?t.push(this.type):t.push(0),t.sort(),t}clone(){return Pi.from(this)}toJSON(){const t=t=>null==t?null:t.toString();return{type:this.type,to:this.to,from:this.from,data:this.data,nonce:this.nonce,gasLimit:t(this.gasLimit),gasPrice:t(this.gasPrice),minerTip:t(this.minerTip),value:t(this.value),chainId:t(this.chainId),signature:this.signature?this.signature.toJSON():null,hash:this.hash,accessList:this.accessList}}toProtobuf(t=!0){const e={type:this.type||0,chain_id:Cn(this.chainId||0,"chainId"),nonce:this.nonce||0,miner_tip:Cn(this.minerTip||0,"minerTip"),gas_price:Cn(this.gasPrice||0,"gasPrice"),gas:Number(this.gasLimit||0),to:null!=this.to?A(this.to):null,value:Cn(this.value||0,"value"),data:A(this.data||"0x"),access_list:{access_tuples:this.accessList?.map((t=>({address:A(t.address),storage_key:t.storageKeys.map((t=>({value:A(t)})))})))||[]}};return this.signature&&t&&(e.v=Cn(this.signature.yParity,"yParity"),e.r=J(this.signature.r),e.s=J(this.signature.s)),e}static from(t){if("string"===typeof t){const e=Pn(A(t));return Pi.fromProto(e)}const e=new Pi(t.from);return null!=t.type&&(e.type=t.type),null!=t.to&&(tn(t.to),e.to=t.to),null!=t.nonce&&(e.nonce=t.nonce),null!=t.gasLimit&&(e.gasLimit=t.gasLimit),null!=t.minerTip&&(e.minerTip=t.minerTip),null!=t.gasPrice&&(e.gasPrice=t.gasPrice),null!=t.data&&""!==t.data&&(e.data=t.data),null!=t.value&&(e.value=t.value),null!=t.chainId&&(e.chainId=t.chainId),null!=t.signature&&(e.signature=vr.from(t.signature)),null!=t.accessList&&(e.accessList=t.accessList),null!=t.hash&&x(e.isSigned(),"unsigned transaction cannot define hash","tx",t),null!=t.from&&(x(rn(t.from),"from address must be a Quai address","tx.from",t.from),x((e.from||"").toLowerCase()===(t.from||"").toLowerCase(),"from mismatch","tx",t),e.from=t.from),e}static fromProto(t){let e=null,r="";delete t.etx_sender,delete t.etx_index,delete t.work_nonce,delete t.etx_type;const s=structuredClone(t);if(t.v&&t.r&&t.s){if(0==t.r.reduce(((t,e)=>t+e),0))throw new Error("Proto decoding only supported for signed transactions");e=Ri([R(t.v),R(t.r),R(t.s)]),delete s.v,delete s.r,delete s.s,delete s.signature,r=function(t,e){return Er(xr.recoverPublicKey(t,e))}(Vt(Mi(s)),e)}const n=new Pi(r);if(e&&(n.signature=e),null!==t.to){const e=R(t.to);n.to=Or(e)}return n.type=t.type,n.chainId=$(t.chain_id),n.nonce=Number(t.nonce),n.minerTip=$(t.miner_tip),n.gasPrice=$(t.gas_price),n.gasLimit=$(t.gas),n.value=null!==t.value?$(t.value):BigInt(0),n.data=R(t.data),n.accessList=t.access_list.access_tuples.map((t=>({address:kr(R(t.address)),storageKeys:t.storage_key.map((t=>R(t.value)))}))),n}}function Si(t){return JSON.parse(JSON.stringify(t))}class ji{#nt;#it;#ot;#at;#ut;constructor(t,e){this.#nt=t,this.#at=e,this.#it=null,this.#ot=4e3,this.#ut=-2}get pollingInterval(){return this.#ot}set pollingInterval(t){this.#ot=t}async#ht(){try{const t=await this.#nt.getBlockNumber(pn(this.#at));if(-2===this.#ut)return void(this.#ut=t);if(t!==this.#ut){for(let e=this.#ut+1;e<=t;e++){if(null==this.#it)return;await this.#nt.emit("block",this.#at,e)}this.#ut=t}}catch(t){}null!=this.#it&&(this.#it=this.#nt._setTimeout(this.#ht.bind(this),this.#ot))}start(){this.#it||(this.#it=this.#nt._setTimeout(this.#ht.bind(this),this.#ot),this.#ht())}stop(){this.#it&&(this.#nt._clearTimeout(this.#it),this.#it=null)}pause(t){this.stop(),t&&(this.#ut=-2)}resume(){this.start()}}class zi{#nt;#ht;#lt;#at;constructor(t,e){this.#nt=t,this.#at=e,this.#lt=!1,this.#ht=t=>{this._poll(t,this.#nt)}}async _poll(t,e){throw new Error("sub-classes must override this")}start(){this.#lt||(this.#lt=!0,this.#ht(-2),this.#nt.on("block",this.#ht,this.#at))}stop(){this.#lt&&(this.#lt=!1,this.#nt.off("block",this.#ht,this.#at))}pause(t){this.stop()}resume(){this.start()}}class Ii extends zi{#ct;constructor(t,e,r){super(t,r),this.#ct=Si(e)}async _poll(t,e){throw new Error("@TODO")}}class Ni extends zi{#pt;constructor(t,e,r){super(t,r),this.#pt=e}async _poll(t,e){const r=await e.getTransactionReceipt(this.#pt);r&&e.emit(this.#pt,hn(this.#pt.slice(0,4)),r)}}class Ui extends zi{#pt;constructor(t,e,r){super(t,r),this.#pt=e}async _poll(t,e){const r=await e.getTransaction(this.#pt);r&&r.isMined()&&e.emit(this.#pt,hn(this.#pt.slice(0,4)),r)}}class Ci{#nt;#ct;#it;#lt;#ut;#at;constructor(t,e){this.#nt=t,this.#ct=Si(e),this.#it=this.#ht.bind(this),this.#lt=!1,this.#ut=-2;const r=Ei(this.#ct);if(!r)throw new Error("Unable to determine zone for event filter");this.#at=r}async#ht(t){if(-2===this.#ut)return;const e=Si(this.#ct);e.fromBlock=this.#ut+1,e.toBlock=t;const r=await this.#nt.getLogs(e);if(0!==r.length)for(const s of r)this.#nt.emit(this.#ct,ai(this.#ct.nodeLocation),s),this.#ut=s.blockNumber;else this.#ut<t-60&&(this.#ut=t-60)}start(){this.#lt||(this.#lt=!0,-2===this.#ut&&this.#nt.getBlockNumber(pn(this.#at)).then((t=>{this.#ut=t})),this.#nt.on("block",this.#it,this.#at))}stop(){this.#lt&&(this.#lt=!1,this.#nt.off("block",this.#it,this.#at))}pause(t){this.stop(),t&&(this.#ut=-2)}resume(){this.start()}}function Li(t){return t&&"function"===typeof t.then}function Hi(t,e){return t+":"+JSON.stringify(e,((t,e)=>{if(null==e)return"null";if("bigint"===typeof e)return`bigint:${e.toString()}`;if("string"===typeof e)return e.toLowerCase();if("object"===typeof e&&!Array.isArray(e)){const t=Object.keys(e);return t.sort(),t.reduce(((t,r)=>(t[r]=e[r],t)),{})}return e}))}class Wi{name;constructor(t){y(this,{name:t})}start(){}stop(){}pause(t){}resume(){}}function Di(t){return(t=Array.from(new Set(t).values())).sort(),t}async function qi(t,e){if(null==t)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),"string"===typeof t){if("debug"===t)return{type:t,tag:t};switch(t){case"block":case"pending":if(!e)throw new Error("zone is required for block and pending events");return{type:"block",tag:t,zone:e};case"error":case"finalized":case"network":case"safe":return{type:t,tag:t}}}if(B(t,32)){const r=128===(128&A(t)[1]),s=t.toLowerCase();return e=hn(s.slice(0,4)),r?{type:"qiTransaction",tag:Hi("Tx",{hash:s}),hash:s,zone:e}:{type:"transaction",tag:Hi("tx",{hash:s}),hash:s,zone:e}}if(t.orphan){const s=t;if(!e){const t=s.hash||s.tx.hash||s.other?.hash||s.log.transactionHash||null;if(null==t)throw new Error("orphan event must specify a hash");e=hn(t.slice(0,4))}return{type:"orphan",tag:Hi("orphan",s),filter:(r=s,JSON.parse(JSON.stringify(r))),zone:e}}var r;if(t.type&&t.address){const r=kr(B(t.address)?t.address:await Xs(t.address)),s={type:t.type,address:r};return e||(e=hn(r.slice(0,4))),{filter:s,tag:Hi("accesses",s),type:"accesses",zone:e}}if(t.topics||t.address){const r=t,s={topics:(r.topics||[]).map((t=>null==t?null:Array.isArray(t)?Di(t.map((t=>t.toLowerCase()))):t.toLowerCase()))};if(r.nodeLocation&&(s.nodeLocation=r.nodeLocation),r.address){const t=[],n=[],i=e=>{B(e)?t.push(kr(e)):n.push((async()=>{t.push(kr(await Xs(e)))})())};Array.isArray(r.address)?r.address.forEach(i):i(r.address),n.length&&await Promise.all(n),e||(e=hn(t[0].slice(0,4))),s.address=Di(t.map((t=>t.toLowerCase()))),s.nodeLocation||(s.nodeLocation=oi(e))}else if(!e)throw new Error("zone is required for event");return{filter:s,tag:Hi("event",s),type:"event",zone:e}}x(!1,"unknown ProviderEvent","event",t)}function $i(){return(new Date).getTime()}const Vi={cacheTimeout:250,pollingInterval:4e3,usePathing:!0};class Gi{#nt;#dt;#it;#lt;#ft;#gt;zone;constructor(t,e){this.#nt=t,this.#dt=null,this.#it=this.#ht.bind(this),this.#lt=!1,this.#ft=null,this.#gt=!1,this.zone=e}_subscribe(t){throw new Error("subclasses must override this")}_emitResults(t,e){throw new Error("subclasses must override this")}_recover(t){throw new Error("subclasses must override this")}async#ht(t){try{null==this.#dt&&(this.#dt=this._subscribe(this.#nt));let t=null;try{t=await this.#dt}catch(e){if(!_(e,"UNSUPPORTED_OPERATION")||"quai_newFilter"!==e.operation)throw e}if(null==t)return this.#dt=null,void this.#nt._recoverSubscriber(this,this._recover(this.#nt));const r=await this.#nt.getNetwork();if(this.#ft||(this.#ft=r),this.#ft.chainId!==r.chainId)throw new Error("chain changed");if(this.#gt)return;const s=await this.#nt.send("quai_getFilterChanges",[t]);await this._emitResults(this.#nt,s)}catch(e){console.log("@TODO",e)}this.#nt.once("block",this.#it,this.zone)}#yt(){const t=this.#dt;t&&(this.#dt=null,t.then((t=>{this.#nt.send("quai_uninstallFilter",[t])})))}start(){this.#lt||(this.#lt=!0,this.#ht(-2))}stop(){this.#lt&&(this.#lt=!1,this.#gt=!0,this.#yt(),this.#nt.off("block",this.#it,this.zone))}pause(t){t&&this.#yt(),this.#nt.off("block",this.#it,this.zone)}resume(){this.start()}}class Ji extends Gi{#mt;constructor(t,e){const r=Ei(e);if(null==r)throw new Error("Unable to determine zone for event filter");var s;super(t,r),this.#mt=(s=e,JSON.parse(JSON.stringify(s)))}_recover(t){return new Ci(t,this.#mt)}async _subscribe(t){return await t.send("quai_newFilter",[this.#mt])}async _emitResults(t,e){for(const r of e)t.emit(this.#mt,this.zone,t._wrapLog(r,t._network))}}class Ki extends Gi{async _subscribe(t){return await t.send("quai_newPendingTransactionFilter",[])}async _emitResults(t,e){for(const r of e)t.emit("pending",this.zone,r)}}const Zi=new Uint8Array(32);Zi.fill(0);const Qi=BigInt(-1),Yi=BigInt(0),Xi=BigInt(1),to=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const eo=G(Xi,32),ro=G(Yi,32),so={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},no=["name","version","chainId","verifyingContract","salt"];function io(t){return function(e){return x("string"===typeof e,`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const oo={name:io("name"),version:io("version"),chainId:function(t){const e=W(t,"domain.chainId");return x(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):K(e)},verifyingContract:function(t){try{return Or(t)}catch(e){}x(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=A(t,"domain.salt");return x(32===e.length,'invalid domain value "salt"',"domain.salt",t),R(e)}};function ao(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=""===e[1],s=parseInt(e[2]||"256");x(s%8===0&&0!==s&&s<=256&&(null==e[2]||e[2]===String(s)),"invalid numeric width","type",t);const n=H(to,r?s-1:s),i=r?(n+Xi)*Qi:Yi;return function(e){const s=W(e,"value");return x(s>=i&&s<=n,`value out-of-bounds for ${t}`,"value",s),G(r?L(s,256):s,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return x(0!==r&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(e){return x(A(e).length===r,`invalid length for ${t}`,"value",e),function(t){const e=A(t),r=e.length%32;return r?P([e,Zi.slice(r)]):R(e)}(e)}}}switch(t){case"address":return function(t){return I(Or(t),32)};case"bool":return function(t){return t?eo:ro};case"bytes":return function(t){return Vt(t)};case"string":return function(t){return Xr(t)}}return null}function uo(t,e){return`${t}(${e.map((({name:t,type:e})=>e+" "+t)).join(",")})`}class ho{primaryType;#_t;get types(){return JSON.parse(this.#_t)}#bt;#wt;constructor(t){this.#_t=JSON.stringify(t),this.#bt=new Map,this.#wt=new Map;const e=new Map,r=new Map,s=new Map;Object.keys(t).forEach((t=>{e.set(t,new Set),r.set(t,[]),s.set(t,new Set)}));for(const i in t){const s=new Set;for(const n of t[i]){x(!s.has(n.name),`duplicate variable name ${JSON.stringify(n.name)} in ${JSON.stringify(i)}`,"types",t),s.add(n.name);const o=n.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;x(o!==i,`circular type reference to ${JSON.stringify(o)}`,"types",t);ao(o)||(x(r.has(o),`unknown type ${JSON.stringify(o)}`,"types",t),r.get(o).push(i),e.get(i).add(o))}}const n=Array.from(r.keys()).filter((t=>0===r.get(t).length));x(0!==n.length,"missing primary type","types",t),x(1===n.length,`ambiguous primary types or unused types: ${n.map((t=>JSON.stringify(t))).join(", ")}`,"types",t),y(this,{primaryType:n[0]}),function n(i,o){x(!o.has(i),`circular type reference to ${JSON.stringify(i)}`,"types",t),o.add(i);for(const t of e.get(i))if(r.has(t)){n(t,o);for(const e of o)s.get(e).add(t)}o.delete(i)}(this.primaryType,new Set);for(const[i,o]of s){const e=Array.from(o);e.sort(),this.#bt.set(i,uo(i,t[i])+e.map((e=>uo(e,t[e]))).join(""))}}getEncoder(t){let e=this.#wt.get(t);return e||(e=this.#vt(t),this.#wt.set(t,e)),e}#vt(t){{const e=ao(t);if(e)return e}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const t=e[1],r=this.getEncoder(t);return s=>{x(!e[3]||parseInt(e[3])===s.length,`array length mismatch; expected length ${parseInt(e[3])}`,"value",s);let n=s.map(r);return this.#bt.has(t)&&(n=n.map(Vt)),Vt(P(n))}}const r=this.types[t];if(r){const e=Xr(this.#bt.get(t));return t=>{const s=r.map((({name:e,type:r})=>{const s=this.getEncoder(r)(t[e]);return this.#bt.has(r)?Vt(s):s}));return s.unshift(e),P(s)}}x(!1,`unknown type: ${t}`,"type",t)}encodeType(t){const e=this.#bt.get(t);return x(e,`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return Vt(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(ao(t))return r(t,e);const s=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(s)return x(!s[3]||parseInt(s[3])===e.length,`array length mismatch; expected length ${parseInt(s[3])}`,"value",e),e.map((t=>this._visit(s[1],t,r)));const n=this.types[t];if(n)return n.reduce(((t,{name:s,type:n})=>(t[s]=this._visit(n,e[s],r),t)),{});x(!1,`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new ho(t)}static getPrimaryType(t){return ho.from(t).primaryType}static hashStruct(t,e,r){return ho.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){if(null==t[r])continue;const s=so[r];x(s,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",t),e.push({name:r,type:s})}return e.sort(((t,e)=>no.indexOf(t.name)-no.indexOf(e.name))),ho.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,r){return P(["0x1901",ho.hashDomain(t),ho.from(e).hash(r)])}static hash(t,e,r){return Vt(ho.encode(t,e,r))}static getPayload(t,e,r){ho.hashDomain(t);const s={},n=[];no.forEach((e=>{const r=t[e];null!=r&&(s[e]=oo[e](r),n.push({name:e,type:so[e]}))}));const i=ho.from(e),o=Object.assign({},e);return x(null==o.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",e),o.EIP712Domain=n,i.encode(r),{types:o,domain:s,primaryType:i.primaryType,message:i.visit(r,((t,e)=>{if(t.match(/^bytes(\d*)/))return R(A(e));if(t.match(/^u?int/))return W(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return!!e;case"string":return x("string"===typeof e,"invalid string","value",e),e}x(!1,"unsupported type","type",t)}))}}}function lo(t,e){if(t.provider)return t.provider;v(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function co(t,e){const r=di(e);if(null!=r.to&&(r.to=Xs(r.to),tn(r.to)),null!=r.from){const e=r.from;r.from=await Promise.all([t.getAddress(),Xs(e)]).then((([t,e])=>(x(t.toLowerCase()===e.toLowerCase(),"transaction from mismatch","tx.from",e),t)))}else r.from=await t.getAddress();return tn(r.from),await g(r)}class po{provider;constructor(t){y(this,{provider:t||null})}_getAddress(t){return Xs(t)}async zoneFromAddress(t){const e=this._getAddress(t);return hn((await e).slice(0,4))}async getNonce(t){return lo(this,"getTransactionCount").getTransactionCount(await this.getAddress(),t)}async populateCall(t){return await co(this,t)}async populateQuaiTransaction(t){const e=lo(this,"populateTransaction"),r=await this.zoneFromAddress(t.from),s=await co(this,t);null==s.type&&(s.type=function(t,e){if(null===t||null===e)return 0;const r=en(t),s=en(e);switch(!0){case r&&s:return 2;case r&&!s:return 1;default:return 0}}(s.from??null,s.to??null)),null!=s.nonce&&0!==s.nonce||(s.nonce=await this.getNonce("pending"));const n=await this.provider.getNetwork();if(null!=s.chainId&&0n!==s.chainId){x(W(s.chainId)===n.chainId,"transaction chainId mismatch","tx.chainId",r)}else s.chainId=n.chainId;const i={chainId:s.chainId,type:s.type,from:s.from,nonce:s.nonce};if(s.to&&(i.to=s.to),s.data&&(i.data=s.data),s.value&&(i.value=s.value),null!=s.gasLimit&&0n!==s.gasLimit||(0==s.type?s.gasLimit=await this.estimateGas(i):(i.to="0x0000000000000000000000000000000000000000",s.gasLimit=W(2*Number(await this.estimateGas(i))),i.to=s.to)),null==s.gasPrice||null==s.minerTip){const t=await e.getFeeData(r,!0);null==s.gasPrice&&(s.gasPrice=t.gasPrice),null==s.minerTip&&(s.minerTip=t.minerTip||10n)}return s.data&&(t.accessList?s.accessList=t.accessList:s.accessList=await this.createAccessList(i)),await g(s)}async estimateGas(t){return lo(this,"estimateGas").estimateGas(await this.populateCall(t))}async createAccessList(t){return lo(this,"createAccessList").createAccessList(await this.populateCall(t))}async call(t){return lo(this,"call").call(await this.populateCall(t))}async sendTransaction(t){const e=lo(this,"sendTransaction"),r=await this.zoneFromAddress(pi(t)),s=await this.populateQuaiTransaction(t),n=Pi.from(s),i=await this.getAddress(),o=await this.signTransaction(n);return await e.broadcastTransaction(r,o,i)}}const fo="bigint,boolean,function,number,string,symbol".split(/,/g);function go(t){if(null==t||fo.indexOf(typeof t)>=0)return t;if("function"===typeof t.getAddress)return t;if(Array.isArray(t))return t.map(go);if("object"===typeof t)return Object.keys(t).reduce(((e,r)=>(e[r]=t[r],e)),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function yo(t){return new Promise((e=>{setTimeout(e,t)}))}const mo={staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,usePathing:!0};class _o extends po{address;constructor(t,e){super(t),y(this,{address:e=Or(e)})}connect(t){v(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateQuaiTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){const e=go(t),r=[];if("from"in e){if(e.from){const s=e.from;r.push((async()=>{const r=await Xs(s);x(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),e.from=r})())}else e.from=this.address;if(null==e.gasLimit&&r.push((async()=>{e.gasLimit=await this.provider.estimateGas({...e,from:this.address})})()),null!=e.to){const t=e.to;r.push((async()=>{e.to=await Xs(t)})())}}r.length&&await Promise.all(r);const s=this.provider.getRpcTransaction(e);return this.provider.send("quai_sendTransaction",[s])}async sendTransaction(t){const e=await this.zoneFromAddress(pi(t)),r=await this.provider.getBlockNumber(pn(e)),s=await this.sendUncheckedTransaction(t);return await new Promise(((t,e)=>{const n=[1e3,100];let i=0;const o=async()=>{try{const e=await this.provider.getTransaction(s);if(null!=e)return void t(e.replaceableTransaction(r))}catch(a){if(_(a,"CANCELLED")||_(a,"BAD_DATA")||_(a,"NETWORK_ERROR")||_(a,"UNSUPPORTED_OPERATION"))return null==a.info&&(a.info={}),a.info.sendTransactionHash=s,void e(a);if(_(a,"INVALID_ARGUMENT")&&(i++,null==a.info&&(a.info={}),a.info.sendTransactionHash=s,i>10))return void e(a);this.provider.emit("error",_i(s),w("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:a}))}this.provider._setTimeout((()=>{o()}),n.pop()||4e3)};o()}))}async signTransaction(t){const e=go(t);if(!("from"in e))throw new Error("No QI signing implementation in provider-jsonrpc");if(e.from){const r=await Xs(e.from);x(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),e.from=r}else e.from=this.address;const r=this.provider.getRpcTransaction(e);return await this.provider.send("quai_signTransaction",[r])}async signMessage(t){const e="string"===typeof t?Kr(t):t;return await this.provider.send("personal_sign",[R(e),this.address.toLowerCase()])}async signTypedData(t,e,r){const s=go(r);return await this.provider.send("quai_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(ho.getPayload(t,e,s))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){const e="string"===typeof t?Kr(t):t;return await this.provider.send("quai_sign",[this.address.toLowerCase(),R(e)])}}class bo extends class{_urlMap;#xt;#kt;#Ot;#Et;#Mt;#At;#Ft;#Bt;#Tt;#Rt;#g;_initFailed;initResolvePromise;initRejectPromise;initPromise;attemptConnect;constructor(t,e){if(this._initFailed=!1,this.attemptConnect=!0,this.#g=Object.assign({},Vi,e||{}),"any"===t)this.#At=!0,this.#Mt=null;else if(t){const e=ni.from(t);this.#At=!1,this.#Mt=Promise.resolve(e),setTimeout((()=>{this.emit("network",void 0,e,null)}),0)}else this.#At=!1,this.#Mt=null;this.#Bt=-1,this.#Ft=new Map,this.#kt=new Map,this.#Ot=null,this.#Et=!1,this.#Tt=1,this.#Rt=new Map,this.#xt=[],this._urlMap=new Map,this.initResolvePromise=null,this.initRejectPromise=null,this.initPromise=new Promise(((t,e)=>{this.initResolvePromise=t,this.initRejectPromise=e}))}async initialize(t){this.initPromise=new Promise(((t,e)=>{this.initResolvePromise=t,this.initRejectPromise=e}));try{const e=this.#g.usePathing?`/${dn(ln.Prime,"nickname")}`:":9001";if(t instanceof En){t.url=t.url.split(":")[0]+":"+t.url.split(":")[1]+e,this._urlMap.set(ln.Prime,t),this.#xt.push(t);return void(await this._waitGetRunningLocations(ln.Prime,!0)).forEach((e=>{const r=9200+20*e[0]+e[1],s=pn(`0x${e[0].toString(16)}${e[1].toString(16)}`),n=this.#g.usePathing?`/${dn(s,"nickname")}`:`:${r}`;this._urlMap.set(s,new En(t.url.split(":")[0]+":"+t.url.split(":")[1]+n))}))}if(Array.isArray(t))for(const r of t){const t=r.split(":")[0]+":"+r.split(":")[1]+e,s=new En(t);this._urlMap.set(ln.Prime,s),this.#xt.push(s);(await this._waitGetRunningLocations(ln.Prime,!0)).forEach((t=>{const e=9200+20*t[0]+t[1],s=pn(`0x${t[0].toString(16)}${t[1].toString(16)}`),n=this.#g.usePathing?`/${dn(s,"nickname")}`:`:${e}`;this._urlMap.set(pn(`0x${t[0].toString(16)}${t[1].toString(16)}`),new En(r.split(":")[0]+":"+r.split(":")[1]+n))}))}this.initResolvePromise&&this.initResolvePromise()}catch(e){this._initFailed=!0,console.log("Error initializing URL map:",e),this.initRejectPromise&&this.initRejectPromise(e)}}get connect(){return this.#xt}async zoneFromAddress(t){const e=this._getAddress(t);return hn((await e).slice(0,4))}shardFromHash(t){return pn(t.slice(0,4))}zoneFromHash(t){return hn(t.slice(0,4))}async getLatestQuaiRate(t,e){const r=await this.getBlockNumber(pn(t));return this.getQuaiRateAtBlock(t,r,e)}async getQuaiRateAtBlock(t,e,r){let s=this._getBlockTag(pn(t),e);return"string"!==typeof s&&(s=await s),W(await this.#Pt({method:"getQuaiRateAtBlock",blockTag:s,amt:K(String(r)),zone:t}))}async getProtocolExpansionNumber(){return V(await this.#Pt({method:"getProtocolExpansionNumber"}))}async getActiveRegions(){const t=await this.getProtocolExpansionNumber(),e=[ln.Cyprus];return t>=1&&e.push(ln.Paxos),t>=3&&e.push(ln.Hydra),e.sort(((t,e)=>t.localeCompare(e)))}async getActiveZones(){const t=await this.getProtocolExpansionNumber(),e=[on.Cyprus1];return t>=1&&e.push(on.Cyprus2),t>=2&&e.push(on.Paxos1,on.Paxos2),t>=3&&e.push(on.Cyprus3,on.Paxos3,on.Hydra1,on.Hydra2,on.Hydra3),e.sort(((t,e)=>t.localeCompare(e)))}async getLatestQiRate(t,e){const r=await this.getBlockNumber(pn(t));return this.getQiRateAtBlock(t,r,e)}async getQiRateAtBlock(t,e,r){let s=this._getBlockTag(pn(t),e);return"string"!==typeof s&&(s=await s),W(await this.#Pt({method:"getQiRateAtBlock",blockTag:s,amt:K(String(r)),zone:t}))}get pollingInterval(){return this.#g.pollingInterval}get provider(){return this}async#Pt(t){this.attemptConnect=!0;const e=this.#g.cacheTimeout;if(e<0)return await this._perform(t);const r=Hi(t.method,t);let s=this.#Ft.get(r);return(!s||r.includes("pending")||r.includes("latest"))&&(s=this._perform(t),this.#Ft.set(r,s),setTimeout((()=>{this.#Ft.get(r)===s&&this.#Ft.delete(r)}),e)),await s}_wrapBlock(t,e){return new yi(function(t){const e=Dn(t);return e.transactions=t.transactions.map((t=>"string"===typeof t?t:"originatingTxHash"in t?Kn(t):Jn(t))),e.outboundEtxs=t.outboundEtxs.map((t=>"string"===typeof t?t:Kn(t))),e}(t),this)}_wrapLog(t,e){return new mi(function(t){return Ln(t)}(t),this)}_wrapTransactionReceipt(t,e){const r=function(t){return Gn(t)}(t);return new bi(r,this)}_wrapTransactionResponse(t,e){try{const e=Jn(t);if("0x0"===t.type||0===t.type)return new vi(e,this);if("0x1"===t.type||1===t.type)return new wi(e,this);if("0x2"===t.type||2===t.type)return new xi(e,this);throw new Error(`Unknown transaction type: ${t.type}`)}catch(r){throw console.error("Error in _wrapTransactionResponse:",r),r}}_detectNetwork(){v(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(t){v(!1,`unsupported method: ${t.method}`,"UNSUPPORTED_OPERATION",{operation:t.method,info:t})}async getBlockNumber(t){const e=V(await this.#Pt({method:"getBlockNumber",shard:t}),"%response");return this.#Bt>=0&&(this.#Bt=e),e}_getAddress(t){return Xs(t)}_getBlockTag(t,e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return B(e)?B(e,32)?e:K(e):("bigint"===typeof e&&(e=V(e,"blockTag")),"number"===typeof e?e>=0?K(e):this.#Bt>=0?K(this.#Bt+e):this.getBlockNumber(t).then((t=>K(t+e))):void x(!1,"invalid blockTag","blockTag",e))}_getFilter(t){const e=(t.topics||[]).map((t=>null==t?null:Array.isArray(t)?Di(t.map((t=>t.toLowerCase()))):t.toLowerCase())),r="blockHash"in t?t.blockHash:void 0,s=(t,s,n,i)=>{let o;switch(t.length){case 0:break;case 1:o=t[0];break;default:t.sort(),o=t}if(r&&(null!=s||null!=n))throw new Error("invalid filter");const a={};return o&&(a.address=o),e.length&&(a.topics=e),s&&(a.fromBlock=s),n&&(a.toBlock=n),r&&(a.blockHash=r),i&&(a.nodeLocation=i),a},n=[];if(t.address)if(Array.isArray(t.address))for(const h of t.address)n.push(this._getAddress(h));else n.push(this._getAddress(t.address));const i=ai(t.nodeLocation);let o,a,u;return"fromBlock"in t&&(o=this._getBlockTag(pn(i),t.fromBlock)),"toBlock"in t&&(a=this._getBlockTag(pn(i),t.toBlock)),t.nodeLocation&&(u=t.nodeLocation),n.filter((t=>"string"!==typeof t)).length||null!=o&&"string"!==typeof o||null!=a&&"string"!==typeof a?Promise.all([Promise.all(n),o,a,u]).then((t=>s(t[0],t[1],t[2],t[3]))):s(n,o,a,u)}_getTransactionRequest(t){const e=di(t),r=[];if(["to","from","inputs","outputs"].forEach((t=>{if(null==e[t])return;const s=Array.isArray(e[t])?"address"in e[t][0]?e[t].map((t=>t.address)):e[t].map((t=>Er(t.pubkey))):Xs(e[t]);if(Li(s))if(Array.isArray(s))for(let n=0;n<s.length;n++)r.push(async function(){e[t][n].address=await s[n]}());else r.push(async function(){e[t]=await s}());else e[t]=s})),null!=e.blockTag){const t=this._getBlockTag(pn(e.chainId.toString()),e.blockTag);Li(t)?r.push(async function(){e.blockTag=await t}()):e.blockTag=t}return r.length?async function(){return await Promise.all(r),e}():e}async getNetwork(){if(null==this.#Mt){const t=(async()=>{try{const t=await this._detectNetwork();return this.emit("network",void 0,t,null),t}catch(e){throw this.#Mt===t&&(this.#Mt=null),e}})();return this.#Mt=t,(await t).clone()}const t=this.#Mt,[e,r]=await Promise.all([t,this._detectNetwork()]);return e.chainId!==r.chainId&&(this.#At?(this.emit("network",void 0,r,e),this.#Mt===t&&(this.#Mt=Promise.resolve(r))):v(!1,`network changed: ${e.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),e.clone()}async _waitGetRunningLocations(t,e){let r=0,s=[];for(;;)try{if(this.attemptConnect){r>5&&(r=0),s=await this._getRunningLocations(t,e);break}await new Promise((t=>setTimeout(t,1e3)))}catch(n){r++,r>5&&(this.attemptConnect=!1),await new Promise((t=>setTimeout(t,1e3)))}if(0===s.length)throw new Error("could not get running locations");return s}async _getRunningLocations(t,e){return e=e||!1,await this.#Pt(t?{method:"getRunningLocations",shard:t,now:e}:{method:"getRunningLocations",now:e})}async getRunningLocations(t){return await this._getRunningLocations(t)}async getProtocolTrieExpansionCount(t){return await this.#Pt({method:"getProtocolTrieExpansionCount",shard:t})}async getFeeData(t,e=!0){return await(async()=>{const{gasPrice:r,minerTip:s}=await g({gasPrice:(async()=>{try{return W(await this.#Pt({method:"getGasPrice",txType:e,zone:t}),"%response")}catch(r){console.log(r)}return null})(),minerTip:(async()=>{try{return W(e?await this.#Pt({method:"getMinerTip",zone:t}):0,"%response")}catch(r){}return null})()});if(null==r)throw new Error("could not determine gasPrice");let n=null;return n=null!=s?s:BigInt("1000000000"),new ci(r,n)})()}async estimateGas(t){let e=this._getTransactionRequest(t);Li(e)&&(e=await e);const r=await this.zoneFromAddress(pi(e));return W(await this.#Pt({method:"estimateGas",transaction:e,zone:r}),"%response")*BigInt(2)}async estimateFeeForQi(t){const e=await this.zoneFromAddress(pi(t));return W(await this.#Pt({method:"estimateFeeForQi",transaction:t,zone:e}),"%response")}async createAccessList(t){let e=this._getTransactionRequest(t);Li(e)&&(e=await e);const r=await this.zoneFromAddress(pi(e));return(await this.#Pt({method:"createAccessList",transaction:e,zone:r})).accessList}async#St(t,e,r,s){const n=di(t);return R(await this._perform({method:"call",transaction:n,blockTag:e,zone:s}))}async#jt(t,e){const{value:r}=await g({network:this.getNetwork(),value:t});return r}async call(t){const e=await this.zoneFromAddress(pi(t)),r=pn(e),{tx:s,blockTag:n}=await g({tx:this._getTransactionRequest(t),blockTag:this._getBlockTag(r,t.blockTag)});return await this.#jt(this.#St(s,n,-1,e),r)}async#zt(t,e,r){let s=this._getAddress(e);const n=await this.zoneFromAddress(e),i=pn(n);let o=this._getBlockTag(i,r);return"string"===typeof s&&"string"===typeof o||([s,o]=await Promise.all([s,o])),await this.#jt(this.#Pt(Object.assign(t,{address:s,blockTag:o,zone:n})),i)}async getBalance(t,e){return W(await this.#zt({method:"getBalance"},t,e),"%response")}async getLockedBalance(t){return W(await this.#zt({method:"getLockedBalance"},t),"%response")}async getOutpointsByAddress(t){return ei(await this.#zt({method:"getOutpointsByAddress"},t,"latest"))}async getTransactionCount(t,e){return V(await this.#zt({method:"getTransactionCount"},t,e),"%response")}async getCode(t,e){return R(await this.#zt({method:"getCode"},t,e))}async getStorage(t,e,r){const s=W(e,"position");return R(await this.#zt({method:"getStorage",position:s},t,r))}async getPendingHeader(){return await this.#Pt({method:"getPendingHeader"})}async getTxPoolContent(t){return await this.#Pt({method:"getTxPoolContent",zone:t})}async txPoolInspect(t){return await this.#Pt({method:"txPoolInspect",zone:t})}async broadcastTransaction(t,e){const r=Pn(A(e)).type;try{const{blockNumber:s,hash:n,network:i}=await g({blockNumber:this.getBlockNumber(pn(t)),hash:this._perform({method:"broadcastTransaction",signedTransaction:e,zone:t}),network:this.getNetwork()}),o=2==r?Bi.from(e):Pi.from(e),a=o.toJSON();if(this.#It(o.hash||"",n),2==r)return new xi(a,this);return this._wrapTransactionResponse(a,i).replaceableTransaction(s)}catch(s){throw console.error("Error in broadcastTransaction:",s),s}}#It(t,e){if(t!==e)throw new Error(`Transaction hash mismatch: ${t} !== ${e}`)}validateUrl(t){if(!/^(https?):\/\/[a-zA-Z0-9.-]+(:\d+)?$/.test(t)){let e="Invalid URL: ";throw/^https?:\/\//.test(t)||(e+="URL must start with http:// or https://. "),t.endsWith("/")&&(e+="URL should not end with a /. "),/\/[^/]+/.test(t)&&(e+="URL should not contain a path, query string, or fragment. "),new Error(e.trim())}}async#Nt(t,e,r){if(B(e,32))return await this.#Pt({method:"getBlock",blockHash:e,includeTransactions:r,shard:t});let s=this._getBlockTag(t,e);return"string"!==typeof s&&(s=await s),await this.#Pt({method:"getBlock",blockTag:s,includeTransactions:r,shard:t})}async getBlock(t,e,r){const{network:s,params:n}=await g({network:this.getNetwork(),params:this.#Nt(t,e,!!r)});return null==n?null:this._wrapBlock(n,s)}async getTransaction(t){const e=hn(this.shardFromHash(t)),{network:r,params:s}=await g({network:this.getNetwork(),params:this.#Pt({method:"getTransaction",hash:t,zone:e})});return null==s?null:this._wrapTransactionResponse(s,r)}async getTransactionReceipt(t){const e=hn(this.shardFromHash(t)),{network:r,params:s}=await g({network:this.getNetwork(),params:this.#Pt({method:"getTransactionReceipt",hash:t,zone:e})});if(null==s)return null;if(null==s.gasPrice&&null==s.effectiveGasPrice){const r=await this.#Pt({method:"getTransaction",hash:t,zone:e});if(null==r)throw new Error("report this; could not find tx or effectiveGasPrice");s.effectiveGasPrice=r.gasPrice}return this._wrapTransactionReceipt(s,r)}async getTransactionResult(t){const e=hn(this.shardFromHash(t)),{result:r}=await g({network:this.getNetwork(),result:this.#Pt({method:"getTransactionResult",hash:t,zone:e})});return null==r?null:R(r)}async getOutpointDeltas(t,e,r){for(const _ of t)x(en(_),`Invalid Qi address: ${_}`,"addresses",t);x(B(e,32),"invalid startHash","startHash",e),r?x(B(r,32),"invalid endHash","endHash",r):r="latest";const s=await this.zoneFromAddress(t[0]),n=pn(s),[i,o]=await Promise.all([this.getBlock(n,e),this.getBlock(n,r)]);if(null==i)throw new Error("Could not find start block");if(null==o)throw new Error("Could not find end block");const a=V(i.woHeader.number,"startBlockNumber"),u=V(o.woHeader.number,"endBlockNumber");x(a<=u,"startBlockNumber must be less than or equal to endBlockNumber","startBlockNumber",a);const h=[],l=[];let c=a,p=e;for(;c<=u;){const t=Math.min(c+999,u);l.push(t),c=t+1}const d=l.map((t=>this.getBlock(n,t))),f=await Promise.all(d);c=a,p=e;for(let _=0;_<f.length;_++){const t=f[_];if(!t)throw new Error(`Could not find block for block number ${l[_]}`);const e=t.hash;h.push({startHash:p,endHash:e}),c=l[_]+1,p=e}const g=h.map((e=>this.#Pt({method:"getOutpointDeltasForAddressesInRange",addresses:t,startHash:e.startHash,endHash:e.endHash,zone:s}).then(ri))),y=await Promise.all(g),m={};for(const _ of y)for(const[t,e]of Object.entries(_))m[t]||(m[t]={created:[],deleted:[]}),m[t].created.push(...e.created),m[t].deleted.push(...e.deleted);return m}async getLogs(t){let e=this._getFilter(t);Li(e)&&(e=await e);const{network:r,params:s}=await g({network:this.getNetwork(),params:this.#Pt({method:"getLogs",filter:e,zone:ai(e.nodeLocation)})});return s.map((t=>this._wrapLog(t,r)))}_getProvider(t){v(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async waitForTransaction(t,e,r){const s=this.zoneFromHash(t),n=null!=e?e:1;return 0===n?this.getTransactionReceipt(t):new Promise((async(e,i)=>{let o=null;const a=async r=>{try{const s=await this.getTransactionReceipt(t);if(null!=s&&r-s.blockNumber+1>=n)return e(s),void(o&&(clearTimeout(o),o=null))}catch(i){console.log("Error occured while waiting for transaction:",i)}this.once("block",a,s)};null!=r&&(o=setTimeout((()=>{null!=o&&(o=null,this.off("block",a,s),i(w("timeout","TIMEOUT",{reason:"timeout"})))}),r)),a(await this.getBlockNumber(pn(s)))}))}async waitForBlock(t,e){v(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(t){const e=this.#Rt.get(t);e&&(e.timer&&clearTimeout(e.timer),this.#Rt.delete(t))}_setTimeout(t,e){null==e&&(e=0);const r=this.#Tt++,s=()=>{this.#Rt.delete(r),t()};if(this.paused)this.#Rt.set(r,{timer:null,func:s,time:e});else{const t=setTimeout(s,e);this.#Rt.set(r,{timer:t,func:s,time:$i()})}return r}_forEachSubscriber(t){for(const e of this.#kt.values())t(e.subscriber)}_getSubscriber(t){switch(t.type){case"debug":case"error":case"network":return new Wi(t.type);case"block":{const e=new ji(this,t.zone);return e.pollingInterval=this.pollingInterval,e}case"event":return new Ci(this,t.filter);case"transaction":return new Ni(this,t.hash,t.zone);case"qiTransaction":return new Ui(this,t.hash,t.zone);case"orphan":return new Ii(this,t.filter,t.zone)}throw new Error(`unsupported event: ${t.type}`)}_recoverSubscriber(t,e){for(const r of this.#kt.values())if(r.subscriber===t){r.started&&r.subscriber.stop(),r.subscriber=e,r.started&&e.start(),null!=this.#Ot&&e.pause(this.#Ot);break}}async#Ut(t,e,r){let s=await qi(t,r);return"event"===s.type&&e&&e.length>0&&!0===e[0].removed&&(s=await qi({orphan:"drop-log",log:e[0]},r)),this.#kt.get(s.tag)||null}async#Ct(t,e){const r=await qi(t,e),s=r.tag;let n=this.#kt.get(s);if(!n){n={subscriber:this._getSubscriber(r),tag:s,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[],zone:r.zone},this.#kt.set(s,n)}return n}async startZoneSubscriptions(t){for(const e of Array.from(this.#kt.values()))e.zone===t&&e.started&&await e.subscriber.start()}async on(t,e,r){const s=await this.#Ct(t,r);return s.listeners.push({listener:e,once:!1}),s.started||(s.subscriber.start(),s.started=!0,null!=this.#Ot&&s.subscriber.pause(this.#Ot)),this}async once(t,e,r){const s=await this.#Ct(t,r);return s.listeners.push({listener:e,once:!0}),s.started||(s.subscriber.start(),s.started=!0,null!=this.#Ot&&s.subscriber.pause(this.#Ot)),this}async emit(t,e,...r){const s=await this.#Ut(t,r,e);if(!s||0===s.listeners.length)return!1;const n=s.listeners.length;return s.listeners=s.listeners.filter((({listener:e,once:s})=>{const n=new Fn(this,s?null:e,t);try{e.call(this,...r,n)}catch(i){}return!s})),0===s.listeners.length&&(s.started&&s.subscriber.stop(),this.#kt.delete(s.tag)),n>0}async listenerCount(t){if(t){const e=await this.#Ut(t);return e?e.listeners.length:0}let e=0;for(const{listeners:r}of this.#kt.values())e+=r.length;return e}async listeners(t){if(t){const e=await this.#Ut(t);return e?e.listeners.map((({listener:t})=>t)):[]}let e=[];for(const{listeners:r}of this.#kt.values())e=e.concat(r.map((({listener:t})=>t)));return e}async off(t,e,r){const s=await this.#Ut(t,[],r);if(!s)return this;if(e){const t=s.listeners.map((({listener:t})=>t)).indexOf(e);t>=0&&s.listeners.splice(t,1)}return e&&0!==s.listeners.length||(s.started&&s.subscriber.stop(),this.#kt.delete(s.tag)),this}async removeAllListeners(t){if(t){const{tag:e,started:r,subscriber:s}=await this.#Ct(t);r&&s.stop(),this.#kt.delete(e)}else for(const[e,{started:r,subscriber:s}]of this.#kt)r&&s.stop(),this.#kt.delete(e);return this}async addListener(t,e,r){return await this.on(t,e,r)}async removeListener(t,e,r){return this.off(t,e,r)}get destroyed(){return this.#Et}destroy(){this.removeAllListeners();for(const t of this.#Rt.keys())this._clearTimeout(t);this.#Et=!0}get paused(){return null!=this.#Ot}set paused(t){!!t!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(t){if(this.#Bt=-1,null!=this.#Ot){if(this.#Ot==!!t)return;v(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((e=>e.pause(t))),this.#Ot=!!t;for(const e of this.#Rt.values())e.timer&&clearTimeout(e.timer),e.time=$i()-e.time}resume(){if(null!=this.#Ot){this._forEachSubscriber((t=>t.resume())),this.#Ot=null;for(const t of this.#Rt.values()){let e=t.time;e<0&&(e=0),t.time=$i(),setTimeout(t.func,e)}}}}{#g;#Lt;#Ht;#Wt;#Dt;#ft;#qt;#$t(){if(this.#Wt)return;const t=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#Wt=setTimeout((()=>{this.#Wt=null;const t=this.#Ht;for(this.#Ht=[];t.length;){const e=[t.shift()];for(;t.length&&e.length!==this.#g.batchMaxCount;){e.push(t.shift());if(JSON.stringify(e.map((t=>t.payload))).length>this.#g.batchMaxSize){t.unshift(e.pop());break}}(async()=>{const t=new Map,r=new Map;for(let u=0;u<e.length;u++)e[u].now?r.has(e[u].shard)?r.get(e[u].shard)?.push(e[u].payload):null!=e[u].payload&&r.set(e[u].shard,[e[u].payload]):t.has(e[u].shard)?t.get(e[u].shard)?.push(e[u].payload):null!=e[u].payload&&t.set(e[u].shard,[e[u].payload]);const s=[],n=async(t,e,r)=>{const n=1===e.length?e[0]:e,i=t?pn(t):ln.Prime,o=i.length<4?void 0:hn(i);this.emit("debug",o,{action:"sendRpcPayload",payload:n}),s.push(await this._send(n,i,r)),this.emit("debug",o,{action:"receiveRpcResult",payload:n})};await Promise.all(Array.from(r).map((async([t,e])=>{await n(t,e,!0)})).concat(Array.from(t).map((async([t,e])=>{await n(t,e)}))));const i=s.flat();let o;try{for(const{resolve:t,reject:r,payload:s,shard:n}of e){if(this.destroyed){r(w("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:s.method}));continue}o=n?n.length<4?void 0:hn(n):void 0;const e=i.filter((t=>t.id===s.id))[0];if(null!=e)"error"in e?r(this.getRpcError(s,e,n)):t(e.result);else{const t=w("missing response for request","BAD_DATA",{value:i,info:{payload:s}});this.emit("error",o,t),r(t)}}}catch(a){this.emit("debug",o,{action:"receiveRpcError",error:a});for(const{reject:t}of e)t(a)}})()}}),t)}constructor(t,e){super(t,e),this.#Lt=1,this.#g=Object.assign({},mo,e||{}),this.#Ht=[],this.#Wt=null,this.#ft=null,this.#qt=null;{let t=null;const e=new Promise((e=>{t=e}));this.#Dt={promise:e,resolve:t}}const r=this._getOption("staticNetwork");"boolean"===typeof r?(x(!r||"any"!==t,"staticNetwork cannot be used on special network 'any'","options",e),r&&null!=t&&(this.#ft=ni.from(t))):r&&(x(null==t||r.matches(t),"staticNetwork MUST match network object","options",e),this.#ft=r)}_getOption(t){return this.#g[t]}get _network(){return v(this.#ft,"network is not available yet","NETWORK_ERROR"),this.#ft}async _perform(t){if("getRunningLocations"!==t.method&&await this.initPromise,"call"===t.method||"estimateGas"===t.method){const e=t.transaction;if(e&&null!=e.type&&W(e.type)&&null==e.gasPrice&&null==e.minerTip){const r=await this.getFeeData(t.zone,1===e.type);null==r.gasPrice&&null==r.minerTip&&(t=Object.assign({},t,{transaction:Object.assign({},e,{type:void 0})}))}}const e=this.getRpcRequest(t);if(null!=e){const r="shard"in t?t.shard:"zone"in t?pn(t.zone):void 0;return"getRunningLocations"===t.method?await this.send(e.method,e.args,r,t.now):await this.send(e.method,e.args,r)}return super._perform(t)}async _detectNetwork(){const t=this._getOption("staticNetwork");if(t){if(!0!==t)return t;if(this.#ft)return this.#ft}return this.#qt?await this.#qt:this.ready?(this.#qt=(async()=>{try{const t=ni.from(W(await this.send("quai_chainId",[])));return this.#qt=null,t}catch(t){throw this.#qt=null,t}})(),await this.#qt):(this.#qt=(async()=>{const t={id:this.#Lt++,method:"quai_chainId",params:[],jsonrpc:"2.0"};let e;this.emit("debug",void 0,{action:"sendRpcPayload",payload:t});try{e=(await this._send(t))[0],this.#qt=null}catch(r){throw this.#qt=null,this.emit("debug",void 0,{action:"receiveRpcError",error:r}),r}if(this.emit("debug",void 0,{action:"receiveRpcResult",result:e}),"result"in e)return ni.from(W(e.result));throw this.getRpcError(t,e)})(),await this.#qt)}_start(){this.attemptConnect=!0,null!=this.#Dt&&null!=this.#Dt.resolve&&(this.#Dt.resolve(),this.#Dt=null,(async()=>{let t=0;for(;null==this.#ft&&!this.destroyed&&t<5;)try{this.#ft=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retrying (perhaps the URL is wrong or the node is not started)"),this.emit("error",void 0,w("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await yo(1e3*Math.pow(2,t)),t++}t>=5&&(console.log("JsonRpcProvider failed to detect network and cannot start up; retry limit reached"),w("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{retries:t}})),this.#$t()})())}async _waitUntilReady(){if(this._initFailed)throw console.log("init failed"),new Error("Provider failed to initialize on creation. Run initialize or create a new provider.");let t=!0;(async()=>{for(;t;)this.attemptConnect=!0,await new Promise((t=>setTimeout(t,2e3)))})();try{await this.initPromise}finally{t=!1}}_getSubscriber(t){return"pending"===t.type?new Ki(this,t.zone):"event"===t.type?new Ji(this,t.filter):"orphan"===t.type&&"drop-log"===t.filter.orphan?new Wi("orphan"):super._getSubscriber(t)}get ready(){return null==this.#Dt}getRpcTransaction(t){const e={};return"from"in t||"to"in t&&"data"in t?(["chainId","gasLimit","gasPrice","type","gasPrice","minerTip","nonce","value"].forEach((r=>{if(null==t[r])return;let s=r;"gasLimit"===r&&(s="gas"),e[s]=K(W(t[r],`tx.${r}`))})),["from","to","data"].forEach((r=>{null!=t[r]&&(e[r]=R(t[r]))})),"accessList"in t&&t.accessList&&(e.accessList=nn(t.accessList))):(null!=t.txInputs&&(e.txInputs=t.txInputs.map((t=>({txhash:R(t.txhash),index:K(W(t.index,`tx.txInputs.${t.index}`)),pubkey:R(t.pubkey)})))),null!=t.txOutputs&&(e.txOutputs=t.txOutputs.map((t=>({address:R(t.address),denomination:K(W(t.denomination,`tx.txOutputs.${t.denomination}`))}))))),e}getRpcRequest(t){switch(t.method){case"chainId":return{method:"quai_chainId",args:[]};case"getBlockNumber":return{method:"quai_blockNumber",args:[]};case"getGasPrice":return{method:"quai_gasPrice",args:[]};case"getMinerTip":return{method:"quai_minerTip",args:[]};case"getPendingHeader":return{method:"quai_getPendingHeader",args:[]};case"getBalance":return{method:"quai_getBalance",args:[t.address,t.blockTag]};case"getLockedBalance":return{method:"quai_getLockedBalance",args:[t.address]};case"getOutpointsByAddress":return{method:"quai_getOutpointsByAddress",args:[t.address]};case"getTransactionCount":return{method:"quai_getTransactionCount",args:[t.address,t.blockTag]};case"getCode":return{method:"quai_getCode",args:[t.address,t.blockTag]};case"getStorage":return{method:"quai_getStorageAt",args:[t.address,"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"quai_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"quai_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"quai_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"quai_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"quai_getTransactionReceipt",args:[t.hash]};case"call":return{method:"quai_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"quai_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"estimateFeeForQi":return{method:"quai_estimateFeeForQi",args:[t.transaction]};case"createAccessList":return{method:"quai_createAccessList",args:[this.getRpcTransaction(t.transaction)]};case"getRunningLocations":return{method:"quai_listRunningChains",args:[]};case"getProtocolTrieExpansionCount":case"getProtocolExpansionNumber":return{method:"quai_getProtocolExpansionNumber",args:[]};case"getQiRateAtBlock":return{method:"quai_qiRateAtBlock",args:[t.blockTag,t.amt]};case"getQuaiRateAtBlock":return{method:"quai_quaiRateAtBlock",args:[t.blockTag,t.amt]};case"getLogs":return{method:"quai_getLogs",args:[t.filter]};case"getTxPoolContent":return{method:"txpool_content",args:[]};case"txPoolInspect":return{method:"txpool_inspect",args:[]};case"getOutpointDeltasForAddressesInRange":return{method:"quai_getOutpointDeltasForAddressesInRange",args:[t.addresses,t.startHash,t.endHash]}}return null}getRpcError(t,e,r){const{method:s}=t,{error:n}=e;if("quai_estimateGas"===s&&n.message){const e=n.message;if(!e.match(/revert/i)&&e.match(/insufficient funds/i))return w("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:n,shard:r}})}if("quai_call"===s||"quai_estimateGas"===s){const e=wo(n),i=Zs.getBuiltinCallException("quai_call"===s?"call":"estimateGas",t.params[0],e?e.data:null);return i.info={error:n,payload:t,shard:r},i}const i=JSON.stringify(function(t){const e=[];return vo(t,e),e}(n));if("quai_getTransactionByHash"===s&&n.message&&n.message.match(/transaction not found/i))return w("transaction not found","TRANSACTION_NOT_FOUND",{info:{payload:t,error:n,shard:r}});if("string"===typeof n.message&&n.message.match(/user denied|quais-user-denied/i)){return w("user rejected action","ACTION_REJECTED",{action:{quai_sign:"signMessage",personal_sign:"signMessage",quai_signTypedData_v4:"signTypedData",quai_signTransaction:"signTransaction",quai_sendTransaction:"sendTransaction",quai_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:t,error:n,shard:r}})}if("quai_sendRawTransaction"===s||"quai_sendTransaction"===s){const e=t.params[0];if(i.match(/insufficient funds|base fee exceeds gas limit/i))return w("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:e,info:{error:n,shard:r}});if(i.match(/nonce/i)&&i.match(/too low/i))return w("nonce has already been used","NONCE_EXPIRED",{transaction:e,info:{error:n,shard:r}});if(i.match(/replacement transaction/i)&&i.match(/underpriced/i))return w("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:e,info:{error:n,shard:r}});if(i.match(/only replay-protected/i))return w("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:e,info:{error:n,shard:r}}});if(i.match(/already known/i))return w("transaction already known","TRANSACTION_ALREADY_KNOWN",{info:{error:n,shard:r}})}let o=!!i.match(/the method .* does not exist/i);return o||n&&n.details&&n.details.startsWith("Unauthorized method:")&&(o=!0),o?w("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:n,payload:t,shard:r}}):i.match("Provider failed to initialize on creation. Run initialize or create a new provider.")?w("Provider failed to initialize on creation. Run initUrlMap or create a new provider.","PROVIDER_FAILED_TO_INITIALIZE",{info:{payload:t,error:n,shard:r}}):w("could not coalesce error","UNKNOWN_ERROR",{error:n,payload:t,shard:r})}send(t,e,r,s){const n=()=>{if(this.destroyed)return Promise.reject(w("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));const n=this.#Lt++,i=new Promise(((i,o)=>{this.#Ht.push({resolve:i,reject:o,payload:{method:t,params:e,id:n,jsonrpc:"2.0"},shard:r,now:s})}));return this.#$t(),i};return"quai_listRunningChains"!==t?this.initPromise.then((()=>n())):n()}async getSigner(t){null==t&&(t=0);const e=this.send("quai_accounts",[]);if("number"===typeof t){const r=await e;if(t>=r.length)throw new Error("no such account");return new _o(this,r[t])}const{accounts:r}=await g({network:this.getNetwork(),accounts:e});t=Or(t);for(const s of r)if(Or(s)===t)return new _o(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("quai_accounts",[])).map((t=>new _o(this,t)))}destroy(){this.#Wt&&(clearTimeout(this.#Wt),this.#Wt=null);for(const{payload:t,reject:e}of this.#Ht)e(w("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));this.#Ht=[],super.destroy()}}function wo(t){if(null==t)return null;if("string"===typeof t.message&&t.message.match(/revert/i)&&B(t.data))return{message:t.message,data:t.data};if("object"===typeof t){for(const e in t){const r=wo(t[e]);if(r)return r}return null}if("string"===typeof t)try{return wo(JSON.parse(t))}catch(e){}return null}function vo(t,e){if(null!=t){if("string"===typeof t.message&&e.push(t.message),"object"===typeof t)for(const r in t)vo(t[r],e);if("string"===typeof t)try{return vo(JSON.parse(t),e)}catch(r){}}}class xo extends bo{#L;constructor(t,e){super(e,{batchMaxCount:1}),this.initResolvePromise&&this.initResolvePromise(),this.#L=async(e,r,s)=>{const n={method:e,params:r,shard:s};this.emit("debug",void 0,{action:"sendEip1193Request",payload:n});try{const e=await t.request(n);return this.emit("debug",void 0,{action:"receiveEip1193Result",result:e}),e}catch(i){const t=new Error(i.message);throw t.code=i.code,t.data=i.data,t.payload=n,this.emit("debug",void 0,{action:"receiveEip1193Error",error:t}),t}}}async hasSigner(t){null==t&&(t=0);const e=await this.send("quai_accounts",[]);return"number"===typeof t?e.length>t:(t=t.toLowerCase(),0!==e.filter((e=>e.toLowerCase()===t)).length)}async send(t,e,r){return await this._start(),await super.send(t,e,r)}async _send(t,e){x(!Array.isArray(t),"EIP-1193 does not support batch request","payload",t);try{const r=await this.#L(t.method,t.params||[],e);return[{id:t.id,result:r}]}catch(r){return[{id:t.id,error:{code:r.code,data:r.data,message:r.message,shard:e||void 0}}]}}getRpcError(t,e){switch((e=JSON.parse(JSON.stringify(e))).error.code||-1){case 4001:e.error.message=`quais-user-denied: ${e.error.message}`;break;case 4200:e.error.message=`quais-unsupported: ${e.error.message}`}return super.getRpcError(t,e)}async getSigner(t){if(null==t&&(t=0),!(await this.hasSigner(t)))try{await this.#L("quai_requestAccounts",[])}catch(e){const t=e.payload;throw this.getRpcError(t,{id:t.id,error:e})}return await super.getSigner(t)}}class ko{fragment;name;signature;topic;args;constructor(t,e,r){const s=t.name,n=t.format();y(this,{fragment:t,name:s,signature:n,topic:e,args:r})}}class Oo{fragment;name;args;signature;selector;value;constructor(t,e,r,s){const n=t.name,i=t.format();y(this,{fragment:t,name:n,args:r,signature:i,selector:e,value:s})}}class Eo{fragment;name;args;signature;selector;constructor(t,e,r){const s=t.name,n=t.format();y(this,{fragment:t,name:s,args:r,signature:n,selector:e})}}class Mo{hash;_isIndexed;static isIndexed(t){return!(!t||!t._isIndexed)}constructor(t){y(this,{hash:t,_isIndexed:!0})}}const Ao={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Fo={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&Ao[t.toString()]&&(e=Ao[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};class Bo{fragments;deploy;fallback;receive;#Vt;#Gt;#Jt;#Kt;constructor(t){let e=[];e="string"===typeof t?JSON.parse(t):t,this.#Jt=new Map,this.#Vt=new Map,this.#Gt=new Map;const r=[];for(const o of e)try{r.push(Is.from(o))}catch(i){console.log("Error parsing ABI fragment",i)}y(this,{fragments:Object.freeze(r)});let s=null,n=!1;this.#Kt=this.getAbiCoder(),this.fragments.forEach(((t,e)=>{let r;switch(t.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void y(this,{deploy:t});case"fallback":return void(0===t.inputs.length?n=!0:(x(!s||t.payable!==s.payable,"conflicting fallback fragments",`fragments[${e}]`,t),s=t,n=s.payable));case"function":r=this.#Jt;break;case"event":r=this.#Gt;break;case"error":r=this.#Vt;break;default:return}const i=t.format();r.has(i)||r.set(i,t)})),this.deploy||y(this,{deploy:Hs.from("constructor()")}),y(this,{fallback:s,receive:n})}format(t){const e=t?"minimal":"full";return this.fragments.map((t=>t.format(e)))}formatJson(){const t=this.fragments.map((t=>t.format("json")));return JSON.stringify(t.map((t=>JSON.parse(t))))}getAbiCoder(){return Zs.defaultAbiCoder()}#Zt(t,e,r){if(B(t)){const e=t.toLowerCase();for(const t of this.#Jt.values())if(e===t.selector)return t;return null}if(-1===t.indexOf("(")){const s=[];for(const[e,r]of this.#Jt)e.split("(")[0]===t&&s.push(r);if(e){const t=e.length>0?e[e.length-1]:null;let r=e.length,n=!0;Tr.isTyped(t)&&"overrides"===t.type&&(n=!1,r--);for(let e=s.length-1;e>=0;e--){const t=s[e].inputs.length;t===r||n&&t===r-1||s.splice(e,1)}for(let i=s.length-1;i>=0;i--){const t=s[i].inputs;for(let r=0;r<e.length;r++)if(Tr.isTyped(e[r])){if(r>=t.length){if("overrides"===e[r].type)continue;s.splice(i,1);break}if(e[r].type!==t[r].baseType){s.splice(i,1);break}}}}if(1===s.length&&e&&e.length!==s[0].inputs.length){const t=e[e.length-1];(null==t||Array.isArray(t)||"object"!==typeof t)&&s.splice(0,1)}if(0===s.length)return null;if(s.length>1&&r){x(!1,`ambiguous function description (i.e. matches ${s.map((t=>JSON.stringify(t.format()))).join(", ")})`,"key",t)}return s[0]}const s=this.#Jt.get(Ds.from(t).format());return s||null}getFunctionName(t){const e=this.#Zt(t,null,!1);return x(e,"no matching function","key",t),e.name}hasFunction(t){return!!this.#Zt(t,null,!1)}getFunction(t,e){return this.#Zt(t,e||null,!0)}forEachFunction(t){const e=Array.from(this.#Jt.keys());e.sort(((t,e)=>t.localeCompare(e)));for(let r=0;r<e.length;r++){const s=e[r];t(this.#Jt.get(s),r)}}#Qt(t,e,r){if(B(t)){const e=t.toLowerCase();for(const t of this.#Gt.values())if(e===t.topicHash)return t;return null}if(-1===t.indexOf("(")){const s=[];for(const[e,r]of this.#Gt)e.split("(")[0]===t&&s.push(r);if(e){for(let t=s.length-1;t>=0;t--)s[t].inputs.length<e.length&&s.splice(t,1);for(let t=s.length-1;t>=0;t--){const r=s[t].inputs;for(let n=0;n<e.length;n++)if(Tr.isTyped(e[n])&&e[n].type!==r[n].baseType){s.splice(t,1);break}}}if(0===s.length)return null;if(s.length>1&&r){x(!1,`ambiguous event description (i.e. matches ${s.map((t=>JSON.stringify(t.format()))).join(", ")})`,"key",t)}return s[0]}const s=this.#Gt.get(Ls.from(t).format());return s||null}getEventName(t){const e=this.#Qt(t,null,!1);return x(e,"no matching event","key",t),e.name}hasEvent(t){return!!this.#Qt(t,null,!1)}getEvent(t,e){return this.#Qt(t,e||null,!0)}forEachEvent(t){const e=Array.from(this.#Gt.keys());e.sort(((t,e)=>t.localeCompare(e)));for(let r=0;r<e.length;r++){const s=e[r];t(this.#Gt.get(s),r)}}getError(t,e){if(B(t)){const e=t.toLowerCase();if(Fo[e])return Cs.from(Fo[e].signature);for(const t of this.#Vt.values())if(e===t.selector)return t;return null}if(-1===t.indexOf("(")){const e=[];for(const[r,s]of this.#Vt)r.split("(")[0]===t&&e.push(s);if(0===e.length)return"Error"===t?Cs.from("error Error(string)"):"Panic"===t?Cs.from("error Panic(uint256)"):null;if(e.length>1){x(!1,`ambiguous error description (i.e. ${e.map((t=>JSON.stringify(t.format()))).join(", ")})`,"name",t)}return e[0]}if("Error(string)"===(t=Cs.from(t).format()))return Cs.from("error Error(string)");if("Panic(uint256)"===t)return Cs.from("error Panic(uint256)");const r=this.#Vt.get(t);return r||null}forEachError(t){const e=Array.from(this.#Vt.keys());e.sort(((t,e)=>t.localeCompare(e)));for(let r=0;r<e.length;r++){const s=e[r];t(this.#Vt.get(s),r)}}_decodeParams(t,e){return this.#Kt.decode(t,e)}_encodeParams(t,e){return this.#Kt.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){if("string"===typeof t){const e=this.getError(t);x(e,"unknown error","fragment",t),t=e}return x(j(e,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",e),this._decodeParams(t.inputs,j(e,4))}encodeErrorResult(t,e){if("string"===typeof t){const e=this.getError(t);x(e,"unknown error","fragment",t),t=e}return P([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionData(t,e){if("string"===typeof t){const e=this.getFunction(t);x(e,"unknown function","fragment",t),t=e}return x(j(e,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",e),this._decodeParams(t.inputs,j(e,4))}encodeFunctionData(t,e){if("string"===typeof t){const e=this.getFunction(t);x(e,"unknown function","fragment",t),t=e}return P([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionResult(t,e){if("string"===typeof t){const e=this.getFunction(t);x(e,"unknown function","fragment",t),t=e}let r="invalid length for result data";const s=F(e);if(s.length%32===0)try{return this.#Kt.decode(t.outputs,s)}catch(n){r="could not decode result data"}v(!1,r,"BAD_DATA",{value:R(s),info:{method:t.name,signature:t.format()}})}makeError(t,e){const r=A(t,"data"),s=Zs.getBuiltinCallException("call",e,r);if(s.message.startsWith("execution reverted (unknown custom error)")){const t=R(r.slice(0,4)),e=this.getError(t);if(e)try{const t=this.#Kt.decode(e.inputs,r.slice(4));s.revert={name:e.name,signature:e.format(),args:t},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch(i){s.message="execution reverted (coult not decode custom error)"}}const n=this.parseTransaction(e);return n&&(s.invocation={method:n.name,signature:n.signature,args:n.args}),s}encodeFunctionResult(t,e){if("string"===typeof t){const e=this.getFunction(t);x(e,"unknown function","fragment",t),t=e}return R(this.#Kt.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){if("string"===typeof t){const e=this.getEvent(t);x(e,"unknown event","eventFragment",t),t=e}v(e.length<=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:e.length,expectedCount:t.inputs.length});const r=[];t.anonymous||r.push(t.topicHash);const s=(t,e)=>"string"===t.type?Xr(e):"bytes"===t.type?Vt(R(e)):("bool"===t.type&&"boolean"===typeof e?e=e?"0x01":"0x00":t.type.match(/^u?int/)?e=G(e):t.type.match(/^bytes/)?e=z(e,32,!1):"address"===t.type&&this.#Kt.encode(["address"],[e]),I(R(e),32));for(e.forEach(((e,n)=>{const i=t.inputs[n];i.indexed?null==e?r.push(null):"array"===i.baseType||"tuple"===i.baseType?x(!1,"filtering with tuples or arrays not supported","contract."+i.name,e):Array.isArray(e)?r.push(e.map((t=>s(i,t)))):r.push(s(i,e)):x(null==e,"cannot filter non-indexed parameters; must be null","contract."+i.name,e)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(t,e){if("string"===typeof t){const e=this.getEvent(t);x(e,"unknown event","eventFragment",t),t=e}const r=[],s=[],n=[];return t.anonymous||r.push(t.topicHash),x(e.length===t.inputs.length,"event arguments/values mismatch","values",e),t.inputs.forEach(((t,i)=>{const o=e[i];if(t.indexed)if("string"===t.type)r.push(Xr(o));else if("bytes"===t.type)r.push(Vt(o));else{if("tuple"===t.baseType||"array"===t.baseType)throw new Error("not implemented");r.push(this.#Kt.encode([t.type],[o]))}else s.push(t),n.push(o)})),{data:this.#Kt.encode(s,n),topics:r}}decodeEventLog(t,e,r){if("string"===typeof t){const e=this.getEvent(t);x(e,"unknown event","eventFragment",t),t=e}if(null!=r&&!t.anonymous){const e=t.topicHash;x(B(r[0],32)&&r[0].toLowerCase()===e,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const s=[],n=[],i=[];t.inputs.forEach(((t,e)=>{t.indexed?"string"===t.type||"bytes"===t.type||"tuple"===t.baseType||"array"===t.baseType?(s.push(zs.from({type:"bytes32",name:t.name})),i.push(!0)):(s.push(t),i.push(!1)):(n.push(t),i.push(!1))}));const o=null!=r?this.#Kt.decode(s,P(r)):null,a=this.#Kt.decode(n,e,!0),u=[],h=[];let l=0,c=0;return t.inputs.forEach(((t,e)=>{let r=null;if(t.indexed)if(null==o)r=new Mo(null);else if(i[e])r=new Mo(o[c++]);else try{r=o[c++]}catch(s){r=s}else try{r=a[l++]}catch(s){r=s}u.push(r),h.push(t.name||null)})),et.fromItems(u,h)}parseTransaction(t){const e=A(t.data,"tx.data"),r=W(null!=t.value?t.value:0,"tx.value"),s=this.getFunction(R(e.slice(0,4)));if(!s)return null;const n=this.#Kt.decode(s.inputs,e.slice(4));return new Oo(s,s.selector,n,r)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new ko(e,e.topicHash,this.decodeEventLog(e,t.data,t.topics))}parseError(t){const e=R(t),r=this.getError(j(e,0,4));if(!r)return null;const s=this.#Kt.decode(r.inputs,j(e,4));return new Eo(r,r.selector,s)}static from(t){return t instanceof Bo?t:"string"===typeof t?new Bo(JSON.parse(t)):"function"===typeof t.format?new Bo(t.format("json")):new Bo(t)}}class To extends mi{interface;fragment;args;constructor(t,e,r){super(t,t.provider);y(this,{args:e.decodeEventLog(r,t.data,t.topics),fragment:r,interface:e})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Ro extends mi{error;constructor(t,e){super(t,t.provider),y(this,{error:e})}}class Po extends bi{#Yt;constructor(t,e,r){super(r,e),this.#Yt=t}get logs(){return super.logs.map((t=>{const e=t.topics.length?this.#Yt.getEvent(t.topics[0]):null;if(e)try{return new To(t,this.#Yt,e)}catch(r){return new Ro(t,r)}return t}))}}class So extends vi{#Yt;constructor(t,e,r){super(r,e),this.#Yt=t}async wait(t){const e=await super.wait(t);return null==e?null:new Po(this.#Yt,this.provider,e)}}class jo extends Fn{log;constructor(t,e,r,s){super(t,e,r),y(this,{log:s})}async getBlock(t){return await this.log.getBlock(t)}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class zo extends jo{constructor(t,e,r,s,n){super(t,e,r,new To(n,t.interface,s));y(this,{args:t.interface.decodeEventLog(s,this.log.data,this.log.topics),fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Io=BigInt(0);function No(t){return t&&"function"===typeof t.call}function Uo(t){return t&&"function"===typeof t.estimateGas}function Co(t){return t&&"function"===typeof t.sendTransaction}class Lo{#ct;fragment;constructor(t,e,r){if(y(this,{fragment:e}),e.inputs.length<r.length)throw new Error("too many arguments");this.#ct=async function(){const s=await Promise.all(e.inputs.map(((t,e)=>null==r[e]?null:t.walkAsync(r[e],((t,e)=>"address"===t?Array.isArray(e)?Promise.all(e.map((t=>Xs(t)))):Xs(e):e)))));return t.interface.encodeFilterTopics(e,s)}()}getTopicFilter(){return this.#ct}}function Ho(t,e){return null==t?null:"function"===typeof t[e]?t:t.provider&&"function"===typeof t.provider[e]?t.provider:null}function Wo(t){return null==t?null:t.provider||null}async function Do(t,e){const r=Tr.dereference(t,"overrides");x("object"===typeof r,"invalid overrides parameter","overrides",t);const s=di(r);return x(!("to"in s)||null==s.to||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",s),x(!("data"in s)||null==s.data||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",s),"from"in s&&s.from&&(s.from=await s.from),s}async function qo(t,e,r){return await Promise.all(e.map(((t,e)=>t.walkAsync(r[e],((t,e)=>(e=Tr.dereference(e,t),"address"===t?Xs(e):e))))))}function $o(t){const e=async function(e){const r=await Do(e,["data"]);r.to=await t.getAddress(),tn(r.to),r.from&&(r.from=await Xs(r.from),tn(r.from));const s=t.interface,n=W(r.value||Io,"overrides.value")===Io,i="0x"===(r.data||"0x");!s.fallback||s.fallback.payable||!s.receive||i||n||x(!1,"cannot send data to receive or send value to non-payable fallback","overrides",e),x(s.fallback||i,"cannot send data to receive-only contract","overrides.data",r.data);return x(s.receive||s.fallback&&s.fallback.payable||n,"cannot send value to non-payable fallback","overrides.value",r.value),x(s.fallback||i,"cannot send data to receive-only contract","overrides.data",r.data),r},r=async function(r){const s=t.runner;v(Co(s),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const n=await s.sendTransaction(await e(r)),i=Wo(t.runner);return new So(t.interface,i,n)},s=async t=>await r(t);return y(s,{_contract:t,estimateGas:async function(r){const s=Ho(t.runner,"estimateGas");return v(Uo(s),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await s.estimateGas(await e(r))},populateTransaction:e,send:r,staticCall:async function(r){const s=Ho(t.runner,"call");v(No(s),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const n=await e(r);try{return await s.call(n)}catch(i){if(b(i)&&i.data)throw t.interface.makeError(i.data,n);throw i}}}),s}const Vo=Symbol.for("_quaisInternal_contract"),Go=new WeakMap;function Jo(t){return Go.get(t[Vo])}async function Ko(t,e){let r,s=null;if(Array.isArray(e)){const s=function(e){if(B(e,32))return e;const r=t.interface.getEvent(e);return x(r,"unknown fragment","name",e),r.topicHash};r=e.map((t=>null==t?null:Array.isArray(t)?t.map(s):s(t)))}else"*"===e?r=[null]:"string"===typeof e?B(e,32)?r=[e]:(s=t.interface.getEvent(e),x(s,"unknown fragment","event",e),r=[s.topicHash]):(n=e)&&"object"===typeof n&&"getTopicFilter"in n&&"function"===typeof n.getTopicFilter&&n.fragment?r=await e.getTopicFilter():e&&"fragment"in e?(s=e.fragment,r=[s.topicHash]):x(!1,"unknown event name","event",e);var n;r=r.map((t=>{if(null==t)return null;if(Array.isArray(t)){const e=Array.from(new Set(t.map((t=>t.toLowerCase()))).values());return 1===e.length?e[0]:(e.sort(),e)}return t.toLowerCase()}));return{fragment:s,tag:r.map((t=>null==t?"null":Array.isArray(t)?t.join("|"):t)).join("&"),topics:r}}async function Zo(t,e){const{subs:r}=Jo(t);return r.get((await Ko(t,e)).tag)||null}async function Qo(t,e,r){const s=Wo(t.runner);v(s,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:n,tag:i,topics:o}=await Ko(t,r),{addr:a,subs:u}=Jo(t);let h=u.get(i);if(!h){const e=a||t,l={address:e,topics:o},c=e=>{let s=n;if(null==s)try{s=t.interface.getEvent(e.topics[0])}catch(i){}if(s){const i=s,o=n?t.interface.decodeEventLog(n,e.data,e.topics):[];Xo(t,r,o,(s=>new zo(t,s,r,i,e)))}else Xo(t,r,[],(s=>new jo(t,s,r,e)))},p=ii(await Xs(e));let d=[];h={tag:i,listeners:[],start:()=>{d.length||d.push(s.on(l,c,p))},stop:async()=>{if(0==d.length)return;const t=d;d=[],await Promise.all(t),s.off(l,c,p)}},u.set(i,h)}return h}let Yo=Promise.resolve();async function Xo(t,e,r,s){try{await Yo}catch(i){}const n=async function(t,e,r,s){await Yo;const n=await Zo(t,e);if(!n)return!1;const o=n.listeners.length;return n.listeners=n.listeners.filter((({listener:e,once:n})=>{const o=Array.from(r);s&&o.push(s(n?null:e));try{e.call(t,...o)}catch(i){}return!n})),0===n.listeners.length&&(n.stop(),Jo(t).subs.delete(n.tag)),o>0}(t,e,r,s);return Yo=n,await n}const ta=["then"];class ea{target;interface;runner;filters;[Vo];fallback;constructor(t,e,r,s){x("string"===typeof t||Qs(t),"invalid value for Contract target","target",t),null==r&&(r=null);const n=Bo.from(e);let i;y(this,{target:t,runner:r,interface:n}),Object.defineProperty(this,Vo,{value:{}});let o=null,a=null;if(s){const t=Wo(r);a=new So(this.interface,t,s)}const u=new Map;var h,l;"string"===typeof t?(o=t,i=Promise.resolve(t)):i=t.getAddress().then((t=>{if(null==t)throw new Error("TODO");return Jo(this).addr=t,t})),h=this,l={addrPromise:i,addr:o,deployTx:a,subs:u},Go.set(h[Vo],l);const c=new Proxy({},{get:(t,e,r)=>{if("symbol"===typeof e||ta.indexOf(e)>=0)return Reflect.get(t,e,r);try{return this.getEvent(e)}catch(s){if(!_(s,"INVALID_ARGUMENT")||"key"!==s.argument)throw s}},has:(t,e)=>ta.indexOf(e)>=0?Reflect.has(t,e):Reflect.has(t,e)||this.interface.hasEvent(String(e))});return y(this,{filters:c}),y(this,{fallback:n.receive||n.fallback?$o(this):null}),new Proxy(this,{get:(t,e,r)=>{if("symbol"===typeof e||e in t||ta.indexOf(e)>=0)return Reflect.get(t,e,r);try{return t.getFunction(e)}catch(s){if(!_(s,"INVALID_ARGUMENT")||"key"!==s.argument)throw s}},has:(t,e)=>"symbol"===typeof e||e in t||ta.indexOf(e)>=0?Reflect.has(t,e):t.interface.hasFunction(e)})}connect(t){return new ea(this.target,this.interface,t)}attach(t){return new ea(t,this.interface,this.runner)}async getAddress(){return await Jo(this).addrPromise}async getDeployedCode(){const t=Wo(this.runner);v(t,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const e=await t.getCode(await this.getAddress());return"0x"===e?null:e}async waitForDeployment(){const t=this.deploymentTransaction();if(t)return await t.wait(),this;if(null!=await this.getDeployedCode())return this;const e=Wo(this.runner);return v(null!=e,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise(((t,r)=>{const s=async()=>{try{if(null!=await this.getDeployedCode())return t(this);e.once("block",s)}catch(n){r(n)}};s()}))}deploymentTransaction(){return Jo(this).deployTx}getFunction(t){"string"!==typeof t&&(t=t.format());const e=function(t,e){const r=function(...r){const s=t.interface.getFunction(e,r);return v(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:r}}),s},s=async function(...e){const s=r(...e);let n;if(s.inputs.length+1===e.length){n=await Do(e.pop());const r=await qo(t.runner,s.inputs,e);return Object.assign({},n,await g({to:t.getAddress(),data:t.interface.encodeFunctionData(s,r)}))}if(s.inputs.length!==e.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const i=await qo(t.runner,s.inputs,e);return await g({to:t.getAddress(),from:e.pop()?.from,data:t.interface.encodeFunctionData(s,i)})},n=async function(...t){const e=await o(...t);return 1===e.length?e[0]:e},i=async function(...e){const r=t.runner;v(Co(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const n=await s(...e);!n.from&&"address"in r&&"string"===typeof r.address&&(n.from=await Xs(r.address));const i=await r.sendTransaction(await n),o=Wo(t.runner);return new So(t.interface,o,i)},o=async function(...e){const n=Ho(t.runner,"call");v(No(n),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await s(...e);!i.from&&"address"in n&&"string"===typeof n.address&&(i.from=await Xs(n.address));let o="0x";try{o=await n.call(i)}catch(u){if(b(u)&&u.data)throw t.interface.makeError(u.data,i);throw u}const a=r(...e);return t.interface.decodeFunctionResult(a,o)},a=async(...t)=>r(...t).constant?await n(...t):await i(...t);return y(a,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:async function(...e){const r=Ho(t.runner,"estimateGas");return v(Uo(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await s(...e))},populateTransaction:s,send:i,staticCall:n,staticCallResult:o}),Object.defineProperty(a,"fragment",{configurable:!1,enumerable:!0,get:()=>{const r=t.interface.getFunction(e);return v(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),r}}),a}(this,t);return e}getEvent(t){return"string"!==typeof t&&(t=t.format()),function(t,e){const r=function(...r){const s=t.interface.getEvent(e,r);return v(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:r}}),s},s=function(...e){return new Lo(t,r(...e),e)};return y(s,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(s,"fragment",{configurable:!1,enumerable:!0,get:()=>{const r=t.interface.getEvent(e);return v(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),r}}),s}(this,t)}async queryTransaction(t){throw new Error("@TODO")}async queryFilter(t,e,r){null==e&&(e=0),null==r&&(r="latest");const{addr:s,addrPromise:n}=Jo(this),i=s||await n,{fragment:o,topics:a}=await Ko(this,t),u={address:i,topics:a,fromBlock:e,toBlock:r,nodeLocation:oi(ii(i))},h=Wo(this.runner);return v(h,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await h.getLogs(u)).map((t=>{let e=o;if(null==e)try{e=this.interface.getEvent(t.topics[0])}catch(r){}if(e)try{return new To(t,this.interface,e)}catch(r){return new Ro(t,r)}return new mi(t,h)}))}async on(t,e){const r=await Qo(this,"on",t);return r.listeners.push({listener:e,once:!1}),r.start(),this}async once(t,e){const r=await Qo(this,"once",t);return r.listeners.push({listener:e,once:!0}),r.start(),this}async emit(t,...e){return await Xo(this,t,e,null)}async listenerCount(t){if(t){const e=await Zo(this,t);return e?e.listeners.length:0}const{subs:e}=Jo(this);let r=0;for(const{listeners:s}of e.values())r+=s.length;return r}async listeners(t){if(t){const e=await Zo(this,t);return e?e.listeners.map((({listener:t})=>t)):[]}const{subs:e}=Jo(this);let r=[];for(const{listeners:s}of e.values())r=r.concat(s.map((({listener:t})=>t)));return r}async off(t,e){const r=await Zo(this,t);if(!r)return this;if(e){const t=r.listeners.map((({listener:t})=>t)).indexOf(e);t>=0&&r.listeners.splice(t,1)}return null!=e&&0!==r.listeners.length||(r.stop(),Jo(this).subs.delete(r.tag)),this}async removeAllListeners(t){if(t){const e=await Zo(this,t);if(!e)return this;e.stop(),Jo(this).subs.delete(e.tag)}else{const{subs:t}=Jo(this);for(const{tag:e,stop:r}of t.values())r(),t.delete(e)}return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return await this.off(t,e)}static buildClass(t){return class extends ea{constructor(e,r=null){super(e,t,r)}}}static from(t,e,r){null==r&&(r=null);return new this(t,e,r)}}class ra extends(function(){return ea}()){}var sa=(0,h.createContext)(),na=function(t){var e=t.children,r=(0,h.useState)(!1),s=r[0],i=r[1],l=(0,h.useState)(!1),f=l[0],g=l[1],y=(0,h.useState)(!1),m=y[0],_=y[1],b=(0,h.useState)(""),w=b[0],v=b[1],x=(0,h.useState)(""),k=x[0],O=x[1],E=(0,h.useState)(""),M=E[0],A=E[1],F=(0,h.useState)(""),B=F[0],T=F[1],R=(0,h.useState)(""),P=R[0],S=R[1],j=(0,h.useState)(""),z=j[0],I=j[1],N=(0,h.useState)(""),U=N[0],C=N[1],L=(0,h.useState)([]),H=L[0],W=L[1],D=(0,h.useState)([]),q=D[0],$=D[1],V=function(){var t=window.pelagus;return t?new xo(t):(alert("Pelagus Wallet not found"),null)},G=function(){var t=(0,n.Z)((function(){var t,e,r;return(0,a.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),V()?[4,(t=window.pelagus).request({method:"quai_chainId"})]:[2];case 1:return e=s.sent(),"0x2328","0x2328"!==e?(i(!1),g(!0),[2]):(i(!0),g(!1),[4,t.request({method:"quai_requestAccounts"})]);case 2:return r=s.sent(),_(!0),v(r[0]),[3,4];case 3:return s.sent(),alert("Failed to connect wallet"),[3,4];case 4:return[2]}}))}));return function(){return t.apply(this,arguments)}}(),J=function(){var t=(0,n.Z)((function(t){var e,r;return(0,a.__generator)(this,(function(s){switch(s.label){case 0:t.preventDefault(),s.label=1;case 1:return s.trys.push([1,5,,6]),(e=V())?[4,e.getSigner()]:[2];case 2:return r=s.sent(),[4,new ra(p,d.Mt,r).registerUser(w,k,M)];case 3:return[4,s.sent().wait()];case 4:return 1===s.sent().status?alert("User Registered successfully"):alert("Registration transaction failed"),[3,6];case 5:return s.sent(),alert("Registration error"),[3,6];case 6:return[2]}}))}));return function(e){return t.apply(this,arguments)}}(),K=function(){var t=(0,n.Z)((function(t){var e,r;return(0,a.__generator)(this,(function(s){switch(s.label){case 0:t.preventDefault(),s.label=1;case 1:return s.trys.push([1,5,,6]),(e=V())?[4,e.getSigner()]:[2];case 2:return r=s.sent(),[4,new ra(p,d.Mt,r).loginUser(w,k,M)];case 3:return[4,s.sent().wait()];case 4:return 1===s.sent().status?c().push("/ChatHome"):alert("Login failed"),[3,6];case 5:return s.sent(),alert("Login error"),[3,6];case 6:return[2]}}))}));return function(e){return t.apply(this,arguments)}}(),Z=function(){var t=(0,n.Z)((function(t){var e,r,s,n,i,u,h,l,f;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:t.preventDefault(),a.label=1;case 1:return a.trys.push([1,5,,6]),console.log("User LogOut"),(e=window.pelagus)?[4,new xo(e).getSigner()]:(alert("Please install the Pelagus Wallet!"),[2]);case 2:return r=a.sent(),[4,(s=new ra(p,d.Mt,r)).logoutUser(w)];case 3:return n=a.sent(),console.log("Transaction sent:",n),[4,n.wait()];case 4:return i=a.sent(),console.log("Transaction confirmed:",i),(u=i.logs.find((function(t){return"LogoutUser"===s.interface.parseLog(t).name})))?(h=o(u.args,1),l=h[0],console.log("Logout Event Args:",l),l?alert("User LogOut failed"):(console.log("User LoggedOut successfully"),c().push("/"))):alert("Logout event not found in the transaction receipt."),[3,6];case 5:return f=a.sent(),console.error("Error during user logout:",f),alert("Error: ".concat(f.message||"Failed to log out!")),[3,6];case 6:return[2]}}))}));return function(e){return t.apply(this,arguments)}}(),Q=function(){var t=(0,n.Z)((function(t){var e,r,s,n;return(0,a.__generator)(this,(function(i){switch(i.label){case 0:t.preventDefault(),i.label=1;case 1:return i.trys.push([1,9,,10]),(e=V())?[4,e.getSigner()]:[2];case 2:return r=i.sent(),[4,(s=new ra(p,d.Mt,r)).checkUserExists(U)];case 3:return i.sent()&&U.toLowerCase()!==w.toLowerCase()?[4,s.getUsername(U)]:[3,7];case 4:return n=i.sent(),[4,s.addFriend(U,n)];case 5:return[4,i.sent().wait()];case 6:return 1===i.sent().status?alert("Friend added successfully!"):alert("Failed to add friend"),[3,8];case 7:alert("User does not exist or you are adding yourself"),i.label=8;case 8:return[3,10];case 9:return i.sent(),alert("Add friend error"),[3,10];case 10:return[2]}}))}));return function(e){return t.apply(this,arguments)}}(),Y=(0,h.useCallback)((0,n.Z)((function(){var t,e,r;return(0,a.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),(t=V())?[4,t.getSigner()]:[2];case 1:return e=s.sent(),[4,new ra(p,d.Mt,e).getMyFriendList()];case 2:return r=s.sent(),W(Array.isArray(r)?r:[]),[3,4];case 3:return s.sent(),alert("Error fetching friend list"),[3,4];case 4:return[2]}}))})),[]),X=function(){var t=(0,n.Z)((function(t){var e,r;return(0,a.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),t&&B?(e=V())?[4,e.getSigner()]:[2]:(alert("No friend selected or message is empty."),[2]);case 1:return r=s.sent(),[4,new ra(p,d.Mt,r).sendMessage(t,B)];case 2:return[4,s.sent().wait()];case 3:return 1!==s.sent().status?(alert("Message sending failed"),[2]):(alert("Message sent!"),T(""),[4,tt(t)]);case 4:return s.sent(),[3,6];case 5:return s.sent(),alert("Send message error"),[3,6];case 6:return[2]}}))}));return function(e){return t.apply(this,arguments)}}(),tt=function(){var t=(0,n.Z)((function(t){var e,r,s;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),t?(e=V())?[4,e.getSigner()]:[2]:(alert("Invalid friend address"),[2]);case 1:return r=n.sent(),[4,new ra(p,d.Mt,r).readMessage(t)];case 2:return s=n.sent(),$(Array.isArray(s)?s:[]),S(t),[3,4];case 3:return n.sent(),alert("Error fetching messages"),[3,4];case 4:return[2]}}))}));return function(e){return t.apply(this,arguments)}}();return(0,u.jsx)(sa.Provider,{value:{correctNetwork:s,setCorrectNetwork:i,networkError:f,setNetworkError:g,isUserLoggedIn:m,setIsUserLoggedIn:_,currentAccount:w,setCurrentAccount:v,connectWallet:G,setUsername:O,setPassword:A,registerUser:J,loginUser:K,logoutUser:Z,searchAndAddFriend:Q,setSearchAccount:C,friendsList:H,getMyFriendList:Y,messagesList:q,showMessages:tt,setMessageInput:T,sendMessage:X,selectedUserName:z,setSelectedUserName:I,selectedAddr:P,setSelectedAddr:S},children:e})}},2373:function(t,e,r){"use strict";function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){s(t,e,r[e])}))}return t}r.r(e),r.d(e,{default:function(){return a}});var i=r(5893),o=(r(8210),r(906),r(5591),r(8934));var a=function(t){var e=t.Component,r=t.pageProps;return(0,i.jsx)(o.a,{children:(0,i.jsx)(e,n({},r))})}},1876:function(t){!function(){var e={675:function(t,e){"use strict";e.byteLength=function(t){var e=u(t),r=e[0],s=e[1];return 3*(r+s)/4-s},e.toByteArray=function(t){var e,r,i=u(t),o=i[0],a=i[1],h=new n(function(t,e,r){return 3*(e+r)/4-r}(0,o,a)),l=0,c=a>0?o-4:o;for(r=0;r<c;r+=4)e=s[t.charCodeAt(r)]<<18|s[t.charCodeAt(r+1)]<<12|s[t.charCodeAt(r+2)]<<6|s[t.charCodeAt(r+3)],h[l++]=e>>16&255,h[l++]=e>>8&255,h[l++]=255&e;2===a&&(e=s[t.charCodeAt(r)]<<2|s[t.charCodeAt(r+1)]>>4,h[l++]=255&e);1===a&&(e=s[t.charCodeAt(r)]<<10|s[t.charCodeAt(r+1)]<<4|s[t.charCodeAt(r+2)]>>2,h[l++]=e>>8&255,h[l++]=255&e);return h},e.fromByteArray=function(t){for(var e,s=t.length,n=s%3,i=[],o=16383,a=0,u=s-n;a<u;a+=o)i.push(l(t,a,a+o>u?u:a+o));1===n?(e=t[s-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===n&&(e=(t[s-2]<<8)+t[s-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return i.join("")};for(var r=[],s=[],n="undefined"!==typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=i.length;o<a;++o)r[o]=i[o],s[i.charCodeAt(o)]=o;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function h(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function l(t,e,r){for(var s,n=[],i=e;i<r;i+=3)s=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(255&t[i+2]),n.push(h(s));return n.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},72:function(t,e,r){"use strict";var s=r(675),n=r(783),i="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50;var o=2147483647;function a(t){if(t>o)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,r){if("number"===typeof t){if("string"===typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return c(t)}return h(t,e,r)}function h(t,e,r){if("string"===typeof t)return function(t,e){"string"===typeof e&&""!==e||(e="utf8");if(!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|g(t,e),s=a(r),n=s.write(t,e);n!==r&&(s=s.slice(0,n));return s}(t,e);if(ArrayBuffer.isView(t))return p(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(W(t,ArrayBuffer)||t&&W(t.buffer,ArrayBuffer))return d(t,e,r);if("undefined"!==typeof SharedArrayBuffer&&(W(t,SharedArrayBuffer)||t&&W(t.buffer,SharedArrayBuffer)))return d(t,e,r);if("number"===typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var s=t.valueOf&&t.valueOf();if(null!=s&&s!==t)return u.from(s,e,r);var n=function(t){if(u.isBuffer(t)){var e=0|f(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!==typeof t.length||D(t.length)?a(0):p(t);if("Buffer"===t.type&&Array.isArray(t.data))return p(t.data)}(t);if(n)return n;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!==typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function c(t){return l(t),a(t<0?0:0|f(t))}function p(t){for(var e=t.length<0?0:0|f(t.length),r=a(e),s=0;s<e;s+=1)r[s]=255&t[s];return r}function d(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var s;return s=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(s,u.prototype),s}function f(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function g(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||W(t,ArrayBuffer))return t.byteLength;if("string"!==typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,s=arguments.length>2&&!0===arguments[2];if(!s&&0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return C(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return L(t).length;default:if(n)return s?-1:C(t).length;e=(""+e).toLowerCase(),n=!0}}function y(t,e,r){var s=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,r);case"utf8":case"utf-8":return A(this,e,r);case"ascii":return B(this,e,r);case"latin1":case"binary":return T(this,e,r);case"base64":return M(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,r);default:if(s)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),s=!0}}function m(t,e,r){var s=t[e];t[e]=t[r],t[r]=s}function _(t,e,r,s,n){if(0===t.length)return-1;if("string"===typeof r?(s=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),D(r=+r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0){if(!n)return-1;r=0}if("string"===typeof e&&(e=u.from(e,s)),u.isBuffer(e))return 0===e.length?-1:b(t,e,r,s,n);if("number"===typeof e)return e&=255,"function"===typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,s,n);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,s,n){var i,o=1,a=t.length,u=e.length;if(void 0!==s&&("ucs2"===(s=String(s).toLowerCase())||"ucs-2"===s||"utf16le"===s||"utf-16le"===s)){if(t.length<2||e.length<2)return-1;o=2,a/=2,u/=2,r/=2}function h(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(n){var l=-1;for(i=r;i<a;i++)if(h(t,i)===h(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*o}else-1!==l&&(i-=i-l),l=-1}else for(r+u>a&&(r=a-u),i=r;i>=0;i--){for(var c=!0,p=0;p<u;p++)if(h(t,i+p)!==h(e,p)){c=!1;break}if(c)return i}return-1}function w(t,e,r,s){r=Number(r)||0;var n=t.length-r;s?(s=Number(s))>n&&(s=n):s=n;var i=e.length;s>i/2&&(s=i/2);for(var o=0;o<s;++o){var a=parseInt(e.substr(2*o,2),16);if(D(a))return o;t[r+o]=a}return o}function v(t,e,r,s){return H(C(e,t.length-r),t,r,s)}function x(t,e,r,s){return H(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,s)}function k(t,e,r,s){return x(t,e,r,s)}function O(t,e,r,s){return H(L(e),t,r,s)}function E(t,e,r,s){return H(function(t,e){for(var r,s,n,i=[],o=0;o<t.length&&!((e-=2)<0);++o)s=(r=t.charCodeAt(o))>>8,n=r%256,i.push(n),i.push(s);return i}(e,t.length-r),t,r,s)}function M(t,e,r){return 0===e&&r===t.length?s.fromByteArray(t):s.fromByteArray(t.slice(e,r))}function A(t,e,r){r=Math.min(t.length,r);for(var s=[],n=e;n<r;){var i,o,a,u,h=t[n],l=null,c=h>239?4:h>223?3:h>191?2:1;if(n+c<=r)switch(c){case 1:h<128&&(l=h);break;case 2:128===(192&(i=t[n+1]))&&(u=(31&h)<<6|63&i)>127&&(l=u);break;case 3:i=t[n+1],o=t[n+2],128===(192&i)&&128===(192&o)&&(u=(15&h)<<12|(63&i)<<6|63&o)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=t[n+1],o=t[n+2],a=t[n+3],128===(192&i)&&128===(192&o)&&128===(192&a)&&(u=(15&h)<<18|(63&i)<<12|(63&o)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,c=1):l>65535&&(l-=65536,s.push(l>>>10&1023|55296),l=56320|1023&l),s.push(l),n+=c}return F(s)}e.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,r){return h(t,e,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,r){return function(t,e,r){return l(t),t<=0?a(t):void 0!==e?"string"===typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},u.allocUnsafe=function(t){return c(t)},u.allocUnsafeSlow=function(t){return c(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(W(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),W(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,s=e.length,n=0,i=Math.min(r,s);n<i;++n)if(t[n]!==e[n]){r=t[n],s=e[n];break}return r<s?-1:s<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var s=u.allocUnsafe(e),n=0;for(r=0;r<t.length;++r){var i=t[r];if(W(i,Uint8Array)&&(i=u.from(i)),!u.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(s,n),n+=i.length}return s},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?A(this,0,t):y.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(t,e,r,s,n){if(W(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===s&&(s=0),void 0===n&&(n=this.length),e<0||r>t.length||s<0||n>this.length)throw new RangeError("out of range index");if(s>=n&&e>=r)return 0;if(s>=n)return-1;if(e>=r)return 1;if(this===t)return 0;for(var i=(n>>>=0)-(s>>>=0),o=(r>>>=0)-(e>>>=0),a=Math.min(i,o),h=this.slice(s,n),l=t.slice(e,r),c=0;c<a;++c)if(h[c]!==l[c]){i=h[c],o=l[c];break}return i<o?-1:o<i?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return _(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return _(this,t,e,r,!1)},u.prototype.write=function(t,e,r,s){if(void 0===e)s="utf8",r=this.length,e=0;else if(void 0===r&&"string"===typeof e)s=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===s&&(s="utf8")):(s=r,r=void 0)}var n=this.length-e;if((void 0===r||r>n)&&(r=n),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");s||(s="utf8");for(var i=!1;;)switch(s){case"hex":return w(this,t,e,r);case"utf8":case"utf-8":return v(this,t,e,r);case"ascii":return x(this,t,e,r);case"latin1":case"binary":return k(this,t,e,r);case"base64":return O(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var r="",s=0;s<e;)r+=String.fromCharCode.apply(String,t.slice(s,s+=4096));return r}function B(t,e,r){var s="";r=Math.min(t.length,r);for(var n=e;n<r;++n)s+=String.fromCharCode(127&t[n]);return s}function T(t,e,r){var s="";r=Math.min(t.length,r);for(var n=e;n<r;++n)s+=String.fromCharCode(t[n]);return s}function R(t,e,r){var s=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>s)&&(r=s);for(var n="",i=e;i<r;++i)n+=q[t[i]];return n}function P(t,e,r){for(var s=t.slice(e,r),n="",i=0;i<s.length;i+=2)n+=String.fromCharCode(s[i]+256*s[i+1]);return n}function S(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function j(t,e,r,s,n,i){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<i)throw new RangeError('"value" argument is out of bounds');if(r+s>t.length)throw new RangeError("Index out of range")}function z(t,e,r,s,n,i){if(r+s>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function I(t,e,r,s,i){return e=+e,r>>>=0,i||z(t,0,r,4),n.write(t,e,r,s,23,4),r+4}function N(t,e,r,s,i){return e=+e,r>>>=0,i||z(t,0,r,8),n.write(t,e,r,s,52,8),r+8}u.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var s=this.subarray(t,e);return Object.setPrototypeOf(s,u.prototype),s},u.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||S(t,e,this.length);for(var s=this[t],n=1,i=0;++i<e&&(n*=256);)s+=this[t+i]*n;return s},u.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||S(t,e,this.length);for(var s=this[t+--e],n=1;e>0&&(n*=256);)s+=this[t+--e]*n;return s},u.prototype.readUInt8=function(t,e){return t>>>=0,e||S(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||S(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||S(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||S(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||S(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||S(t,e,this.length);for(var s=this[t],n=1,i=0;++i<e&&(n*=256);)s+=this[t+i]*n;return s>=(n*=128)&&(s-=Math.pow(2,8*e)),s},u.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||S(t,e,this.length);for(var s=e,n=1,i=this[t+--s];s>0&&(n*=256);)i+=this[t+--s]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readInt8=function(t,e){return t>>>=0,e||S(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||S(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){t>>>=0,e||S(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||S(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||S(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return t>>>=0,e||S(t,4,this.length),n.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||S(t,4,this.length),n.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||S(t,8,this.length),n.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||S(t,8,this.length),n.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,r,s){(t=+t,e>>>=0,r>>>=0,s)||j(this,t,e,r,Math.pow(2,8*r)-1,0);var n=1,i=0;for(this[e]=255&t;++i<r&&(n*=256);)this[e+i]=t/n&255;return e+r},u.prototype.writeUIntBE=function(t,e,r,s){(t=+t,e>>>=0,r>>>=0,s)||j(this,t,e,r,Math.pow(2,8*r)-1,0);var n=r-1,i=1;for(this[e+n]=255&t;--n>=0&&(i*=256);)this[e+n]=t/i&255;return e+r},u.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeIntLE=function(t,e,r,s){if(t=+t,e>>>=0,!s){var n=Math.pow(2,8*r-1);j(this,t,e,r,n-1,-n)}var i=0,o=1,a=0;for(this[e]=255&t;++i<r&&(o*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/o>>0)-a&255;return e+r},u.prototype.writeIntBE=function(t,e,r,s){if(t=+t,e>>>=0,!s){var n=Math.pow(2,8*r-1);j(this,t,e,r,n-1,-n)}var i=r-1,o=1,a=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/o>>0)-a&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeFloatLE=function(t,e,r){return I(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return I(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return N(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return N(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,s){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),s||0===s||(s=this.length),e>=t.length&&(e=t.length),e||(e=0),s>0&&s<r&&(s=r),s===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),t.length-e<s-r&&(s=t.length-e+r);var n=s-r;if(this===t&&"function"===typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,r,s);else if(this===t&&r<e&&e<s)for(var i=n-1;i>=0;--i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,s),e);return n},u.prototype.fill=function(t,e,r,s){if("string"===typeof t){if("string"===typeof e?(s=e,e=0,r=this.length):"string"===typeof r&&(s=r,r=this.length),void 0!==s&&"string"!==typeof s)throw new TypeError("encoding must be a string");if("string"===typeof s&&!u.isEncoding(s))throw new TypeError("Unknown encoding: "+s);if(1===t.length){var n=t.charCodeAt(0);("utf8"===s&&n<128||"latin1"===s)&&(t=n)}}else"number"===typeof t?t&=255:"boolean"===typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"===typeof t)for(i=e;i<r;++i)this[i]=t;else{var o=u.isBuffer(t)?t:u.from(t,s),a=o.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=o[i%a]}return this};var U=/[^+/0-9A-Za-z-_]/g;function C(t,e){var r;e=e||1/0;for(var s=t.length,n=null,i=[],o=0;o<s;++o){if((r=t.charCodeAt(o))>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(o+1===s){(e-=3)>-1&&i.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(e-=3)>-1&&i.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function L(t){return s.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(U,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function H(t,e,r,s){for(var n=0;n<s&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function W(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function D(t){return t!==t}var q=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var s=16*r,n=0;n<16;++n)e[s+n]=t[r]+t[n];return e}()},783:function(t,e){e.read=function(t,e,r,s,n){var i,o,a=8*n-s-1,u=(1<<a)-1,h=u>>1,l=-7,c=r?n-1:0,p=r?-1:1,d=t[e+c];for(c+=p,i=d&(1<<-l)-1,d>>=-l,l+=a;l>0;i=256*i+t[e+c],c+=p,l-=8);for(o=i&(1<<-l)-1,i>>=-l,l+=s;l>0;o=256*o+t[e+c],c+=p,l-=8);if(0===i)i=1-h;else{if(i===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,s),i-=h}return(d?-1:1)*o*Math.pow(2,i-s)},e.write=function(t,e,r,s,n,i){var o,a,u,h=8*i-n-1,l=(1<<h)-1,c=l>>1,p=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,d=s?0:i-1,f=s?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),(e+=o+c>=1?p/u:p*Math.pow(2,1-c))*u>=2&&(o++,u/=2),o+c>=l?(a=0,o=l):o+c>=1?(a=(e*u-1)*Math.pow(2,n),o+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,n),o=0));n>=8;t[r+d]=255&a,d+=f,a/=256,n-=8);for(o=o<<n|a,h+=n;h>0;t[r+d]=255&o,d+=f,o/=256,h-=8);t[r+d-f]|=128*g}}},r={};function s(t){var n=r[t];if(void 0!==n)return n.exports;var i=r[t]={exports:{}},o=!0;try{e[t](i,i.exports,s),o=!1}finally{o&&delete r[t]}return i.exports}s.ab="//";var n=s(72);t.exports=n}()},8210:function(){},906:function(){},5591:function(){},1163:function(t,e,r){t.exports=r(387)},7568:function(t,e,r){"use strict";function s(t,e,r,s,n,i,o){try{var a=t[i](o),u=a.value}catch(h){return void r(h)}a.done?e(u):Promise.resolve(u).then(s,n)}function n(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){s(o,n,i,a,u,"next",t)}function u(t){s(o,n,i,a,u,"throw",t)}a(void 0)}))}}r.d(e,{Z:function(){return n}})}},function(t){var e=function(e){return t(t.s=e)};t.O(0,[774,179],(function(){return e(1118),e(387)}));var r=t.O();_N_E=r}]);